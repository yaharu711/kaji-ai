import{j as e}from"./jsx-runtime-u17CrQMm.js";import{r as c}from"./iframe-D2BLnYT1.js";import{H as i}from"./index-1b9zBfwo.js";import{m as n,A as z}from"./index-DVbLQ2ub.js";const f="_root_zojd2_1",N="_button_zojd2_7",g="_icon_zojd2_30",H="_count_zojd2_36",v="_burst_zojd2_41",C="_screenBurst_zojd2_49",P="_screenCenter_zojd2_56",B="_screenHeart_zojd2_65",T="_particle_zojd2_74",q="_screenParticle_zojd2_81",t={root:f,button:N,icon:g,count:H,burst:v,screenBurst:C,screenCenter:P,screenHeart:B,particle:T,screenParticle:q};function w({likedByMe:r,likeCount:l,isLiking:d,onLike:x}){const[u,_]=c.useState(0),[y,o]=c.useState(!1),[j,h]=c.useState("local"),p=[{x:-38,y:-52,delay:0},{x:0,y:-64,delay:40},{x:38,y:-52,delay:80},{x:-52,y:8,delay:120},{x:52,y:8,delay:160}],m=[{x:-108,y:-86,delay:0},{x:0,y:-128,delay:40},{x:108,y:-86,delay:80},{x:-132,y:10,delay:120},{x:132,y:10,delay:160},{x:-72,y:108,delay:200},{x:72,y:108,delay:240}],b=()=>{_(s=>s+1),o(!0)};return e.jsxs("div",{className:t.root,children:[e.jsxs(n.button,{type:"button",className:t.button,"aria-label":r?"いいね済み":"いいね",disabled:d,whileTap:{scale:.8},onClick:()=>{d||(h(r?"screen":"local"),b(),r||x())},children:[e.jsx(n.span,{className:t.icon,"aria-hidden":!0,animate:y?{scale:[1,1.4,1]}:{scale:1},transition:{duration:.3},children:e.jsx(i,{variant:r?"solid":"outline",size:"lg"})}),l>0?e.jsx("span",{className:t.count,children:l}):null]}),e.jsx(z,{children:y?j==="screen"?e.jsx("span",{className:t.screenBurst,"aria-hidden":!0,children:e.jsxs("span",{className:t.screenCenter,children:[e.jsx(n.span,{className:t.screenHeart,initial:{scale:4,opacity:0},animate:{scale:[.2,9,1.2],opacity:[0,1,0]},exit:{opacity:0},transition:{duration:.8,ease:"easeOut"},children:e.jsx(i,{variant:"solid",size:"lg"})}),m.map((s,a)=>e.jsx(n.span,{className:[t.particle,t.screenParticle].join(" "),initial:{opacity:1,scale:0,x:0,y:0},animate:{opacity:0,scale:3,x:s.x,y:s.y},exit:{opacity:0},transition:{duration:.8,ease:"easeOut",delay:s.delay/1e3},onAnimationComplete:a===m.length-1?()=>{o(!1)}:void 0,children:e.jsx(i,{variant:"solid",size:"sm"})},a))]})},u):e.jsx("span",{className:t.burst,"aria-hidden":!0,children:p.map((s,a)=>e.jsx(n.span,{className:t.particle,initial:{opacity:1,scale:0,x:0,y:0},animate:{opacity:0,scale:2,x:s.x,y:s.y},exit:{opacity:0},transition:{duration:.8,ease:"easeOut",delay:s.delay/1e3},onAnimationComplete:a===p.length-1?()=>{o(!1)}:void 0,children:e.jsx(i,{variant:"solid",size:"sm"})},a))},u):null})]})}w.__docgenInfo={description:"",methods:[],displayName:"LikeReaction",props:{likedByMe:{required:!0,tsType:{name:"boolean"},description:""},likeCount:{required:!0,tsType:{name:"number"},description:""},isLiking:{required:!0,tsType:{name:"boolean"},description:""},onLike:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{w as L};
