import{j as e}from"./jsx-runtime-u17CrQMm.js";import{P as h}from"./index-D26oWmff.js";import{S as x,a as j}from"./index-DEtdFcwz.js";import{L as N}from"./index-CGGAF4eS.js";import{B as _}from"./index-C_V_yllk.js";import{r as u}from"./iframe-5k-HbUNX.js";import{g as f}from"./index-mUD9DN-0.js";import{C as I}from"./index-BsYLSGUD.js";import{A as C,m as T}from"./index-D_2CzHAS.js";const v="_accordion_1posc_1",k="_accordionSummary_1posc_7",w="_summaryCard_1posc_21",S="_summaryIcons_1posc_35",z="_summaryIcon_1posc_35",L="_summaryText_1posc_58",B="_summaryTitle_1posc_66",D="_summaryHint_1posc_72",g="_summaryHintOpen_1posc_78",H="_summaryChevron_1posc_82",b="_summaryHintClosed_1posc_98",O="_accordionBody_1posc_108",$="_accordionBodyInner_1posc_113",i={accordion:v,accordionSummary:k,summaryCard:w,summaryIcons:S,summaryIcon:z,summaryText:L,summaryTitle:B,summaryHint:D,summaryHintOpen:g,summaryChevron:H,summaryHintClosed:b,accordionBody:O,accordionBodyInner:$};function y({timeLabel:m,items:a}){const n=a.map(s=>s.choreIconCode).slice(0,3),[o,r]=u.useState(!1),[l,c]=u.useState(!1);return e.jsxs("details",{className:i.accordion,open:l,children:[e.jsx("summary",{className:i.accordionSummary,onClick:s=>{if(s.preventDefault(),o){r(!1);return}r(!0),c(!0)},children:e.jsxs("div",{className:i.summaryCard,children:[e.jsx("div",{className:i.summaryIcons,"aria-hidden":!0,children:n.map((s,d)=>e.jsx("span",{className:i.summaryIcon,children:f(s)},`${m}-${s}-${String(d)}`))}),e.jsxs("div",{className:i.summaryText,children:[e.jsxs("p",{className:i.summaryTitle,children:[a.length,"件の討伐"]}),e.jsxs("p",{className:i.summaryHint,children:[e.jsx("span",{className:i.summaryHintClosed,children:"クリックして詳細を表示"}),e.jsx("span",{className:i.summaryHintOpen,children:"詳細を閉じる"})]})]}),e.jsx("span",{className:i.summaryChevron,"aria-hidden":!0,children:e.jsx(I,{size:18})})]})}),e.jsx(C,{initial:!1,onExitComplete:()=>{c(!1)},children:o?e.jsx(T.div,{className:i.accordionBody,initial:{height:0,opacity:0},animate:{height:"auto",opacity:1,transitionDuration:"0.3",transition:{ease:"easeIn"}},exit:{height:0,opacity:0,transitionDuration:"0.3",transition:{ease:"easeOut"}},children:e.jsx("div",{className:i.accordionBodyInner,children:a.map(s=>e.jsx(_,{groupId:s.groupId,beatingId:s.beatingId,date:s.date,choreIconCode:s.choreIconCode,choreName:s.choreName,userName:s.userName,userImageUrl:s.userImageUrl,likeCount:s.likeCount,likedByMe:s.likedByMe,messagedByMe:s.messagedByMe,commentCount:s.commentCount,userRoleLabel:s.userRoleLabel,messages:s.messages},s.id))})}):null})]})}y.__docgenInfo={description:"",methods:[],displayName:"BeatingAccordion",props:{timeLabel:{required:!0,tsType:{name:"string"},description:""},items:{required:!0,tsType:{name:"unknown"},description:""}}};const M="_timeline_iz8kw_1",q="_header_iz8kw_7",A="_title_iz8kw_13",E="_subtitle_iz8kw_19",G="_list_iz8kw_25",P="_listLoading_iz8kw_31",R="_item_iz8kw_35",V="_timeStamp_iz8kw_42",U="_timeText_iz8kw_50",F="_timeDot_iz8kw_57",J="_emptyState_iz8kw_75",K="_emptyIcon_iz8kw_90",Q="_emptyText_iz8kw_97",W="_emptyTitle_iz8kw_103",X="_emptyDescription_iz8kw_109",t={timeline:M,header:q,title:A,subtitle:E,list:G,listLoading:P,item:R,timeStamp:V,timeText:U,timeDot:F,emptyState:J,emptyIcon:K,emptyText:Q,emptyTitle:W,emptyDescription:X};function Y({beatingGroups:m=[],isLoading:a=!1,isToday:n=!0}){const o=m.length>0,r=n?"みんなで協力して家事を討伐しよう！":"この日の討伐記録を見てみよう！",l=n?"まだ討伐記録がありません":"この日の討伐記録がありません",c=n?"右下のボタンから家事を討伐しましょう！":"";return e.jsx(h,{padding:"md",children:e.jsxs("section",{className:t.timeline,"aria-labelledby":"timeline-heading",children:[e.jsxs("div",{className:t.header,children:[e.jsx(x,{size:"md","aria-hidden":!0}),e.jsxs("div",{children:[e.jsx("h2",{id:"timeline-heading",className:t.title,children:"討伐タイムライン"}),e.jsx("p",{className:t.subtitle,children:r})]})]}),a?e.jsx("div",{className:`${t.list} ${t.listLoading}`,role:"status",children:e.jsx(N,{size:"md",ariaLabel:"討伐ログを読み込み中"})}):o?e.jsx("div",{className:t.list,children:m.map(s=>{if(s.items.length===0)return null;if(!(s.items.length>1)){const p=s.items[0];return e.jsxs("div",{className:t.item,children:[e.jsxs("div",{className:t.timeStamp,"aria-label":`討伐時刻 ${s.timeLabel}`,children:[e.jsx("span",{className:t.timeText,children:s.timeLabel}),e.jsx("span",{className:t.timeDot,"aria-hidden":!0})]}),e.jsx(_,{...p})]},p.id)}return e.jsxs("div",{className:t.item,children:[e.jsxs("div",{className:t.timeStamp,"aria-label":`討伐時刻 ${s.timeLabel}`,children:[e.jsx("span",{className:t.timeText,children:s.timeLabel}),e.jsx("span",{className:t.timeDot,"aria-hidden":!0})]}),e.jsx(y,{timeLabel:s.timeLabel,items:s.items})]},s.timeLabel)})}):e.jsxs("div",{className:t.emptyState,role:"status",children:[e.jsx(j,{className:t.emptyIcon,"aria-hidden":!0}),e.jsxs("div",{className:t.emptyText,children:[e.jsx("p",{className:t.emptyTitle,children:l}),e.jsx("p",{className:t.emptyDescription,children:c})]})]})]})})}Y.__docgenInfo={description:"",methods:[],displayName:"GroupTimeline",props:{beatingGroups:{required:!1,tsType:{name:"unknown"},description:"",defaultValue:{value:"[]",computed:!1}},isLoading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isToday:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}}};export{Y as G};
