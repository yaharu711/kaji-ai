import{j as e}from"./jsx-runtime-u17CrQMm.js";import{P as y}from"./index-D26oWmff.js";import{S as x,a as f}from"./index-Cbe7hXxv.js";import{L as j}from"./index-BrOBrL7F.js";import{B as _}from"./index-QMlR8wMB.js";import{r as u}from"./iframe-CdLyeb6m.js";import{g as N}from"./index-BOOW2jKc.js";import{C as I}from"./index-ClPCH5Uf.js";import{A as T,m as v}from"./index-B-1GB-aQ.js";import{c as C}from"./createLucideIcon-B-yWAdHL.js";const q=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],z=C("refresh-cw",q),B="_accordion_1posc_1",S="_accordionSummary_1posc_7",g="_summaryCard_1posc_21",L="_summaryIcons_1posc_35",D="_summaryIcon_1posc_35",M="_summaryText_1posc_58",H="_summaryTitle_1posc_66",k="_summaryHint_1posc_72",w="_summaryHintOpen_1posc_78",b="_summaryChevron_1posc_82",O="_summaryHintClosed_1posc_98",R="_accordionBody_1posc_108",$="_accordionBodyInner_1posc_113",a={accordion:B,accordionSummary:S,summaryCard:g,summaryIcons:L,summaryIcon:D,summaryText:M,summaryTitle:H,summaryHint:k,summaryHintOpen:w,summaryChevron:b,summaryHintClosed:O,accordionBody:R,accordionBodyInner:$};function h({timeLabel:m,items:n}){const c=n.map(t=>t.choreIconCode).slice(0,3),[r,o]=u.useState(!1),[d,l]=u.useState(!1);return e.jsxs("details",{className:a.accordion,open:d,children:[e.jsx("summary",{className:a.accordionSummary,onClick:t=>{if(t.preventDefault(),r){o(!1);return}o(!0),l(!0)},children:e.jsxs("div",{className:a.summaryCard,children:[e.jsx("div",{className:a.summaryIcons,"aria-hidden":!0,children:c.map((t,i)=>e.jsx("span",{className:a.summaryIcon,children:N(t)},`${m}-${t}-${String(i)}`))}),e.jsxs("div",{className:a.summaryText,children:[e.jsxs("p",{className:a.summaryTitle,children:[n.length,"件の討伐"]}),e.jsxs("p",{className:a.summaryHint,children:[e.jsx("span",{className:a.summaryHintClosed,children:"クリックして詳細を表示"}),e.jsx("span",{className:a.summaryHintOpen,children:"詳細を閉じる"})]})]}),e.jsx("span",{className:a.summaryChevron,"aria-hidden":!0,children:e.jsx(I,{size:18})})]})}),e.jsx(T,{initial:!1,onExitComplete:()=>{l(!1)},children:r?e.jsx(v.div,{className:a.accordionBody,initial:{height:0,opacity:0},animate:{height:"auto",opacity:1,transitionDuration:"0.3",transition:{ease:"easeIn"}},exit:{height:0,opacity:0,transitionDuration:"0.3",transition:{ease:"easeOut"}},children:e.jsx("div",{className:a.accordionBodyInner,children:n.map(t=>e.jsx(_,{groupId:t.groupId,beatingId:t.beatingId,date:t.date,choreIconCode:t.choreIconCode,choreName:t.choreName,userName:t.userName,userImageUrl:t.userImageUrl,likeCount:t.likeCount,likedByMe:t.likedByMe,messagedByMe:t.messagedByMe,commentCount:t.commentCount,userRoleLabel:t.userRoleLabel,isMyBeating:t.isMyBeating,messages:t.messages},t.id))})}):null})]})}h.__docgenInfo={description:"",methods:[],displayName:"BeatingAccordion",props:{timeLabel:{required:!0,tsType:{name:"string"},description:""},items:{required:!0,tsType:{name:"unknown"},description:""}}};const A="_timeline_1q5tz_1",V="_header_1q5tz_7",E="_headerMain_1q5tz_14",G="_headerText_1q5tz_21",P="_titleRow_1q5tz_29",U="_title_1q5tz_29",F="_refreshButton_1q5tz_42",J="_refreshIcon_1q5tz_73",K="_refreshIconSpinning_1q5tz_77",Q="_list_1q5tz_88",W="_listLoading_1q5tz_94",X="_item_1q5tz_98",Y="_timeStamp_1q5tz_105",Z="_timeText_1q5tz_113",ee="_timeDot_1q5tz_120",se="_emptyState_1q5tz_138",te="_emptyIcon_1q5tz_153",ae="_emptyText_1q5tz_160",ie="_emptyTitle_1q5tz_166",ne="_emptyDescription_1q5tz_172",s={timeline:A,header:V,headerMain:E,headerText:G,titleRow:P,title:U,refreshButton:F,refreshIcon:J,refreshIconSpinning:K,list:Q,listLoading:W,item:X,timeStamp:Y,timeText:Z,timeDot:ee,emptyState:se,emptyIcon:te,emptyText:ae,emptyTitle:ie,emptyDescription:ne};function re({beatingGroups:m=[],isLoading:n=!1,isToday:c=!0,isRefreshing:r=!1,onRefresh:o}){const d=m.length>0,l=c?"まだ討伐記録がありません":"この日の討伐記録がありません",t=c?"右下のボタンから家事を討伐しましょう！":"";return e.jsx(y,{padding:"md",children:e.jsxs("section",{className:s.timeline,"aria-labelledby":"timeline-heading",children:[e.jsx("div",{className:s.header,children:e.jsxs("div",{className:s.headerMain,children:[e.jsx(x,{size:"md","aria-hidden":!0}),e.jsx("div",{className:s.headerText,children:e.jsxs("div",{className:s.titleRow,children:[e.jsx("h2",{id:"timeline-heading",className:s.title,children:"討伐タイムライン"}),e.jsxs("button",{type:"button",className:s.refreshButton,onClick:o,disabled:!o||n||r,"aria-label":"討伐タイムラインを更新",children:[e.jsx(z,{size:16,className:r?s.refreshIconSpinning:s.refreshIcon}),"更新"]})]})})]})}),n?e.jsx("div",{className:`${s.list} ${s.listLoading}`,role:"status",children:e.jsx(j,{size:"md",ariaLabel:"討伐ログを読み込み中"})}):d?e.jsx("div",{className:s.list,children:m.map(i=>{if(i.items.length===0)return null;if(!(i.items.length>1)){const p=i.items[0];return e.jsxs("div",{className:s.item,children:[e.jsxs("div",{className:s.timeStamp,"aria-label":`討伐時刻 ${i.timeLabel}`,children:[e.jsx("span",{className:s.timeText,children:i.timeLabel}),e.jsx("span",{className:s.timeDot,"aria-hidden":!0})]}),e.jsx(_,{...p})]},p.id)}return e.jsxs("div",{className:s.item,children:[e.jsxs("div",{className:s.timeStamp,"aria-label":`討伐時刻 ${i.timeLabel}`,children:[e.jsx("span",{className:s.timeText,children:i.timeLabel}),e.jsx("span",{className:s.timeDot,"aria-hidden":!0})]}),e.jsx(h,{timeLabel:i.timeLabel,items:i.items})]},i.timeLabel)})}):e.jsxs("div",{className:s.emptyState,role:"status",children:[e.jsx(f,{className:s.emptyIcon,"aria-hidden":!0}),e.jsxs("div",{className:s.emptyText,children:[e.jsx("p",{className:s.emptyTitle,children:l}),e.jsx("p",{className:s.emptyDescription,children:t})]})]})]})})}re.__docgenInfo={description:"",methods:[],displayName:"GroupTimeline",props:{beatingGroups:{required:!1,tsType:{name:"unknown"},description:"",defaultValue:{value:"[]",computed:!1}},isLoading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isToday:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},isRefreshing:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onRefresh:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{re as G};
