import{j as e}from"./jsx-runtime-u17CrQMm.js";import{P}from"./index-CL1Zaf3o.js";import{L as b,N as g}from"./chunk-JMJ3UQ3L-cMYYwAMf.js";import{U as M}from"./user-Fzqz4bxW.js";import{c as m}from"./createLucideIcon-DAmjF4QE.js";const N=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],x=m("crown",N);const h=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],j=m("users",h),f="_actionLink_jcm60_1",y={actionLink:f};function u({to:a,icon:o,pageName:n}){return e.jsxs(b,{to:a,className:y.actionLink,children:[o,`${n}に移動`]})}u.__docgenInfo={description:"",methods:[],displayName:"ActionLink",props:{to:{required:!0,tsType:{name:"string"},description:""},icon:{required:!1,tsType:{name:"ReactNode"},description:""},pageName:{required:!0,tsType:{name:"string"},description:""}}};const w="_userPopoverContent_r3g9t_1",T="_userPopoverProfile_r3g9t_6",S="_userPopoverProfileMain_r3g9t_20",q="_userPopoverAvatar_r3g9t_26",k="_userPopoverText_r3g9t_46",A="_userPopoverName_r3g9t_52",I="_userPopoverStatus_r3g9t_59",L="_userPopoverStatusDot_r3g9t_67",R="_userPopoverBody_r3g9t_75",C="_userPopoverSection_r3g9t_79",H="_userPopoverMembers_r3g9t_86",B="_userPopoverMember_r3g9t_86",D="_userPopoverMemberAvatar_r3g9t_104",$="_memberTonePink_r3g9t_123",z="_userPopoverMemberInfo_r3g9t_135",O="_userPopoverMemberHeading_r3g9t_141",G="_userPopoverMemberName_r3g9t_147",W="_userPopoverMemberRole_r3g9t_152",U="_userPopoverMemberStatus_r3g9t_158",E="_userPopoverMemberStatusDot_r3g9t_166",F="_userPopoverMemberOwner_r3g9t_174",J="_userPopoverMemberCrown_r3g9t_186",r={userPopoverContent:w,userPopoverProfile:T,userPopoverProfileMain:S,userPopoverAvatar:q,userPopoverText:k,userPopoverName:A,userPopoverStatus:I,userPopoverStatusDot:L,userPopoverBody:R,userPopoverSection:C,userPopoverMembers:H,userPopoverMember:B,userPopoverMemberAvatar:D,memberTonePink:$,userPopoverMemberInfo:z,userPopoverMemberHeading:O,userPopoverMemberName:G,userPopoverMemberRole:W,userPopoverMemberStatus:U,userPopoverMemberStatusDot:E,userPopoverMemberOwner:F,userPopoverMemberCrown:J},c=a=>a?.trim().charAt(0)??"?";function v({groupName:a,currentUser:o,members:n}){return e.jsxs("div",{className:r.userPopoverContent,children:[e.jsxs("div",{className:r.userPopoverProfile,children:[e.jsxs("div",{className:r.userPopoverProfileMain,children:[e.jsx("div",{className:r.userPopoverAvatar,children:o.image?e.jsx("img",{src:o.image,alt:`${o.name??""}のアイコン`}):c(o.name)}),e.jsxs("div",{className:r.userPopoverText,children:[e.jsx("p",{className:r.userPopoverName,children:o.name??"未設定"}),e.jsxs("div",{className:r.userPopoverStatus,children:[e.jsx("span",{className:r.userPopoverStatusDot}),"ログイン中"]})]})]}),o.id?e.jsx(u,{to:`/users/${o.id}`,icon:e.jsx(M,{size:18}),pageName:"プロフィール"}):null]}),e.jsxs("div",{className:r.userPopoverBody,children:[e.jsx("p",{className:r.userPopoverSection,children:`${a}のメンバー`}),e.jsx("ul",{className:r.userPopoverMembers,children:n.map(s=>{const i=s.is_owner;return e.jsxs("li",{className:[r.userPopoverMember,i?r.userPopoverMemberOwner:""].filter(Boolean).join(" "),children:[e.jsxs("span",{className:[r.userPopoverMemberAvatar,r.memberTonePink].filter(Boolean).join(" "),children:[s.image_url?e.jsx("img",{src:s.image_url,alt:`${s.name??""}のアイコン`}):c(s.name),i?e.jsx("span",{className:r.userPopoverMemberCrown,"aria-hidden":"true",children:e.jsx(x,{size:12})}):null]}),e.jsxs("div",{className:r.userPopoverMemberInfo,children:[e.jsxs("div",{className:r.userPopoverMemberHeading,children:[e.jsx("span",{className:r.userPopoverMemberName,children:s.name??"未設定"}),i?e.jsx("span",{className:r.userPopoverMemberRole,children:"オーナー"}):null]}),s.is_invited?e.jsxs("div",{className:r.userPopoverMemberStatus,children:[e.jsx("span",{className:r.userPopoverMemberStatusDot}),"招待中"]}):null]})]},s.id)})})]})]})}v.__docgenInfo={description:"",methods:[],displayName:"UserPopoverContent",props:{groupName:{required:!0,tsType:{name:"string"},description:""},currentUser:{required:!0,tsType:{name:"AppSessionUser"},description:""},members:{required:!0,tsType:{name:"Array",elements:[{name:"GroupMember"}],raw:"GroupMember[]"},description:""}}};const K="_header_1q4td_1",Q="_topRow_1q4td_11",V="_brand_1q4td_18",X="_brandText_1q4td_24",Y="_iconWrap_1q4td_31",Z="_appName_1q4td_48",ee="_userTrigger_1q4td_66",re="_bottomRow_1q4td_95",oe="_nav_1q4td_104",se="_navItem_1q4td_124",te="_navItemActive_1q4td_143",t={header:K,topRow:Q,brand:V,brandText:X,iconWrap:Y,appName:Z,userTrigger:ee,bottomRow:re,nav:oe,navItem:se,navItemActive:te};function ae({navItems:a,groupName:o,currentUser:n,members:s}){const i=o&&n&&s&&s.length>0?e.jsx(v,{groupName:o,currentUser:n,members:s}):null,d=!!i;return e.jsxs("header",{className:t.header,children:[e.jsxs("div",{className:t.topRow,children:[e.jsxs("div",{className:t.brand,children:[e.jsx("span",{className:t.iconWrap,children:e.jsx("img",{src:"https://kaji-ai.s3.ap-northeast-1.amazonaws.com/favicon.svg",alt:"アプリのアイコン"})}),e.jsx("div",{className:t.brandText,children:e.jsx("span",{className:t.appName,children:"カジアイ"})})]}),e.jsx(P,{trigger:e.jsxs("button",{type:"button",className:t.userTrigger,"aria-label":"ユーザー情報を開く",disabled:!d,children:[e.jsx(j,{size:18}),e.jsx("span",{children:"メンバー"})]}),ariaLabel:"ユーザー情報",content:i,size:"md",radius:"xl",variant:"soft",side:"bottom",align:"end"})]}),e.jsx("div",{className:t.bottomRow,children:e.jsx("nav",{className:t.nav,"aria-label":"ページナビゲーション",children:a.map(p=>{const l=p.icon;return e.jsxs(g,{to:p.to,state:p.state,className:({isActive:_})=>[t.navItem,p.isActive??_?t.navItemActive:""].filter(Boolean).join(" "),children:[e.jsx(l,{size:17}),p.label]},p.to)})})})]})}ae.__docgenInfo={description:"",methods:[],displayName:"Header",props:{navItems:{required:!0,tsType:{name:"Array",elements:[{name:"HeaderNavItem"}],raw:"HeaderNavItem[]"},description:""},groupName:{required:!1,tsType:{name:"string"},description:""},currentUser:{required:!1,tsType:{name:"AppSessionUser"},description:""},members:{required:!1,tsType:{name:"Array",elements:[{name:"GroupMember"}],raw:"GroupMember[]"},description:""}}};export{ae as H};
