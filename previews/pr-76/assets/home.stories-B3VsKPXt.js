import{j as e}from"./jsx-runtime-u17CrQMm.js";import{u as q,f as G,a as O,c as E,A as L,h as R,Q as B,b as z,H as V}from"./index-CcCxOdtS.js";import{E as F}from"./index-CUeGpqXW.js";import{r as u}from"./iframe-BFpUt2Ft.js";import{c as f}from"./createLucideIcon-Bv2i0X2G.js";import{S as Q}from"./settings-DDzBblan.js";import{P as J}from"./index-QWo0TafW.js";import"./index-rUXEnWgN.js";import{H as U}from"./index-tqX_umEs.js";import"./index-BKtDPDeF.js";import"./index-BIlyTv1W.js";import{L as K}from"./index-B2FEjMfy.js";import"./index-DvAfEWza.js";import"./index-BHt2brhR.js";import"./index-BtcDOZuj.js";import"./index-CwYeEoek.js";import{D as v}from"./index-CK818EwY.js";import{a as x,S as I}from"./index-DweIe4J1.js";import{u as Y}from"./useErrorModal-ZFFJB5uO.js";import"./preload-helper-PPVm8Dsz.js";import"./index-CwYQVRRj.js";import"./Combination-BBmQK547.js";import"./index-DgJt2n1s.js";import"./index-D7NNeRh7.js";import"./x-MIf2ZtXp.js";import"./chunk-JMJ3UQ3L-DEq-Qu7G.js";import"./index-BaA7EuQc.js";import"./check-C7SD2YRI.js";const Z=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],W=f("chart-column",Z);const X=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],ee=f("clipboard-list",X);const te=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]],oe=f("clock-3",te);const re=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],ne=f("house",re),T=u.createContext(null);function w({value:t,children:n}){return e.jsx(T.Provider,{value:t,children:n})}function se(){const t=u.useContext(T);if(!t)throw new Error("GroupLayoutProvider ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚ã‚°ãƒ«ãƒ¼ãƒ—é…ä¸‹ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã§ãƒ©ãƒƒãƒ—ã—ã¦ãã ã•ã„ã€‚");return t}w.__docgenInfo={description:"",methods:[],displayName:"GroupLayoutProvider",props:{value:{required:!0,tsType:{name:"GroupLayoutValue"},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const ae=(t,n,r)=>{const o=`/groups/${t}`,s={groupName:n};return[{label:"ãƒ›ãƒ¼ãƒ ",to:o,icon:ne,isActive:r===o,state:s},{label:"ãƒ¬ãƒãƒ¼ãƒˆ",to:`${o}/reports`,icon:W,isActive:r===`${o}/reports`,state:s},{label:"å®¶äº‹",to:`${o}/chores`,icon:ee,isActive:r===`${o}/chores`,state:s},{label:"è¨­å®š",to:`${o}/settings`,icon:Q,isActive:r===`${o}/settings`,state:s}]},ie="_floatingAction_jf9xz_1",ce={floatingAction:ie},de="_form_1tqiv_1",le="_section_1tqiv_7",me="_sectionHeader_1tqiv_13",ue="_sectionIcon_1tqiv_22",d={form:de,section:le,sectionHeader:me,sectionIcon:ue},g=t=>`${String(t)}æ™‚`,k=t=>{const r=new Intl.DateTimeFormat("ja-JP",{timeZone:"Asia/Tokyo",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",hour12:!1}).formatToParts(t),o=s=>r.find(a=>a.type===s)?.value??"";return{year:o("year"),month:o("month"),day:o("day"),hour:o("hour")}},pe=Array.from({length:24},(t,n)=>{const r=g(n),o=g((n+1)%24),s=`${r}ã€œ${o}`;return{value:s,label:s}}),j=()=>{const t=new Date,n=k(t).hour,r=Number(n),o=Number.isNaN(r)?t.getHours():r,s=g(o),a=g((o+1)%24);return`${s}ã€œ${a}`},he=t=>{const n=/^(\d{1,2})æ™‚ã€œ/.exec(t);if(!n)return null;const r=Number(n[1]);return Number.isNaN(r)||r<0||r>23?null:r};function P({open:t,onOpenChange:n,choreOptions:r,choresLoading:o=!1,isSubmitting:s=!1,onSubmit:a}){const[l,p]=u.useState(void 0),[c,h]=u.useState(j),$=!l||s,b=k(new Date),A=`æœ¬æ—¥ ${`${b.month}æœˆ${b.day}æ—¥`}ã®è¨Žä¼ã¨ã—ã¦è¨˜éŒ²ã•ã‚Œã¾ã™ï¼`,M=()=>{p(void 0),h(j())},_=m=>{m||M(),n(m)},D=async()=>{if(!l||s)return;const m=he(c);if(m!==null)try{await a({choreId:Number(l),startHour:m}),_(!1)}catch{}};return e.jsx(U,{open:t,onOpenChange:_,title:"å®¶äº‹ã‚’è¨Žä¼ã™ã‚‹",headerIcon:e.jsx(I,{size:"sm","aria-hidden":!0}),primaryActionLabel:"è¨Žä¼å®Œäº†",secondaryActionLabel:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«",primaryActionDisabled:$,onPrimaryAction:()=>{D()},onSecondaryAction:()=>{_(!1)},children:e.jsxs("div",{className:d.form,children:[e.jsxs("section",{className:d.section,"aria-labelledby":"chore-select-heading",children:[e.jsxs("div",{id:"chore-select-heading",className:d.sectionHeader,children:[e.jsx(x,{className:d.sectionIcon,"aria-hidden":!0}),e.jsx("span",{children:"è¨Žä¼ã™ã‚‹å®¶äº‹ã‚’é¸æŠž"})]}),e.jsx(v,{placeholder:"å®¶äº‹ã‚’é¸æŠžã—ã‚ˆã†ï¼",emptyMessage:o?e.jsx(K,{size:"md",ariaLabel:"å®¶äº‹ã‚’èª­ã¿è¾¼ã¿ä¸­"}):"è¨Žä¼ã™ã‚‹å®¶äº‹ãŒã‚ã‚Šã¾ã›ã‚“ã€ã€ï¼",options:r,value:l,onChange:p,disabled:o})]}),e.jsxs("section",{className:d.section,"aria-labelledby":"battle-time-heading",children:[e.jsxs("div",{id:"battle-time-heading",className:d.sectionHeader,children:[e.jsx(oe,{className:d.sectionIcon,"aria-hidden":!0}),e.jsx("span",{children:"è¨Žä¼æ™‚åˆ»"})]}),e.jsx(v,{options:pe,value:c,onChange:h,helperText:A,helperTextVariant:"notice"})]})]})})}P.__docgenInfo={description:"",methods:[],displayName:"ChoreBeatingModal",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},choreOptions:{required:!0,tsType:{name:"Array",elements:[{name:"DropdownOption"}],raw:"DropdownOption[]"},description:""},choresLoading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isSubmitting:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"(payload: { choreId: number; startHour: number }) => Promise<void>",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ choreId: number; startHour: number }",signature:{properties:[{key:"choreId",value:{name:"number",required:!0}},{key:"startHour",value:{name:"number",required:!0}}]}},name:"payload"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""}}};const ye=t=>["groups",t,"chores"],ge=t=>{const n=t??"";return q({queryKey:ye(n),queryFn:()=>G({groupId:n}),enabled:!!t})},fe={"dish-wash":"ðŸ½ï¸",cleaning:"ðŸ§¹",laundry:"ðŸ‘•",cooking:"ðŸ³",trash:"ðŸ—‘ï¸",shopping:"ðŸ›’","bath-cleaning":"ðŸ›","toilet-cleaning":"ðŸš½"},_e=t=>fe[t],xe=t=>{const r=new Intl.DateTimeFormat("ja-JP",{timeZone:"Asia/Tokyo",year:"numeric",month:"2-digit",day:"2-digit"}).formatToParts(t),o=s=>r.find(a=>a.type===s)?.value??"";return{year:o("year"),month:o("month"),day:o("day")}},be=t=>{const{year:n,month:r,day:o}=xe(new Date),s=String(t).padStart(2,"0");return`${n}-${r}-${o}T${s}:00:00+09:00`},ve=()=>{const{showError:t,closeError:n,getModalMessage:r}=Y();return O({mutationFn:({groupId:o,choreId:s,startHour:a})=>E({groupId:o,chore_id:s,beated_at:be(a)}),onSuccess:()=>{n()},onError:o=>{const s=o instanceof L?o.status:void 0,a=o instanceof Error&&o.message?o.message:"è¨Žä¼è¨˜éŒ²ã®ä½œæˆã«å¤±æ•—ã—ã¾ã—ãŸ";t({title:"è¨Žä¼ã‚¨ãƒ©ãƒ¼",message:s?r(s):a})}})},je="_timeline_g4o4o_1",Ne="_header_g4o4o_7",Ce="_title_g4o4o_13",Ie="_subtitle_g4o4o_19",Te="_emptyState_g4o4o_25",we="_emptyIcon_g4o4o_40",ke="_emptyText_g4o4o_47",Pe="_emptyTitle_g4o4o_53",Se="_emptyDescription_g4o4o_59",i={timeline:je,header:Ne,title:Ce,subtitle:Ie,emptyState:Te,emptyIcon:we,emptyText:ke,emptyTitle:Pe,emptyDescription:Se};function S(){return e.jsx(J,{padding:"md",children:e.jsxs("section",{className:i.timeline,"aria-labelledby":"timeline-heading",children:[e.jsxs("div",{className:i.header,children:[e.jsx(I,{size:"md","aria-hidden":!0}),e.jsxs("div",{children:[e.jsx("h2",{id:"timeline-heading",className:i.title,children:"è¨Žä¼ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³"}),e.jsx("p",{className:i.subtitle,children:"ã¿ã‚“ãªã§å”åŠ›ã—ã¦å®¶äº‹ã‚’è¨Žä¼ã—ã‚ˆã†ï¼"})]})]}),e.jsxs("div",{className:i.emptyState,role:"status",children:[e.jsx(x,{className:i.emptyIcon,"aria-hidden":!0}),e.jsxs("div",{className:i.emptyText,children:[e.jsx("p",{className:i.emptyTitle,children:"ã¾ã è¨Žä¼è¨˜éŒ²ãŒã‚ã‚Šã¾ã›ã‚“"}),e.jsx("p",{className:i.emptyDescription,children:"å³ä¸‹ã®ãƒœã‚¿ãƒ³ã‹ã‚‰å®¶äº‹ã‚’è¨Žä¼ã—ã¾ã—ã‚‡ã†ï¼"})]})]})]})})}S.__docgenInfo={description:"",methods:[],displayName:"GroupTimeline"};function H(){const{groupId:t}=se(),[n,r]=u.useState(!1),{data:o,isLoading:s}=ge(t),{mutateAsync:a,isPending:l}=ve(),p=o?.map(c=>({value:String(c.id),label:c.name,icon:e.jsx("span",{"aria-hidden":!0,children:_e(c.icon_code)})}))??[];return e.jsxs(e.Fragment,{children:[e.jsx(P,{open:n,onOpenChange:r,choreOptions:p,choresLoading:s,isSubmitting:l,onSubmit:async({choreId:c,startHour:h})=>{t&&await a({groupId:t,choreId:c,startHour:h})}}),e.jsx(S,{}),e.jsx("button",{type:"button",className:ce.floatingAction,"aria-label":"ãƒãƒˆãƒ«ã‚’é–‹ã","aria-haspopup":"dialog",onClick:()=>{r(!0)},children:e.jsx(x,{size:30})})]})}H.__docgenInfo={description:"",methods:[],displayName:"GroupHomePage"};const N="group-1",C="æ°¸äº•å®¶",He={id:"user-1",name:"å±±ç”° èŠ±å­",email:"hanako@example.com",image:null},$e=[{id:1,name:"é£Ÿå™¨æ´—ã„",icon_code:"dish-wash"},{id:2,name:"æŽƒé™¤",icon_code:"cleaning"},{id:3,name:"æ´—æ¿¯",icon_code:"laundry"}],ct={component:H,parameters:{layout:"fullscreen",msw:{handlers:[R.get(/\/api\/groups\/[^/]+\/chores$/,()=>V.json($e))]}},decorators:[t=>{const n=new B({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});return e.jsx(z,{client:n,children:e.jsx(F,{children:e.jsx(w,{value:{groupId:N,groupName:C,navItems:ae(N,C),currentUser:He},children:e.jsx(t,{})})})})}]},y={};y.parameters={...y.parameters,docs:{...y.parameters?.docs,source:{originalSource:"{}",...y.parameters?.docs?.source}}};const dt=["Default"];export{y as Default,dt as __namedExportsOrder,ct as default};
