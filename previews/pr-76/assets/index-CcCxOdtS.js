import{s as We,c as Ve,R as Je,d as Y,t as Ye,g as Ze,i as Xe,n as Q,a as et,r as T}from"./iframe-BFpUt2Ft.js";import{j as tt}from"./jsx-runtime-u17CrQMm.js";function st(e,t){return e.toLowerCase()===t.toLowerCase()}function rt(e){return e<300?"#69AB32":e<400?"#F0BB4B":"#E95F5D"}async function it(e){const s=await e.clone().text();return{url:new URL(e.url),method:e.method,headers:Object.fromEntries(e.headers.entries()),body:s}}const{message:nt}=We;async function at(e){const t=e.clone(),s=await t.text(),r=t.status||200,i=t.statusText||nt[r]||"OK";return{status:r,statusText:i,headers:Object.fromEntries(t.headers.entries()),body:s}}function ot(e){for(var t=[],s=0;s<e.length;){var r=e[s];if(r==="*"||r==="+"||r==="?"){t.push({type:"MODIFIER",index:s,value:e[s++]});continue}if(r==="\\"){t.push({type:"ESCAPED_CHAR",index:s++,value:e[s++]});continue}if(r==="{"){t.push({type:"OPEN",index:s,value:e[s++]});continue}if(r==="}"){t.push({type:"CLOSE",index:s,value:e[s++]});continue}if(r===":"){for(var i="",n=s+1;n<e.length;){var a=e.charCodeAt(n);if(a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122||a===95){i+=e[n++];continue}break}if(!i)throw new TypeError("Missing parameter name at ".concat(s));t.push({type:"NAME",index:s,value:i}),s=n;continue}if(r==="("){var o=1,l="",n=s+1;if(e[n]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(n));for(;n<e.length;){if(e[n]==="\\"){l+=e[n++]+e[n++];continue}if(e[n]===")"){if(o--,o===0){n++;break}}else if(e[n]==="("&&(o++,e[n+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(n));l+=e[n++]}if(o)throw new TypeError("Unbalanced pattern at ".concat(s));if(!l)throw new TypeError("Missing pattern at ".concat(s));t.push({type:"PATTERN",index:s,value:l}),s=n;continue}t.push({type:"CHAR",index:s,value:e[s++]})}return t.push({type:"END",index:s,value:""}),t}function ut(e,t){t===void 0&&(t={});for(var s=ot(e),r=t.prefixes,i=r===void 0?"./":r,n=t.delimiter,a=n===void 0?"/#?":n,o=[],l=0,f=0,c="",y=function(O){if(f<s.length&&s[f].type===O)return s[f++].value},d=function(O){var C=y(O);if(C!==void 0)return C;var x=s[f],J=x.type,Ge=x.index;throw new TypeError("Unexpected ".concat(J," at ").concat(Ge,", expected ").concat(O))},h=function(){for(var O="",C;C=y("CHAR")||y("ESCAPED_CHAR");)O+=C;return O},p=function(O){for(var C=0,x=a;C<x.length;C++){var J=x[C];if(O.indexOf(J)>-1)return!0}return!1},u=function(O){var C=o[o.length-1],x=O||(C&&typeof C=="string"?C:"");if(C&&!x)throw new TypeError('Must have text between two parameters, missing text after "'.concat(C.name,'"'));return!x||p(x)?"[^".concat(D(a),"]+?"):"(?:(?!".concat(D(x),")[^").concat(D(a),"])+?")};f<s.length;){var v=y("CHAR"),g=y("NAME"),m=y("PATTERN");if(g||m){var w=v||"";i.indexOf(w)===-1&&(c+=w,w=""),c&&(o.push(c),c=""),o.push({name:g||l++,prefix:w,suffix:"",pattern:m||u(w),modifier:y("MODIFIER")||""});continue}var b=v||y("ESCAPED_CHAR");if(b){c+=b;continue}c&&(o.push(c),c="");var E=y("OPEN");if(E){var w=h(),A=y("NAME")||"",P=y("PATTERN")||"",S=h();d("CLOSE"),o.push({name:A||(P?l++:""),pattern:A&&!P?u(w):P,prefix:w,suffix:S,modifier:y("MODIFIER")||""});continue}d("END")}return o}function ct(e,t){var s=[],r=Pe(e,s,t);return ht(r,s,t)}function ht(e,t,s){s===void 0&&(s={});var r=s.decode,i=r===void 0?function(n){return n}:r;return function(n){var a=e.exec(n);if(!a)return!1;for(var o=a[0],l=a.index,f=Object.create(null),c=function(d){if(a[d]===void 0)return"continue";var h=t[d-1];h.modifier==="*"||h.modifier==="+"?f[h.name]=a[d].split(h.prefix+h.suffix).map(function(p){return i(p,h)}):f[h.name]=i(a[d],h)},y=1;y<a.length;y++)c(y);return{path:o,index:l,params:f}}}function D(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function Re(e){return e&&e.sensitive?"":"i"}function lt(e,t){if(!t)return e;for(var s=/\((?:\?<(.*?)>)?(?!\?)/g,r=0,i=s.exec(e.source);i;)t.push({name:i[1]||r++,prefix:"",suffix:"",modifier:"",pattern:""}),i=s.exec(e.source);return e}function ft(e,t,s){var r=e.map(function(i){return Pe(i,t,s).source});return new RegExp("(?:".concat(r.join("|"),")"),Re(s))}function dt(e,t,s){return pt(ut(e,s),t,s)}function pt(e,t,s){s===void 0&&(s={});for(var r=s.strict,i=r===void 0?!1:r,n=s.start,a=n===void 0?!0:n,o=s.end,l=o===void 0?!0:o,f=s.encode,c=f===void 0?function(C){return C}:f,y=s.delimiter,d=y===void 0?"/#?":y,h=s.endsWith,p=h===void 0?"":h,u="[".concat(D(p),"]|$"),v="[".concat(D(d),"]"),g=a?"^":"",m=0,w=e;m<w.length;m++){var b=w[m];if(typeof b=="string")g+=D(c(b));else{var E=D(c(b.prefix)),A=D(c(b.suffix));if(b.pattern)if(t&&t.push(b),E||A)if(b.modifier==="+"||b.modifier==="*"){var P=b.modifier==="*"?"?":"";g+="(?:".concat(E,"((?:").concat(b.pattern,")(?:").concat(A).concat(E,"(?:").concat(b.pattern,"))*)").concat(A,")").concat(P)}else g+="(?:".concat(E,"(").concat(b.pattern,")").concat(A,")").concat(b.modifier);else{if(b.modifier==="+"||b.modifier==="*")throw new TypeError('Can not repeat "'.concat(b.name,'" without a prefix and suffix'));g+="(".concat(b.pattern,")").concat(b.modifier)}else g+="(?:".concat(E).concat(A,")").concat(b.modifier)}}if(l)i||(g+="".concat(v,"?")),g+=s.endsWith?"(?=".concat(u,")"):"$";else{var S=e[e.length-1],O=typeof S=="string"?v.indexOf(S[S.length-1])>-1:S===void 0;i||(g+="(?:".concat(v,"(?=").concat(u,"))?")),O||(g+="(?=".concat(v,"|").concat(u,")"))}return new RegExp(g,Re(s))}function Pe(e,t,s){return e instanceof RegExp?lt(e,t):Array.isArray(e)?ft(e,t,s):dt(e,t,s)}new TextEncoder;function yt(e){try{return new URL(e),!0}catch{return!1}}function le(e,t){const r=Object.getOwnPropertySymbols(t).find(i=>i.description===e);if(r)return Reflect.get(t,r)}var N=class extends Response{static isConfigurableStatusCode(e){return e>=200&&e<=599}static isRedirectResponse(e){return N.STATUS_CODES_WITH_REDIRECT.includes(e)}static isResponseWithBody(e){return!N.STATUS_CODES_WITHOUT_BODY.includes(e)}static setUrl(e,t){if(!e||e==="about:"||!yt(e))return;const s=le("state",t);s?s.urlList.push(new URL(e)):Object.defineProperty(t,"url",{value:e,enumerable:!0,configurable:!0,writable:!1})}static parseRawHeaders(e){const t=new Headers;for(let s=0;s<e.length;s+=2)t.append(e[s],e[s+1]);return t}constructor(e,t={}){var s;const r=(s=t.status)!=null?s:200,i=N.isConfigurableStatusCode(r)?r:200,n=N.isResponseWithBody(r)?e:null;if(super(n,{status:i,statusText:t.statusText,headers:t.headers}),r!==i){const a=le("state",this);a?a.status=r:Object.defineProperty(this,"status",{value:r,enumerable:!0,configurable:!0,writable:!1})}N.setUrl(t.url,this)}},ne=N;ne.STATUS_CODES_WITHOUT_BODY=[101,103,204,205,304];ne.STATUS_CODES_WITH_REDIRECT=[301,302,303,307,308];function mt(e,t=!0){return[t&&e.origin,e.pathname].filter(Boolean).join("")}const vt=/[?|#].*$/g;function xe(e){return e.endsWith("?")?e:e.replace(vt,"")}function gt(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function bt(e,t){if(gt(e)||e.startsWith("*"))return e;const s=t||typeof location<"u"&&location.href;return s?decodeURI(new URL(encodeURI(e),s).href):e}function wt(e,t){if(e instanceof RegExp)return e;const s=bt(e,t);return xe(s)}function Ct(e){return e.replace(/([:a-zA-Z_-]*)(\*{1,2})+/g,(t,s,r)=>{const i="(.*)";return s?s.startsWith(":")?`${s}${r}`:`${s}${i}`:i}).replace(/([^/])(:)(?=\d+)/,"$1\\$2").replace(/^([^/]+)(:)(?=\/\/)/,"$1\\$2")}function St(e,t,s){const r=wt(t,s),i=typeof r=="string"?Ct(r):r,n=mt(e),a=ct(i,{decode:decodeURIComponent})(n),o=a&&a.params||{};return{matches:a!==!1,params:o}}var Ot=Object.create,Te=Object.defineProperty,Et=Object.getOwnPropertyDescriptor,Ae=Object.getOwnPropertyNames,Rt=Object.getPrototypeOf,Pt=Object.prototype.hasOwnProperty,xt=(e,t)=>function(){return t||(0,e[Ae(e)[0]])((t={exports:{}}).exports,t),t.exports},Tt=(e,t,s,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Ae(t))!Pt.call(e,i)&&i!==s&&Te(e,i,{get:()=>t[i],enumerable:!(r=Et(t,i))||r.enumerable});return e},At=(e,t,s)=>(s=e!=null?Ot(Rt(e)):{},Tt(Te(s,"default",{value:e,enumerable:!0}),e)),It=xt({"node_modules/.pnpm/cookie@1.0.2/node_modules/cookie/dist/index.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parse=o,e.serialize=c;var t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,s=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,n=Object.prototype.toString,a=(()=>{const h=function(){};return h.prototype=Object.create(null),h})();function o(h,p){const u=new a,v=h.length;if(v<2)return u;const g=p?.decode||y;let m=0;do{const w=h.indexOf("=",m);if(w===-1)break;const b=h.indexOf(";",m),E=b===-1?v:b;if(w>E){m=h.lastIndexOf(";",w-1)+1;continue}const A=l(h,m,w),P=f(h,w,A),S=h.slice(A,P);if(u[S]===void 0){let O=l(h,w+1,E),C=f(h,E,O);const x=g(h.slice(O,C));u[S]=x}m=E+1}while(m<v);return u}function l(h,p,u){do{const v=h.charCodeAt(p);if(v!==32&&v!==9)return p}while(++p<u);return u}function f(h,p,u){for(;p>u;){const v=h.charCodeAt(--p);if(v!==32&&v!==9)return p+1}return u}function c(h,p,u){const v=u?.encode||encodeURIComponent;if(!t.test(h))throw new TypeError(`argument name is invalid: ${h}`);const g=v(p);if(!s.test(g))throw new TypeError(`argument val is invalid: ${p}`);let m=h+"="+g;if(!u)return m;if(u.maxAge!==void 0){if(!Number.isInteger(u.maxAge))throw new TypeError(`option maxAge is invalid: ${u.maxAge}`);m+="; Max-Age="+u.maxAge}if(u.domain){if(!r.test(u.domain))throw new TypeError(`option domain is invalid: ${u.domain}`);m+="; Domain="+u.domain}if(u.path){if(!i.test(u.path))throw new TypeError(`option path is invalid: ${u.path}`);m+="; Path="+u.path}if(u.expires){if(!d(u.expires)||!Number.isFinite(u.expires.valueOf()))throw new TypeError(`option expires is invalid: ${u.expires}`);m+="; Expires="+u.expires.toUTCString()}if(u.httpOnly&&(m+="; HttpOnly"),u.secure&&(m+="; Secure"),u.partitioned&&(m+="; Partitioned"),u.priority)switch(typeof u.priority=="string"?u.priority.toLowerCase():void 0){case"low":m+="; Priority=Low";break;case"medium":m+="; Priority=Medium";break;case"high":m+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${u.priority}`)}if(u.sameSite)switch(typeof u.sameSite=="string"?u.sameSite.toLowerCase():u.sameSite){case!0:case"strict":m+="; SameSite=Strict";break;case"lax":m+="; SameSite=Lax";break;case"none":m+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${u.sameSite}`)}return m}function y(h){if(h.indexOf("%")===-1)return h;try{return decodeURIComponent(h)}catch{return h}}function d(h){return n.call(h)==="[object Date]"}}}),fe=At(It()),Ie=fe.default||fe,Ut=Ie.parse,Ft=Ie.serialize;function Ue(e){const t=Ut(e),s={};for(const r in t)typeof t[r]<"u"&&(s[r]=t[r]);return s}function de(){return Ue(document.cookie)}function jt(e){if(typeof document>"u"||typeof location>"u")return{};switch(e.credentials){case"same-origin":{const t=new URL(e.url);return location.origin===t.origin?de():{}}case"include":return de();default:return{}}}function Mt(e){const t=e.headers.get("cookie"),s=t?Ue(t):{},r=jt(e);for(const a in r)e.headers.append("cookie",Ft(a,r[a]));const i=Ve.getCookies(e.url),n=Object.fromEntries(i.map(a=>[a.key,a.value]));for(const a of i)e.headers.append("cookie",a.toString());return{...r,...n,...s}}var M=(e=>(e.HEAD="HEAD",e.GET="GET",e.POST="POST",e.PUT="PUT",e.PATCH="PATCH",e.OPTIONS="OPTIONS",e.DELETE="DELETE",e))(M||{});class Dt extends Je{constructor(t,s,r,i){const n=typeof s=="function"?"[custom predicate]":s;super({info:{header:`${t}${n?` ${n}`:""}`,path:s,method:t},resolver:r,options:i}),this.checkRedundantQueryParameters()}checkRedundantQueryParameters(){const{method:t,path:s}=this.info;!s||s instanceof RegExp||typeof s=="function"||xe(s)===s||Y.warn(`Found a redundant usage of query parameters in the request handler URL for "${t} ${s}". Please match against a path instead and access query parameters using "new URL(request.url).searchParams" instead. Learn more: https://mswjs.io/docs/http/intercepting-requests#querysearch-parameters`)}async parse(t){const s=new URL(t.request.url),r=Mt(t.request);if(typeof this.info.path=="function"){const n=await this.info.path({request:t.request,cookies:r});return{match:typeof n=="boolean"?{matches:n,params:{}}:n,cookies:r}}return{match:this.info.path?St(s,this.info.path,t.resolutionContext?.baseUrl):{matches:!1,params:{}},cookies:r}}async predicate(t){const s=this.matchMethod(t.request.method),r=t.parsedResult.match.matches;return s&&r}matchMethod(t){return this.info.method instanceof RegExp?this.info.method.test(t):st(this.info.method,t)}extendResolverArgs(t){return{params:t.parsedResult.match?.params||{},cookies:t.parsedResult.cookies}}async log(t){const s=Ye(t.request.url),r=await it(t.request),i=await at(t.response),n=rt(i.status);console.groupCollapsed(Y.formatMessage(`${Ze()} ${t.request.method} ${s} (%c${i.status} ${i.statusText}%c)`),`color:${n}`,"color:inherit"),console.log("Request",r),console.log("Handler:",this),console.log("Response",i),console.groupEnd()}}function j(e){return(t,s,r={})=>new Dt(e,t,s,r)}const Ts={all:j(/.+/),head:j(M.HEAD),get:j(M.GET),post:j(M.POST),put:j(M.PUT),delete:j(M.DELETE),patch:j(M.PATCH),options:j(M.OPTIONS)};function _t(){Xe(typeof URL<"u",Y.formatMessage(`Global "URL" class is not defined. This likely means that you're running MSW in an environment that doesn't support all Node.js standard API (e.g. React Native). If that's the case, please use an appropriate polyfill for the "URL" class, like "react-native-url-polyfill".`))}const kt=Symbol("bodyType");class q extends ne{[kt]=null;constructor(t,s){const r=Q(s);super(t,r),et(this,r)}static error(){return super.error()}static text(t,s){const r=Q(s);return r.headers.has("Content-Type")||r.headers.set("Content-Type","text/plain"),r.headers.has("Content-Length")||r.headers.set("Content-Length",t?new Blob([t]).size.toString():"0"),new q(t,r)}static json(t,s){const r=Q(s);r.headers.has("Content-Type")||r.headers.set("Content-Type","application/json");const i=JSON.stringify(t);return r.headers.has("Content-Length")||r.headers.set("Content-Length",i?new Blob([i]).size.toString():"0"),new q(i,r)}static xml(t,s){const r=Q(s);return r.headers.has("Content-Type")||r.headers.set("Content-Type","text/xml"),new q(t,r)}static html(t,s){const r=Q(s);return r.headers.has("Content-Type")||r.headers.set("Content-Type","text/html"),new q(t,r)}static arrayBuffer(t,s){const r=Q(s);return r.headers.has("Content-Type")||r.headers.set("Content-Type","application/octet-stream"),t&&!r.headers.has("Content-Length")&&r.headers.set("Content-Length",t.byteLength.toString()),new q(t,r)}static formData(t,s){return new q(t,Q(s))}}_t();var B=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Qt={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},qt=class{#e=Qt;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},L=new qt;function Lt(e){setTimeout(e,0)}var $=typeof window>"u"||"Deno"in globalThis;function I(){}function $t(e,t){return typeof e=="function"?e(t):e}function Z(e){return typeof e=="number"&&e>=0&&e!==1/0}function Fe(e,t){return Math.max(e+(t||0)-Date.now(),0)}function _(e,t){return typeof e=="function"?e(t):e}function U(e,t){return typeof e=="function"?e(t):e}function pe(e,t){const{type:s="all",exact:r,fetchStatus:i,predicate:n,queryKey:a,stale:o}=e;if(a){if(r){if(t.queryHash!==ae(a,t.options))return!1}else if(!K(t.queryKey,a))return!1}if(s!=="all"){const l=t.isActive();if(s==="active"&&!l||s==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||i&&i!==t.state.fetchStatus||n&&!n(t))}function ye(e,t){const{exact:s,status:r,predicate:i,mutationKey:n}=e;if(n){if(!t.options.mutationKey)return!1;if(s){if(H(t.options.mutationKey)!==H(n))return!1}else if(!K(t.options.mutationKey,n))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function ae(e,t){return(t?.queryKeyHashFn||H)(e)}function H(e){return JSON.stringify(e,(t,s)=>X(s)?Object.keys(s).sort().reduce((r,i)=>(r[i]=s[i],r),{}):s)}function K(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>K(e[s],t[s])):!1}var Ht=Object.prototype.hasOwnProperty;function je(e,t){if(e===t)return e;const s=me(e)&&me(t);if(!s&&!(X(e)&&X(t)))return t;const i=(s?e:Object.keys(e)).length,n=s?t:Object.keys(t),a=n.length,o=s?new Array(a):{};let l=0;for(let f=0;f<a;f++){const c=s?f:n[f],y=e[c],d=t[c];if(y===d){o[c]=y,(s?f<i:Ht.call(e,c))&&l++;continue}if(y===null||d===null||typeof y!="object"||typeof d!="object"){o[c]=d;continue}const h=je(y,d);o[c]=h,h===y&&l++}return i===a&&l===i?e:o}function W(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function me(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function X(e){if(!ve(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!ve(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function ve(e){return Object.prototype.toString.call(e)==="[object Object]"}function Nt(e){return new Promise(t=>{L.setTimeout(t,e)})}function ee(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?je(e,t):t}function Bt(e,t,s=0){const r=[...e,t];return s&&r.length>s?r.slice(1):r}function Kt(e,t,s=0){const r=[t,...e];return s&&r.length>s?r.slice(0,-1):r}var oe=Symbol();function Me(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===oe?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function ue(e,t){return typeof e=="function"?e(...t):!!e}function zt(e,t,s){let r=!1,i;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(i??=t(),r||(r=!0,i.aborted?s():i.addEventListener("abort",s,{once:!0})),i)}),e}var Gt=class extends B{#e;#t;#s;constructor(){super(),this.#s=e=>{if(!$&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#s=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},ce=new Gt;function te(){let e,t;const s=new Promise((i,n)=>{e=i,t=n});s.status="pending",s.catch(()=>{});function r(i){Object.assign(s,i),delete s.resolve,delete s.reject}return s.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},s.reject=i=>{r({status:"rejected",reason:i}),t(i)},s}var Wt=Lt;function Vt(){let e=[],t=0,s=o=>{o()},r=o=>{o()},i=Wt;const n=o=>{t?e.push(o):i(()=>{s(o)})},a=()=>{const o=e;e=[],o.length&&i(()=>{r(()=>{o.forEach(l=>{s(l)})})})};return{batch:o=>{let l;t++;try{l=o()}finally{t--,t||a()}return l},batchCalls:o=>(...l)=>{n(()=>{o(...l)})},schedule:n,setNotifyFunction:o=>{s=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var R=Vt(),Jt=class extends B{#e=!0;#t;#s;constructor(){super(),this.#s=e=>{if(!$&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#s=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},V=new Jt;function Yt(e){return Math.min(1e3*2**e,3e4)}function De(e){return(e??"online")==="online"?V.isOnline():!0}var se=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function _e(e){let t=!1,s=0,r;const i=te(),n=()=>i.status!=="pending",a=u=>{if(!n()){const v=new se(u);d(v),e.onCancel?.(v)}},o=()=>{t=!0},l=()=>{t=!1},f=()=>ce.isFocused()&&(e.networkMode==="always"||V.isOnline())&&e.canRun(),c=()=>De(e.networkMode)&&e.canRun(),y=u=>{n()||(r?.(),i.resolve(u))},d=u=>{n()||(r?.(),i.reject(u))},h=()=>new Promise(u=>{r=v=>{(n()||f())&&u(v)},e.onPause?.()}).then(()=>{r=void 0,n()||e.onContinue?.()}),p=()=>{if(n())return;let u;const v=s===0?e.initialPromise:void 0;try{u=v??e.fn()}catch(g){u=Promise.reject(g)}Promise.resolve(u).then(y).catch(g=>{if(n())return;const m=e.retry??($?0:3),w=e.retryDelay??Yt,b=typeof w=="function"?w(s,g):w,E=m===!0||typeof m=="number"&&s<m||typeof m=="function"&&m(s,g);if(t||!E){d(g);return}s++,e.onFail?.(s,g),Nt(b).then(()=>f()?void 0:h()).then(()=>{t?d(g):p()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(r?.(),i),cancelRetry:o,continueRetry:l,canStart:c,start:()=>(c()?p():h().then(p),i)}}var ke=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Z(this.gcTime)&&(this.#e=L.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??($?1/0:300*1e3))}clearGcTimeout(){this.#e&&(L.clearTimeout(this.#e),this.#e=void 0)}},Zt=class extends ke{#e;#t;#s;#i;#r;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#s=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=be(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=be(this.options);t.data!==void 0&&(this.setState(ge(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(e,t){const s=ee(this.state.data,e,this.options);return this.#n({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#n({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(I).catch(I):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>U(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===oe||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>_(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Fe(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#n({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const o=this.observers.find(l=>l.options.queryFn);o&&this.setOptions(o.options)}const s=new AbortController,r=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},i=()=>{const o=Me(this.options,t),f=(()=>{const c={client:this.#i,queryKey:this.queryKey,meta:this.meta};return r(c),c})();return this.#o=!1,this.options.persister?this.options.persister(o,f,this):o(f)},a=(()=>{const o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:i};return r(o),o})();this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#n({type:"fetch",meta:a.fetchOptions?.meta}),this.#r=_e({initialPromise:t?.initialPromise,fn:a.fetchFn,onCancel:o=>{o instanceof se&&o.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(o,l)=>{this.#n({type:"failed",failureCount:o,error:l})},onPause:()=>{this.#n({type:"pause"})},onContinue:()=>{this.#n({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const o=await this.#r.start();if(o===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(o),this.#s.config.onSuccess?.(o,this),this.#s.config.onSettled?.(o,this.state.error,this),o}catch(o){if(o instanceof se){if(o.silent)return this.#r.promise;if(o.revert){if(this.state.data===void 0)throw o;return this.state.data}}throw this.#n({type:"error",error:o}),this.#s.config.onError?.(o,this),this.#s.config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}#n(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Qe(s.data,this.options),fetchMeta:e.meta??null};case"success":const r={...s,...ge(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const i=e.error;return{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),R.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:e})})}};function Qe(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:De(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ge(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function be(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,r=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Xt=class extends B{constructor(e,t){super(),this.options=t,this.#e=e,this.#n=null,this.#o=te(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#s=void 0;#i=void 0;#r;#a;#o;#n;#y;#f;#d;#c;#h;#u;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),we(this.#t,this.options)?this.#l():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return re(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return re(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#C(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof U(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),t._defaulted&&!W(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&Ce(this.#t,s,this.options,t)&&this.#l(),this.updateResult(),r&&(this.#t!==s||U(this.options.enabled,this.#t)!==U(t.enabled,this.#t)||_(this.options.staleTime,this.#t)!==_(t.staleTime,this.#t))&&this.#m();const i=this.#v();r&&(this.#t!==s||U(this.options.enabled,this.#t)!==U(t.enabled,this.#t)||i!==this.#u)&&this.#g(i)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(t,e);return ts(this,s)&&(this.#i=s,this.#a=this.options,this.#r=this.#t.state),s}getCurrentResult(){return this.#i}trackResult(e,t){return new Proxy(e,{get:(s,r)=>(this.trackProp(r),t?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.#l({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#l(e){this.#S();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(I)),t}#m(){this.#w();const e=_(this.options.staleTime,this.#t);if($||this.#i.isStale||!Z(e))return;const s=Fe(this.#i.dataUpdatedAt,e)+1;this.#c=L.setTimeout(()=>{this.#i.isStale||this.updateResult()},s)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#g(e){this.#C(),this.#u=e,!($||U(this.options.enabled,this.#t)===!1||!Z(this.#u)||this.#u===0)&&(this.#h=L.setInterval(()=>{(this.options.refetchIntervalInBackground||ce.isFocused())&&this.#l()},this.#u))}#b(){this.#m(),this.#g(this.#v())}#w(){this.#c&&(L.clearTimeout(this.#c),this.#c=void 0)}#C(){this.#h&&(L.clearInterval(this.#h),this.#h=void 0)}createResult(e,t){const s=this.#t,r=this.options,i=this.#i,n=this.#r,a=this.#a,l=e!==s?e.state:this.#s,{state:f}=e;let c={...f},y=!1,d;if(t._optimisticResults){const S=this.hasListeners(),O=!S&&we(e,t),C=S&&Ce(e,s,t,r);(O||C)&&(c={...c,...Qe(f.data,e.options)}),t._optimisticResults==="isRestoring"&&(c.fetchStatus="idle")}let{error:h,errorUpdatedAt:p,status:u}=c;d=c.data;let v=!1;if(t.placeholderData!==void 0&&d===void 0&&u==="pending"){let S;i?.isPlaceholderData&&t.placeholderData===a?.placeholderData?(S=i.data,v=!0):S=typeof t.placeholderData=="function"?t.placeholderData(this.#d?.state.data,this.#d):t.placeholderData,S!==void 0&&(u="success",d=ee(i?.data,S,t),y=!0)}if(t.select&&d!==void 0&&!v)if(i&&d===n?.data&&t.select===this.#y)d=this.#f;else try{this.#y=t.select,d=t.select(d),d=ee(i?.data,d,t),this.#f=d,this.#n=null}catch(S){this.#n=S}this.#n&&(h=this.#n,d=this.#f,p=Date.now(),u="error");const g=c.fetchStatus==="fetching",m=u==="pending",w=u==="error",b=m&&g,E=d!==void 0,P={status:u,fetchStatus:c.fetchStatus,isPending:m,isSuccess:u==="success",isError:w,isInitialLoading:b,isLoading:b,data:d,dataUpdatedAt:c.dataUpdatedAt,error:h,errorUpdatedAt:p,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>l.dataUpdateCount||c.errorUpdateCount>l.errorUpdateCount,isFetching:g,isRefetching:g&&!m,isLoadingError:w&&!E,isPaused:c.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:w&&E,isStale:he(e,t),refetch:this.refetch,promise:this.#o,isEnabled:U(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const S=x=>{P.status==="error"?x.reject(P.error):P.data!==void 0&&x.resolve(P.data)},O=()=>{const x=this.#o=P.promise=te();S(x)},C=this.#o;switch(C.status){case"pending":e.queryHash===s.queryHash&&S(C);break;case"fulfilled":(P.status==="error"||P.data!==C.value)&&O();break;case"rejected":(P.status!=="error"||P.error!==C.reason)&&O();break}}return P}updateResult(){const e=this.#i,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#d=this.#t),W(t,e))return;this.#i=t;const s=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,i=typeof r=="function"?r():r;if(i==="all"||!i&&!this.#p.size)return!0;const n=new Set(i??this.#p);return this.options.throwOnError&&n.add("error"),Object.keys(this.#i).some(a=>{const o=a;return this.#i[o]!==e[o]&&n.has(o)})};this.#O({listeners:s()})}#S(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#s=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#O(e){R.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function es(e,t){return U(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function we(e,t){return es(e,t)||e.state.data!==void 0&&re(e,t,t.refetchOnMount)}function re(e,t,s){if(U(t.enabled,e)!==!1&&_(t.staleTime,e)!=="static"){const r=typeof s=="function"?s(e):s;return r==="always"||r!==!1&&he(e,t)}return!1}function Ce(e,t,s,r){return(e!==t||U(r.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&he(e,s)}function he(e,t){return U(t.enabled,e)!==!1&&e.isStaleByTime(_(t.staleTime,e))}function ts(e,t){return!W(e.getCurrentResult(),t)}function Se(e){return{onFetch:(t,s)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,n=t.state.data?.pages||[],a=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},l=0;const f=async()=>{let c=!1;const y=p=>{zt(p,()=>t.signal,()=>c=!0)},d=Me(t.options,t.fetchOptions),h=async(p,u,v)=>{if(c)return Promise.reject();if(u==null&&p.pages.length)return Promise.resolve(p);const m=(()=>{const A={client:t.client,queryKey:t.queryKey,pageParam:u,direction:v?"backward":"forward",meta:t.options.meta};return y(A),A})(),w=await d(m),{maxPages:b}=t.options,E=v?Kt:Bt;return{pages:E(p.pages,w,b),pageParams:E(p.pageParams,u,b)}};if(i&&n.length){const p=i==="backward",u=p?ss:Oe,v={pages:n,pageParams:a},g=u(r,v);o=await h(v,g,p)}else{const p=e??n.length;do{const u=l===0?a[0]??r.initialPageParam:Oe(r,o);if(l>0&&u==null)break;o=await h(o,u),l++}while(l<p)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s):t.fetchFn=f}}}function Oe(e,{pages:t,pageParams:s}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,s[r],s):void 0}function ss(e,{pages:t,pageParams:s}){return t.length>0?e.getPreviousPageParam?.(t[0],t,s[0],s):void 0}var rs=class extends ke{#e;#t;#s;#i;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#s=e.mutationCache,this.#t=[],this.state=e.state||qe(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#s.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#s.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=_e({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(n,a)=>{this.#r({type:"failed",failureCount:n,error:a})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#s.canRun(this)});const r=this.state.status==="pending",i=!this.#i.canStart();try{if(r)t();else{this.#r({type:"pending",variables:e,isPaused:i}),await this.#s.config.onMutate?.(e,this,s);const a=await this.options.onMutate?.(e,s);a!==this.state.context&&this.#r({type:"pending",context:a,variables:e,isPaused:i})}const n=await this.#i.start();return await this.#s.config.onSuccess?.(n,e,this.state.context,this,s),await this.options.onSuccess?.(n,e,this.state.context,s),await this.#s.config.onSettled?.(n,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(n,null,e,this.state.context,s),this.#r({type:"success",data:n}),n}catch(n){try{await this.#s.config.onError?.(n,e,this.state.context,this,s)}catch(a){Promise.reject(a)}try{await this.options.onError?.(n,e,this.state.context,s)}catch(a){Promise.reject(a)}try{await this.#s.config.onSettled?.(void 0,n,this.state.variables,this.state.context,this,s)}catch(a){Promise.reject(a)}try{await this.options.onSettled?.(void 0,n,e,this.state.context,s)}catch(a){Promise.reject(a)}throw this.#r({type:"error",error:n}),n}finally{this.#s.runNext(this)}}#r(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),R.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(e)}),this.#s.notify({mutation:this,type:"updated",action:e})})}};function qe(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var is=class extends B{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#s=0}#e;#t;#s;build(e,t,s){const r=new rs({client:e,mutationCache:this,mutationId:++this.#s,options:e.defaultMutationOptions(t),state:s});return this.add(r),r}add(e){this.#e.add(e);const t=z(e);if(typeof t=="string"){const s=this.#t.get(t);s?s.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=z(e);if(typeof t=="string"){const s=this.#t.get(t);if(s)if(s.length>1){const r=s.indexOf(e);r!==-1&&s.splice(r,1)}else s[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=z(e);if(typeof t=="string"){const r=this.#t.get(t)?.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=z(e);return typeof t=="string"?this.#t.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){R.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(s=>ye(t,s))}findAll(e={}){return this.getAll().filter(t=>ye(e,t))}notify(e){R.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return R.batch(()=>Promise.all(e.map(t=>t.continue().catch(I))))}};function z(e){return e.options.scope?.id}var ns=class extends B{#e;#t=void 0;#s;#i;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#e.defaultMutationOptions(e),W(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),t?.mutationKey&&this.options.mutationKey&&H(t.mutationKey)!==H(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#r(),this.#a()}mutate(e,t){return this.#i=t,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(e)}#r(){const e=this.#s?.state??qe();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){R.batch(()=>{if(this.#i&&this.hasListeners()){const t=this.#t.variables,s=this.#t.context,r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#i.onSuccess?.(e.data,t,s,r)}catch(i){Promise.reject(i)}try{this.#i.onSettled?.(e.data,null,t,s,r)}catch(i){Promise.reject(i)}}else if(e?.type==="error"){try{this.#i.onError?.(e.error,t,s,r)}catch(i){Promise.reject(i)}try{this.#i.onSettled?.(void 0,e.error,t,s,r)}catch(i){Promise.reject(i)}}}this.listeners.forEach(t=>{t(this.#t)})})}},as=class extends B{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,s){const r=t.queryKey,i=t.queryHash??ae(r,t);let n=this.get(i);return n||(n=new Zt({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(n)),n}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){R.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>pe(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>pe(e,s)):t}notify(e){R.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){R.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){R.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},As=class{#e;#t;#s;#i;#r;#a;#o;#n;constructor(e={}){this.#e=e.queryCache||new as,this.#t=e.mutationCache||new is,this.#s=e.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=ce.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#n=V.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#n?.(),this.#n=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=this.#e.build(this,t),r=s.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(_(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:s})=>{const r=s.data;return[t,r]})}setQueryData(e,t,s){const r=this.defaultQueryOptions({queryKey:e}),n=this.#e.get(r.queryHash)?.state.data,a=$t(t,n);if(a!==void 0)return this.#e.build(this,r).setData(a,{...s,manual:!0})}setQueriesData(e,t,s){return R.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,s)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;R.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=this.#e;return R.batch(()=>(s.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},r=R.batch(()=>this.#e.findAll(e).map(i=>i.cancel(s)));return Promise.all(r).then(I).catch(I)}invalidateQueries(e,t={}){return R.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},r=R.batch(()=>this.#e.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let n=i.fetch(void 0,s);return s.throwOnError||(n=n.catch(I)),i.state.fetchStatus==="paused"?Promise.resolve():n}));return Promise.all(r).then(I)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=this.#e.build(this,t);return s.isStaleByTime(_(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(I).catch(I)}fetchInfiniteQuery(e){return e.behavior=Se(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(I).catch(I)}ensureInfiniteQueryData(e){return e.behavior=Se(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return V.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(e){this.#s=e}setQueryDefaults(e,t){this.#i.set(H(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#i.values()],s={};return t.forEach(r=>{K(e,r.queryKey)&&Object.assign(s,r.defaultOptions)}),s}setMutationDefaults(e,t){this.#r.set(H(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],s={};return t.forEach(r=>{K(e,r.mutationKey)&&Object.assign(s,r.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#s.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ae(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===oe&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#s.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},Le=T.createContext(void 0),$e=e=>{const t=T.useContext(Le);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Is=({client:e,children:t})=>(T.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),tt.jsx(Le.Provider,{value:e,children:t})),He=T.createContext(!1),os=()=>T.useContext(He);He.Provider;function us(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var cs=T.createContext(us()),hs=()=>T.useContext(cs),ls=(e,t,s)=>{const r=s?.state.error&&typeof e.throwOnError=="function"?ue(e.throwOnError,[s.state.error,s]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||r)&&(t.isReset()||(e.retryOnMount=!1))},fs=e=>{T.useEffect(()=>{e.clearReset()},[e])},ds=({result:e,errorResetBoundary:t,throwOnError:s,query:r,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(i&&e.data===void 0||ue(s,[e.error,r])),ps=e=>{if(e.suspense){const s=i=>i==="static"?i:Math.max(i??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...i)=>s(r(...i)):s(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},ys=(e,t)=>e.isLoading&&e.isFetching&&!t,ms=(e,t)=>e?.suspense&&t.isPending,Ee=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function vs(e,t,s){const r=os(),i=hs(),n=$e(),a=n.defaultQueryOptions(e);n.getDefaultOptions().queries?._experimental_beforeQuery?.(a);const o=n.getQueryCache().get(a.queryHash);a._optimisticResults=r?"isRestoring":"optimistic",ps(a),ls(a,i,o),fs(i);const l=!n.getQueryCache().get(a.queryHash),[f]=T.useState(()=>new t(n,a)),c=f.getOptimisticResult(a),y=!r&&e.subscribed!==!1;if(T.useSyncExternalStore(T.useCallback(d=>{const h=y?f.subscribe(R.batchCalls(d)):I;return f.updateResult(),h},[f,y]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),T.useEffect(()=>{f.setOptions(a)},[a,f]),ms(a,c))throw Ee(a,f,i);if(ds({result:c,errorResetBoundary:i,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw c.error;return n.getDefaultOptions().queries?._experimental_afterQuery?.(a,c),a.experimental_prefetchInRender&&!$&&ys(c,r)&&(l?Ee(a,f,i):o?.promise)?.catch(I).finally(()=>{f.updateResult()}),a.notifyOnChangeProps?c:f.trackResult(c)}function Us(e,t){return vs(e,Xt)}function Fs(e,t){const s=$e(),[r]=T.useState(()=>new ns(s,e));T.useEffect(()=>{r.setOptions(e)},[r,e]);const i=T.useSyncExternalStore(T.useCallback(a=>r.subscribe(R.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),n=T.useCallback((a,o)=>{r.mutate(a,o).catch(I)},[r]);if(i.error&&ue(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:n,mutateAsync:i.mutate}}var gs=(e,t,s={})=>{let r=`${e}=${t}`;if(e.startsWith("__Secure-")&&!s.secure)throw new Error("__Secure- Cookie must have Secure attributes");if(e.startsWith("__Host-")){if(!s.secure)throw new Error("__Host- Cookie must have Secure attributes");if(s.path!=="/")throw new Error('__Host- Cookie must have Path attributes with "/"');if(s.domain)throw new Error("__Host- Cookie must not have Domain attributes")}if(s&&typeof s.maxAge=="number"&&s.maxAge>=0){if(s.maxAge>3456e4)throw new Error("Cookies Max-Age SHOULD NOT be greater than 400 days (34560000 seconds) in duration.");r+=`; Max-Age=${s.maxAge|0}`}if(s.domain&&s.prefix!=="host"&&(r+=`; Domain=${s.domain}`),s.path&&(r+=`; Path=${s.path}`),s.expires){if(s.expires.getTime()-Date.now()>3456e7)throw new Error("Cookies Expires SHOULD NOT be greater than 400 days (34560000 seconds) in the future.");r+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(r+="; HttpOnly"),s.secure&&(r+="; Secure"),s.sameSite&&(r+=`; SameSite=${s.sameSite.charAt(0).toUpperCase()+s.sameSite.slice(1)}`),s.priority&&(r+=`; Priority=${s.priority.charAt(0).toUpperCase()+s.priority.slice(1)}`),s.partitioned){if(!s.secure)throw new Error("Partitioned Cookie must have Secure attributes");r+="; Partitioned"}return r},bs=(e,t,s)=>(t=encodeURIComponent(t),gs(e,t,s)),ws=(e,t)=>(e=e.replace(/\/+$/,""),e=e+"/",t=t.replace(/^\/+/,""),e+t),ie=(e,t)=>{for(const[s,r]of Object.entries(t)){const i=new RegExp("/:"+s+"(?:{[^/]+})?\\??");e=e.replace(i,r?`/${r}`:"")}return e},Ne=e=>{const t=new URLSearchParams;for(const[s,r]of Object.entries(e))if(r!==void 0)if(Array.isArray(r))for(const i of r)t.append(s,i);else t.set(s,r);return t},Cs=(e,t)=>{switch(t){case"ws":return e.replace(/^http/,"ws");case"http":return e.replace(/^ws/,"http")}},Be=e=>/^https?:\/\/[^\/]+?\/index(?=\?|$)/.test(e)?e.replace(/\/index(?=\?|$)/,"/"):e.replace(/\/index(?=\?|$)/,"");function G(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Ke(e,t){if(!G(e)&&!G(t))return t;const s={...e};for(const r in t){const i=t[r];G(s[r])&&G(i)?s[r]=Ke(s[r],i):s[r]=i}return s}var ze=(e,t)=>new Proxy(()=>{},{get(r,i){if(!(typeof i!="string"||i==="then"))return ze(e,[...t,i])},apply(r,i,n){return e({path:t,args:n})}}),Ss=class{url;method;queryParams=void 0;pathParams={};rBody;cType=void 0;constructor(e,t){this.url=e,this.method=t}fetch=async(e,t)=>{if(e){if(e.query&&(this.queryParams=Ne(e.query)),e.form){const o=new FormData;for(const[l,f]of Object.entries(e.form))if(Array.isArray(f))for(const c of f)o.append(l,c);else o.append(l,f);this.rBody=o}e.json&&(this.rBody=JSON.stringify(e.json),this.cType="application/json"),e.param&&(this.pathParams=e.param)}let s=this.method.toUpperCase();const r={...e?.header,...typeof t?.headers=="function"?await t.headers():t?.headers};if(e?.cookie){const o=[];for(const[l,f]of Object.entries(e.cookie))o.push(bs(l,f,{path:"/"}));r.Cookie=o.join(",")}this.cType&&(r["Content-Type"]=this.cType);const i=new Headers(r??void 0);let n=this.url;n=Be(n),n=ie(n,this.pathParams),this.queryParams&&(n=n+"?"+this.queryParams.toString()),s=this.method.toUpperCase();const a=!(s==="GET"||s==="HEAD");return(t?.fetch||fetch)(n,{body:a?this.rBody:void 0,method:s,headers:i,...t?.init})}},Os=(e,t)=>ze(function s(r){const i=[...r.path],n=i.slice(-3).reverse();if(n[0]==="toString")return n[1]==="name"?n[2]||"":s.toString();if(n[0]==="valueOf")return n[1]==="name"?n[2]||"":s;let a="";if(/^\$/.test(n[0])){const c=i.pop();c&&(a=c.replace(/^\$/,""))}const o=i.join("/"),l=ws(e,o);if(a==="url"){let c=l;return r.args[0]&&(r.args[0].param&&(c=ie(l,r.args[0].param)),r.args[0].query&&(c=c+"?"+Ne(r.args[0].query).toString())),c=Be(c),new URL(c)}if(a==="ws"){const c=Cs(r.args[0]&&r.args[0].param?ie(l,r.args[0].param):l,"ws"),y=new URL(c),d=r.args[0]?.query;return d&&Object.entries(d).forEach(([p,u])=>{Array.isArray(u)?u.forEach(v=>y.searchParams.append(p,v)):y.searchParams.set(p,u)}),((...p)=>t?.webSocket!==void 0&&typeof t.webSocket=="function"?t.webSocket(...p):new WebSocket(...p))(y.toString())}const f=new Ss(l,a);if(a){t??={};const c=Ke(t,{...r.args[1]});return f.fetch(r.args[0],c)}return f},[]);const Es="",Rs=Os(Es,{fetch:(e,t)=>fetch(e,{...t,credentials:"include"})});class F extends Error{status;constructor(t,s){super(s),this.status=t,this.name="ApiError"}}const k=Rs.api.groups,js=async()=>{const t=await k.$get();if(!t.ok)throw new Error("");return t.json()},Ms=async({groupId:e})=>{const s=await k[":groupId"].chores.$get({param:{groupId:e}});if(!s.ok)throw new F(s.status,"");return s.json()},Ds=async({groupId:e,email:t})=>{const r=await k[":groupId"].search.users.$get({param:{groupId:e},query:{email:t}});if(r.status===422){const n=(await r.json()).errors.map(a=>a.message).filter(Boolean).join(" / ");throw new F(422,n||"")}if(!r.ok)throw new F(r.status,"");return r.json()},_s=async({groupId:e,chore_id:t,beated_at:s})=>{const i=await k[":groupId"].beatings.$post({param:{groupId:e},json:{chore_id:t,beated_at:s}});if(i.status===422){const a=(await i.json()).errors.map(o=>o.message).filter(Boolean).join(" / ");throw new F(422,a||"")}if(!i.ok)throw new F(i.status,"");return i.json()},ks=async({name:e})=>{const s=await k.$post({json:{name:e}});if(!s.ok)throw new Error("");return s.json()},Qs=async({groupId:e,user_id:t})=>{const r=await k[":groupId"].invitations.$post({param:{groupId:e},json:{user_id:t}});if(r.status===422){const n=(await r.json()).errors.map(a=>a.message).filter(Boolean).join(" / ");throw new F(422,n||"")}if(!r.ok)throw new F(r.status,"");return r.json()},qs=async({groupId:e})=>{const s=await k[":groupId"].invitations.accept.$post({param:{groupId:e}});if(s.status===422){const i=(await s.json()).errors.map(n=>n.message).filter(Boolean).join(" / ");throw new F(422,i||"")}if(!s.ok)throw new F(s.status,"")},Ls=async({groupId:e})=>{const s=await k[":groupId"].invitations.deny.$post({param:{groupId:e}});if(s.status===422){const i=(await s.json()).errors.map(n=>n.message).filter(Boolean).join(" / ");throw new F(422,i||"")}if(!s.ok)throw new F(s.status,"")};export{F as A,q as H,As as Q,Fs as a,Is as b,_s as c,js as d,$e as e,Ms as f,ks as g,Ts as h,Qs as i,qs as j,Ls as k,Ds as s,Us as u};
