import{j as e}from"./jsx-runtime-u17CrQMm.js";import{U as m}from"./index-BrYsBIr-.js";import{H as f}from"./index-X_bXNaYh.js";import{C as y}from"./chevron-down-RcvYWjGp.js";import{L as j}from"./index-Cjc27y1L.js";import{u as I}from"./QueryClientProvider-DG2Dc8V-.js";import{u as v,b as M,A as T}from"./index-BmRqz_9a.js";import{u as C}from"./useErrorModal-CwA8udOv.js";import{c as B}from"./createLucideIcon-CiG5yvQ_.js";const E=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M14.8 7.5a1.84 1.84 0 0 0-2.6 0l-.2.3-.3-.3a1.84 1.84 0 1 0-2.4 2.8L12 13l2.7-2.7c.9-.9.8-2.1.1-2.8",key:"1blaws"}]],L=B("message-square-heart",E),be=a=>["groups",a,"chores"],q=(a,n)=>["groups",a,"beatings",n],S={"dish-wash":"üçΩÔ∏è",cleaning:"üßπ",laundry:"üëï",cooking:"üç≥",trash:"üóëÔ∏è",shopping:"üõí","bath-cleaning":"üõÅ","toilet-cleaning":"üöΩ"},k=a=>S[a],R="_gratitudeList_13brh_1",H="_gratitudeAccordion_13brh_7",U="_gratitudeSummaryIcon_13brh_13",w="_gratitudeSummary_13brh_13",A="_gratitudeSummaryText_13brh_38",z="_gratitudeExtraList_13brh_43",V="_gratitudeItem_13brh_49",D="_gratitudeHeader_13brh_60",O="_gratitudeBadge_13brh_66",P="_gratitudeName_13brh_84",G="_gratitudeMain_13brh_91",Q="_gratitudeDescribe_13brh_98",t={gratitudeList:R,gratitudeAccordion:H,gratitudeSummaryIcon:U,gratitudeSummary:w,gratitudeSummaryText:A,gratitudeExtraList:z,gratitudeItem:V,gratitudeHeader:D,gratitudeBadge:O,gratitudeName:P,gratitudeMain:G,gratitudeDescribe:Q};function l({message:a}){return e.jsxs("div",{className:t.gratitudeItem,children:[e.jsxs("div",{className:t.gratitudeHeader,children:[e.jsx(m,{name:a.userName,imageUrl:a.userImageUrl,size:"sm",tone:"orange",badge:e.jsx("span",{className:t.gratitudeBadge,"aria-hidden":!0,children:e.jsx(f,{size:"sm"})})}),e.jsx("p",{className:t.gratitudeName,children:a.userName})]}),e.jsx("p",{className:t.gratitudeMain,children:a.mainMessage}),a.describeMessage?e.jsx("p",{className:t.gratitudeDescribe,children:a.describeMessage}):null]})}function g({messages:a=[]}){if(a.length===0)return null;const n=a[0],c=a.slice(1);return e.jsxs("div",{className:t.gratitudeList,"aria-label":"ÊÑüË¨ù„É°„ÉÉ„Çª„Éº„Ç∏",children:[e.jsx(l,{message:n}),c.length>0?e.jsxs("details",{className:t.gratitudeAccordion,children:[e.jsxs("summary",{className:t.gratitudeSummary,children:[e.jsx("span",{className:t.gratitudeSummaryIcon,"aria-hidden":!0,children:e.jsx(y,{size:16})}),e.jsxs("span",{className:t.gratitudeSummaryText,children:["‰ªñ",c.length,"‰ª∂„ÅÆÊÑüË¨ù„ÇíË¶ã„Çã"]})]}),e.jsx("div",{className:t.gratitudeExtraList,children:c.map(o=>e.jsx(l,{message:o},o.id))})]}):null]})}g.__docgenInfo={description:"",methods:[],displayName:"BeatingMessages",props:{messages:{required:!1,tsType:{name:"unknown"},description:"",defaultValue:{value:"[]",computed:!1}}}};const Y=()=>{const a=I(),{showError:n,closeError:c,getModalMessage:o}=C();return v({mutationFn:({groupId:r,beatingId:i})=>M({groupId:r,beatingId:i}),onSuccess:async(r,i)=>{await a.invalidateQueries({queryKey:q(i.groupId,i.date)}),c()},onError:r=>{const i=r instanceof T?r.status:void 0,d=r instanceof Error&&r.message?r.message:"„ÅÑ„ÅÑ„Å≠„ÅÆÈÄÅ‰ø°„Å´Â§±Êïó„Åó„Åæ„Åó„Åü";n({title:"„ÅÑ„ÅÑ„Å≠„Ç®„É©„Éº",message:i?o(i):d})}})},K="_card_8bscx_1",$="_header_8bscx_14",F="_choreIcon_8bscx_20",J="_headerBody_8bscx_31",W="_choreName_8bscx_38",X="_reactions_8bscx_45",Z="_reactionItem_8bscx_52",ee="_reactionIcon_8bscx_64",ae="_reactionCount_8bscx_70",se="_divider_8bscx_75",te="_footer_8bscx_81",re="_user_8bscx_87",ie="_userText_8bscx_93",ne="_userName_8bscx_99",ce="_userRole_8bscx_106",s={card:K,header:$,choreIcon:F,headerBody:J,choreName:W,reactions:X,reactionItem:Z,reactionIcon:ee,reactionCount:ae,divider:se,footer:te,user:re,userText:ie,userName:ne,userRole:ce};function oe({groupId:a,beatingId:n,date:c,choreIconCode:o,choreName:r,userName:i,userImageUrl:d,likeCount:_=0,likedByMe:h=!1,commentCount:u=0,userRoleLabel:p="Ë®é‰ºêËÄÖ",messages:x=[]}){const{mutate:b,isPending:N}=Y();return e.jsxs("article",{className:s.card,"aria-label":`${i}„Åå${r}„ÇíË®é‰ºê`,children:[e.jsxs("div",{className:s.header,children:[e.jsx("div",{className:s.choreIcon,"aria-hidden":!0,children:k(o)}),e.jsxs("div",{className:s.headerBody,children:[e.jsx("p",{className:s.choreName,children:r}),e.jsxs("div",{className:s.reactions,children:[e.jsx(j,{likedByMe:h,likeCount:_,isLiking:N,onLike:()=>{b({groupId:a,beatingId:n,date:c})}}),e.jsxs("div",{className:s.reactionItem,role:"group","aria-label":"„É°„ÉÉ„Çª„Éº„Ç∏",children:[e.jsx("span",{className:s.reactionIcon,"aria-hidden":!0,children:e.jsx(L,{size:20})}),u>0?e.jsx("span",{className:s.reactionCount,children:u}):null]})]})]})]}),e.jsx(g,{messages:x}),e.jsx("div",{className:s.divider,"aria-hidden":!0}),e.jsx("div",{className:s.footer,children:e.jsxs("div",{className:s.user,children:[e.jsx(m,{name:i,imageUrl:d,size:"md",tone:"purple"}),e.jsxs("div",{className:s.userText,children:[e.jsx("p",{className:s.userName,children:i}),e.jsx("p",{className:s.userRole,children:p})]})]})})]})}oe.__docgenInfo={description:"",methods:[],displayName:"BeatingCard",props:{groupId:{required:!0,tsType:{name:"string"},description:""},beatingId:{required:!0,tsType:{name:"number"},description:""},date:{required:!0,tsType:{name:"string"},description:""},choreIconCode:{required:!0,tsType:{name:"unknown"},description:""},choreName:{required:!0,tsType:{name:"string"},description:""},userName:{required:!0,tsType:{name:"string"},description:""},userImageUrl:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:""},likeCount:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},likedByMe:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},commentCount:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},userRoleLabel:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"Ë®é‰ºêËÄÖ"',computed:!1}},messages:{required:!1,tsType:{name:"unknown"},description:"",defaultValue:{value:"[]",computed:!1}}}};export{oe as B,be as G,q as a,k as g};
