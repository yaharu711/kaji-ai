import{j as A}from"./jsx-runtime-u17CrQMm.js";import{T as yt,D as bt,C as St,R as Tt,P as Rt,O as Et,a as _t}from"./index-C5Fu1GjY.js";import{b as r,r as ye}from"./iframe-CTlcUmax.js";import{B as Ue}from"./index-BKtDPDeF.js";import{L as Dt}from"./index-C-mtTCkR.js";import{X as xt}from"./x-B5fCR4ky.js";function Ct(e){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",n.appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}const Ye=r.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),me=()=>{const e=r.useContext(Ye);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};Ct(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function Ot(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function Mt(){return Ae(/^Mac/)}function At(){return Ae(/^iPhone/)}function Fe(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function $t(){return Ae(/^iPad/)||Mt()&&navigator.maxTouchPoints>1}function Xe(){return At()||$t()}function Ae(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const It=24,Pt=typeof window<"u"?ye.useLayoutEffect:ye.useEffect;function We(...e){return(...n)=>{for(let t of e)typeof t=="function"&&t(...n)}}const _e=typeof document<"u"&&window.visualViewport;function Ve(e){let n=window.getComputedStyle(e);return/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY)}function Ge(e){for(Ve(e)&&(e=e.parentElement);e&&!Ve(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const Ht=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let ve=0,De;function Nt(e={}){let{isDisabled:n}=e;Pt(()=>{if(!n)return ve++,ve===1&&Xe()&&(De=Lt()),()=>{ve--,ve===0&&De?.()}},[n])}function Lt(){let e,n=0,t=f=>{e=Ge(f.target),!(e===document.documentElement&&e===document.body)&&(n=f.changedTouches[0].pageY)},a=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let m=f.changedTouches[0].pageY,B=e.scrollTop,H=e.scrollHeight-e.clientHeight;H!==0&&((B<=0&&m>n||B>=H&&m<n)&&f.preventDefault(),n=m)},i=f=>{let m=f.target;Oe(m)&&m!==document.activeElement&&(f.preventDefault(),m.style.transform="translateY(-2000px)",m.focus(),requestAnimationFrame(()=>{m.style.transform=""}))},o=f=>{let m=f.target;Oe(m)&&(m.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{m.style.transform="",_e&&(_e.height<window.innerHeight?requestAnimationFrame(()=>{qe(m)}):_e.addEventListener("resize",()=>qe(m),{once:!0}))}))},v=()=>{window.scrollTo(0,0)},h=window.pageXOffset,R=window.pageYOffset,S=We(Bt(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let g=We(de(document,"touchstart",t,{passive:!1,capture:!0}),de(document,"touchmove",a,{passive:!1,capture:!0}),de(document,"touchend",i,{passive:!1,capture:!0}),de(document,"focus",o,!0),de(window,"scroll",v));return()=>{S(),g(),window.scrollTo(h,R)}}function Bt(e,n,t){let a=e.style[n];return e.style[n]=t,()=>{e.style[n]=a}}function de(e,n,t,a){return e.addEventListener(n,t,a),()=>{e.removeEventListener(n,t,a)}}function qe(e){let n=document.scrollingElement||document.documentElement;for(;e&&e!==n;){let t=Ge(e);if(t!==document.documentElement&&t!==document.body&&t!==e){let a=t.getBoundingClientRect().top,i=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const v=t.getBoundingClientRect().bottom+It;o>v&&(t.scrollTop+=i-a)}e=t.parentElement}}function Oe(e){return e instanceof HTMLInputElement&&!Ht.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function kt(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function zt(...e){return n=>e.forEach(t=>kt(t,n))}function Ke(...e){return ye.useCallback(zt(...e),e)}const Ze=new WeakMap;function $(e,n,t=!1){if(!e||!(e instanceof HTMLElement))return;let a={};Object.entries(n).forEach(([i,o])=>{if(i.startsWith("--")){e.style.setProperty(i,o);return}a[i]=e.style[i],e.style[i]=o}),!t&&Ze.set(e,a)}function jt(e,n){if(!e||!(e instanceof HTMLElement))return;let t=Ze.get(e);t&&(e.style[n]=t[n])}const O=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function we(e,n){if(!e)return null;const t=window.getComputedStyle(e),a=t.transform||t.webkitTransform||t.mozTransform;let i=a.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[O(n)?13:12]):(i=a.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[O(n)?5:4]):null)}function Ut(e){return 8*(Math.log(e+1)-2)}function xe(e,n){if(!e)return()=>{};const t=e.style.cssText;return Object.assign(e.style,n),()=>{e.style.cssText=t}}function Ft(...e){return(...n)=>{for(const t of e)typeof t=="function"&&t(...n)}}const D={DURATION:.5,EASE:[.32,.72,0,1]},Je=.4,Wt=.25,Vt=100,Qe=8,ne=16,Me=26,Ce="vaul-dragging";function et(e){const n=r.useRef(e);return r.useEffect(()=>{n.current=e}),r.useMemo(()=>(...t)=>n.current==null?void 0:n.current.call(n,...t),[])}function qt({defaultProp:e,onChange:n}){const t=r.useState(e),[a]=t,i=r.useRef(a),o=et(n);return r.useEffect(()=>{i.current!==a&&(o(a),i.current=a)},[a,i,o]),t}function tt({prop:e,defaultProp:n,onChange:t=()=>{}}){const[a,i]=qt({defaultProp:n,onChange:t}),o=e!==void 0,v=o?e:a,h=et(t),R=r.useCallback(S=>{if(o){const f=typeof S=="function"?S(e):S;f!==e&&h(f)}else i(S)},[o,e,i,h]);return[v,R]}function Yt({activeSnapPointProp:e,setActiveSnapPointProp:n,snapPoints:t,drawerRef:a,overlayRef:i,fadeFromIndex:o,onSnapPointChange:v,direction:h="bottom",container:R,snapToSequentialPoint:S}){const[g,f]=tt({prop:e,defaultProp:t?.[0],onChange:n}),[m,B]=r.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);r.useEffect(()=>{function u(){B({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]);const H=r.useMemo(()=>g===t?.[t.length-1]||null,[t,g]),_=r.useMemo(()=>{var u;return(u=t?.findIndex(b=>b===g))!=null?u:null},[t,g]),k=t&&t.length>0&&(o||o===0)&&!Number.isNaN(o)&&t[o]===g||!t,p=r.useMemo(()=>{const u=R?{width:R.getBoundingClientRect().width,height:R.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var b;return(b=t?.map(w=>{const P=typeof w=="string";let N=0;if(P&&(N=parseInt(w,10)),O(h)){const l=P?N:m?w*u.height:0;return m?h==="bottom"?u.height-l:-u.height+l:l}const V=P?N:m?w*u.width:0;return m?h==="right"?u.width-V:-u.width+V:V}))!=null?b:[]},[t,m,R]),I=r.useMemo(()=>_!==null?p?.[_]:null,[p,_]),M=r.useCallback(u=>{var b;const w=(b=p?.findIndex(P=>P===u))!=null?b:null;v(w),$(a.current,{transition:`transform ${D.DURATION}s cubic-bezier(${D.EASE.join(",")})`,transform:O(h)?`translate3d(0, ${u}px, 0)`:`translate3d(${u}px, 0, 0)`}),p&&w!==p.length-1&&o!==void 0&&w!==o&&w<o?$(i.current,{transition:`opacity ${D.DURATION}s cubic-bezier(${D.EASE.join(",")})`,opacity:"0"}):$(i.current,{transition:`opacity ${D.DURATION}s cubic-bezier(${D.EASE.join(",")})`,opacity:"1"}),f(t?.[Math.max(w,0)])},[a.current,t,p,o,i,f]);r.useEffect(()=>{if(g||e){var u;const b=(u=t?.findIndex(w=>w===e||w===g))!=null?u:-1;p&&b!==-1&&typeof p[b]=="number"&&M(p[b])}},[g,e,t,p,M]);function c({draggedDistance:u,closeDrawer:b,velocity:w,dismissible:P}){if(o===void 0)return;const N=h==="bottom"||h==="right"?(I??0)-u:(I??0)+u,V=_===o-1,l=_===0,F=u>0;if(V&&$(i.current,{transition:`opacity ${D.DURATION}s cubic-bezier(${D.EASE.join(",")})`}),!S&&w>2&&!F){P?b():M(p[0]);return}if(!S&&w>2&&F&&p&&t){M(p[t.length-1]);return}const z=p?.reduce((L,K)=>typeof L!="number"||typeof K!="number"?L:Math.abs(K-N)<Math.abs(L-N)?K:L),q=O(h)?window.innerHeight:window.innerWidth;if(w>Je&&Math.abs(u)<q*.4){const L=F?1:-1;if(L>0&&H&&t){M(p[t.length-1]);return}if(l&&L<0&&P&&b(),_===null)return;M(p[_+L]);return}M(z)}function W({draggedDistance:u}){if(I===null)return;const b=h==="bottom"||h==="right"?I-u:I+u;(h==="bottom"||h==="right")&&b<p[p.length-1]||(h==="top"||h==="left")&&b>p[p.length-1]||$(a.current,{transform:O(h)?`translate3d(0, ${b}px, 0)`:`translate3d(${b}px, 0, 0)`})}function G(u,b){if(!t||typeof _!="number"||!p||o===void 0)return null;const w=_===o-1;if(_>=o&&b)return 0;if(w&&!b)return 1;if(!k&&!w)return null;const N=w?_+1:_-1,V=w?p[N]-p[N-1]:p[N+1]-p[N],l=u/Math.abs(V);return w?1-l:l}return{isLastSnapPoint:H,activeSnapPoint:g,shouldFade:k,getPercentageDragged:G,setActiveSnapPoint:f,activeSnapPointIndex:_,onRelease:c,onDrag:W,snapPointsOffset:p}}const Xt=()=>()=>{};function Gt(){const{direction:e,isOpen:n,shouldScaleBackground:t,setBackgroundColorOnScale:a,noBodyStyles:i}=me(),o=r.useRef(null),v=ye.useMemo(()=>document.body.style.backgroundColor,[]);function h(){return(window.innerWidth-Me)/window.innerWidth}r.useEffect(()=>{if(n&&t){o.current&&clearTimeout(o.current);const R=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!R)return;Ft(a&&!i?xe(document.body,{background:"black"}):Xt,xe(R,{transformOrigin:O(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${D.DURATION}s`,transitionTimingFunction:`cubic-bezier(${D.EASE.join(",")})`}));const S=xe(R,{borderRadius:`${Qe}px`,overflow:"hidden",...O(e)?{transform:`scale(${h()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${h()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{S(),o.current=window.setTimeout(()=>{v?document.body.style.background=v:document.body.style.removeProperty("background")},D.DURATION*1e3)}}},[n,t,v])}let fe=null;function Kt({isOpen:e,modal:n,nested:t,hasBeenOpened:a,preventScrollRestoration:i,noBodyStyles:o}){const[v,h]=r.useState(()=>typeof window<"u"?window.location.href:""),R=r.useRef(0),S=r.useCallback(()=>{if(Fe()&&fe===null&&e&&!o){fe={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:m}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-R.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const B=m-window.innerHeight;B&&R.current>=m&&(document.body.style.top=`${-(R.current+B)}px`)}),300)}},[e]),g=r.useCallback(()=>{if(Fe()&&fe!==null&&!o){const f=-parseInt(document.body.style.top,10),m=-parseInt(document.body.style.left,10);Object.assign(document.body.style,fe),window.requestAnimationFrame(()=>{if(i&&v!==window.location.href){h(window.location.href);return}window.scrollTo(m,f)}),fe=null}},[v]);return r.useEffect(()=>{function f(){R.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),r.useEffect(()=>{if(n)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||g()}},[n,g]),r.useEffect(()=>{t||!a||(e?(!window.matchMedia("(display-mode: standalone)").matches&&S(),n||window.setTimeout(()=>{g()},500)):g())},[e,a,v,n,t,S,g]),{restorePositionSetting:g}}function Zt({open:e,onOpenChange:n,children:t,onDrag:a,onRelease:i,snapPoints:o,shouldScaleBackground:v=!1,setBackgroundColorOnScale:h=!0,closeThreshold:R=Wt,scrollLockTimeout:S=Vt,dismissible:g=!0,handleOnly:f=!1,fadeFromIndex:m=o&&o.length-1,activeSnapPoint:B,setActiveSnapPoint:H,fixed:_,modal:k=!0,onClose:p,nested:I,noBodyStyles:M=!1,direction:c="bottom",defaultOpen:W=!1,disablePreventScroll:G=!0,snapToSequentialPoint:u=!1,preventScrollRestoration:b=!1,repositionInputs:w=!0,onAnimationEnd:P,container:N,autoFocus:V=!1}){var l,F;const[z=!1,q]=tt({defaultProp:W,prop:e,onChange:s=>{n?.(s),!s&&!I&&dt(),setTimeout(()=>{P?.(s)},D.DURATION*1e3),s&&!k&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),s||(document.body.style.pointerEvents="auto")}}),[L,K]=r.useState(!1),[Z,ie]=r.useState(!1),[ot,$e]=r.useState(!1),re=r.useRef(null),pe=r.useRef(null),be=r.useRef(null),Se=r.useRef(null),se=r.useRef(null),le=r.useRef(!1),Te=r.useRef(null),Re=r.useRef(0),ae=r.useRef(!1),Ie=r.useRef(!W),Pe=r.useRef(0),d=r.useRef(null),He=r.useRef(((l=d.current)==null?void 0:l.getBoundingClientRect().height)||0),Ne=r.useRef(((F=d.current)==null?void 0:F.getBoundingClientRect().width)||0),Ee=r.useRef(0),it=r.useCallback(s=>{o&&s===ue.length-1&&(pe.current=new Date)},[]),{activeSnapPoint:st,activeSnapPointIndex:oe,setActiveSnapPoint:Le,onRelease:lt,snapPointsOffset:ue,onDrag:ut,shouldFade:Be,getPercentageDragged:ct}=Yt({snapPoints:o,activeSnapPointProp:B,setActiveSnapPointProp:H,drawerRef:d,fadeFromIndex:m,overlayRef:re,onSnapPointChange:it,direction:c,container:N,snapToSequentialPoint:u});Nt({isDisabled:!z||Z||!k||ot||!L||!w||!G});const{restorePositionSetting:dt}=Kt({isOpen:z,modal:k,nested:I??!1,hasBeenOpened:L,preventScrollRestoration:b,noBodyStyles:M});function he(){return(window.innerWidth-Me)/window.innerWidth}function ft(s){var T,E;!g&&!o||d.current&&!d.current.contains(s.target)||(He.current=((T=d.current)==null?void 0:T.getBoundingClientRect().height)||0,Ne.current=((E=d.current)==null?void 0:E.getBoundingClientRect().width)||0,ie(!0),be.current=new Date,Xe()&&window.addEventListener("touchend",()=>le.current=!1,{once:!0}),s.target.setPointerCapture(s.pointerId),Re.current=O(c)?s.pageY:s.pageX)}function ke(s,T){var E;let y=s;const C=(E=window.getSelection())==null?void 0:E.toString(),U=d.current?we(d.current,c):null,j=new Date;if(y.tagName==="SELECT"||y.hasAttribute("data-vaul-no-drag")||y.closest("[data-vaul-no-drag]"))return!1;if(c==="right"||c==="left")return!0;if(pe.current&&j.getTime()-pe.current.getTime()<500)return!1;if(U!==null&&(c==="bottom"?U>0:U<0))return!0;if(C&&C.length>0)return!1;if(se.current&&j.getTime()-se.current.getTime()<S&&U===0||T)return se.current=j,!1;for(;y;){if(y.scrollHeight>y.clientHeight){if(y.scrollTop!==0)return se.current=new Date,!1;if(y.getAttribute("role")==="dialog")return!0}y=y.parentNode}return!0}function mt(s){if(d.current&&Z){const T=c==="bottom"||c==="right"?1:-1,E=(Re.current-(O(c)?s.pageY:s.pageX))*T,y=E>0,C=o&&!g&&!y;if(C&&oe===0)return;const U=Math.abs(E),j=document.querySelector("[data-vaul-drawer-wrapper]"),J=c==="bottom"||c==="top"?He.current:Ne.current;let Y=U/J;const te=ct(U,y);if(te!==null&&(Y=te),C&&Y>=1||!le.current&&!ke(s.target,y))return;if(d.current.classList.add(Ce),le.current=!0,$(d.current,{transition:"none"}),$(re.current,{transition:"none"}),o&&ut({draggedDistance:E}),y&&!o){const X=Ut(E),ge=Math.min(X*-1,0)*T;$(d.current,{transform:O(c)?`translate3d(0, ${ge}px, 0)`:`translate3d(${ge}px, 0, 0)`});return}const Q=1-Y;if((Be||m&&oe===m-1)&&(a?.(s,Y),$(re.current,{opacity:`${Q}`,transition:"none"},!0)),j&&re.current&&v){const X=Math.min(he()+Y*(1-he()),1),ge=8-Y*8,je=Math.max(0,14-Y*14);$(j,{borderRadius:`${ge}px`,transform:O(c)?`scale(${X}) translate3d(0, ${je}px, 0)`:`scale(${X}) translate3d(${je}px, 0, 0)`,transition:"none"},!0)}if(!o){const X=U*T;$(d.current,{transform:O(c)?`translate3d(0, ${X}px, 0)`:`translate3d(${X}px, 0, 0)`})}}}r.useEffect(()=>{window.requestAnimationFrame(()=>{Ie.current=!0})},[]),r.useEffect(()=>{var s;function T(){if(!d.current||!w)return;const E=document.activeElement;if(Oe(E)||ae.current){var y;const C=((y=window.visualViewport)==null?void 0:y.height)||0,U=window.innerHeight;let j=U-C;const J=d.current.getBoundingClientRect().height||0,Y=J>U*.8;Ee.current||(Ee.current=J);const te=d.current.getBoundingClientRect().top;if(Math.abs(Pe.current-j)>60&&(ae.current=!ae.current),o&&o.length>0&&ue&&oe){const Q=ue[oe]||0;j+=Q}if(Pe.current=j,J>C||ae.current){const Q=d.current.getBoundingClientRect().height;let X=Q;Q>C&&(X=C-(Y?te:Me)),_?d.current.style.height=`${Q-Math.max(j,0)}px`:d.current.style.height=`${Math.max(X,C-te)}px`}else Ot()||(d.current.style.height=`${Ee.current}px`);o&&o.length>0&&!ae.current?d.current.style.bottom="0px":d.current.style.bottom=`${Math.max(j,0)}px`}}return(s=window.visualViewport)==null||s.addEventListener("resize",T),()=>{var E;return(E=window.visualViewport)==null?void 0:E.removeEventListener("resize",T)}},[oe,o,ue]);function ce(s){pt(),p?.(),s||q(!1),setTimeout(()=>{o&&Le(o[0])},D.DURATION*1e3)}function ze(){if(!d.current)return;const s=document.querySelector("[data-vaul-drawer-wrapper]"),T=we(d.current,c);$(d.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${D.DURATION}s cubic-bezier(${D.EASE.join(",")})`}),$(re.current,{transition:`opacity ${D.DURATION}s cubic-bezier(${D.EASE.join(",")})`,opacity:"1"}),v&&T&&T>0&&z&&$(s,{borderRadius:`${Qe}px`,overflow:"hidden",...O(c)?{transform:`scale(${he()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${he()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${D.DURATION}s`,transitionTimingFunction:`cubic-bezier(${D.EASE.join(",")})`},!0)}function pt(){!Z||!d.current||(d.current.classList.remove(Ce),le.current=!1,ie(!1),Se.current=new Date)}function ht(s){if(!Z||!d.current)return;d.current.classList.remove(Ce),le.current=!1,ie(!1),Se.current=new Date;const T=we(d.current,c);if(!s||!ke(s.target,!1)||!T||Number.isNaN(T)||be.current===null)return;const E=Se.current.getTime()-be.current.getTime(),y=Re.current-(O(c)?s.pageY:s.pageX),C=Math.abs(y)/E;if(C>.05&&($e(!0),setTimeout(()=>{$e(!1)},200)),o){lt({draggedDistance:y*(c==="bottom"||c==="right"?1:-1),closeDrawer:ce,velocity:C,dismissible:g}),i?.(s,!0);return}if(c==="bottom"||c==="right"?y>0:y<0){ze(),i?.(s,!0);return}if(C>Je){ce(),i?.(s,!1);return}var U;const j=Math.min((U=d.current.getBoundingClientRect().height)!=null?U:0,window.innerHeight);var J;const Y=Math.min((J=d.current.getBoundingClientRect().width)!=null?J:0,window.innerWidth),te=c==="left"||c==="right";if(Math.abs(T)>=(te?Y:j)*R){ce(),i?.(s,!1);return}i?.(s,!0),ze()}r.useEffect(()=>(z&&($(document.documentElement,{scrollBehavior:"auto"}),pe.current=new Date),()=>{jt(document.documentElement,"scrollBehavior")}),[z]);function gt(s){const T=s?(window.innerWidth-ne)/window.innerWidth:1,E=s?-ne:0;Te.current&&window.clearTimeout(Te.current),$(d.current,{transition:`transform ${D.DURATION}s cubic-bezier(${D.EASE.join(",")})`,transform:O(c)?`scale(${T}) translate3d(0, ${E}px, 0)`:`scale(${T}) translate3d(${E}px, 0, 0)`}),!s&&d.current&&(Te.current=setTimeout(()=>{const y=we(d.current,c);$(d.current,{transition:"none",transform:O(c)?`translate3d(0, ${y}px, 0)`:`translate3d(${y}px, 0, 0)`})},500))}function vt(s,T){if(T<0)return;const E=(window.innerWidth-ne)/window.innerWidth,y=E+T*(1-E),C=-ne+T*ne;$(d.current,{transform:O(c)?`scale(${y}) translate3d(0, ${C}px, 0)`:`scale(${y}) translate3d(${C}px, 0, 0)`,transition:"none"})}function wt(s,T){const E=O(c)?window.innerHeight:window.innerWidth,y=T?(E-ne)/E:1,C=T?-ne:0;T&&$(d.current,{transition:`transform ${D.DURATION}s cubic-bezier(${D.EASE.join(",")})`,transform:O(c)?`scale(${y}) translate3d(0, ${C}px, 0)`:`scale(${y}) translate3d(${C}px, 0, 0)`})}return r.useEffect(()=>{k||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[k]),r.createElement(Tt,{defaultOpen:W,onOpenChange:s=>{!g&&!s||(s?K(!0):ce(!0),q(s))},open:z},r.createElement(Ye.Provider,{value:{activeSnapPoint:st,snapPoints:o,setActiveSnapPoint:Le,drawerRef:d,overlayRef:re,onOpenChange:n,onPress:ft,onRelease:ht,onDrag:mt,dismissible:g,shouldAnimate:Ie,handleOnly:f,isOpen:z,isDragging:Z,shouldFade:Be,closeDrawer:ce,onNestedDrag:vt,onNestedOpenChange:gt,onNestedRelease:wt,keyboardIsOpen:ae,modal:k,snapPointsOffset:ue,activeSnapPointIndex:oe,direction:c,shouldScaleBackground:v,setBackgroundColorOnScale:h,noBodyStyles:M,container:N,autoFocus:V}},t))}const nt=r.forwardRef(function({...e},n){const{overlayRef:t,snapPoints:a,onRelease:i,shouldFade:o,isOpen:v,modal:h,shouldAnimate:R}=me(),S=Ke(n,t),g=a&&a.length>0;if(!h)return null;const f=r.useCallback(m=>i(m),[i]);return r.createElement(Et,{onMouseUp:f,ref:S,"data-vaul-overlay":"","data-vaul-snap-points":v&&g?"true":"false","data-vaul-snap-points-overlay":v&&o?"true":"false","data-vaul-animate":R?.current?"true":"false",...e})});nt.displayName="Drawer.Overlay";const rt=r.forwardRef(function({onPointerDownOutside:e,style:n,onOpenAutoFocus:t,...a},i){const{drawerRef:o,onPress:v,onRelease:h,onDrag:R,keyboardIsOpen:S,snapPointsOffset:g,activeSnapPointIndex:f,modal:m,isOpen:B,direction:H,snapPoints:_,container:k,handleOnly:p,shouldAnimate:I,autoFocus:M}=me(),[c,W]=r.useState(!1),G=Ke(i,o),u=r.useRef(null),b=r.useRef(null),w=r.useRef(!1),P=_&&_.length>0;Gt();const N=(l,F,z=0)=>{if(w.current)return!0;const q=Math.abs(l.y),L=Math.abs(l.x),K=L>q,Z=["bottom","right"].includes(F)?1:-1;if(F==="left"||F==="right"){if(!(l.x*Z<0)&&L>=0&&L<=z)return K}else if(!(l.y*Z<0)&&q>=0&&q<=z)return!K;return w.current=!0,!0};r.useEffect(()=>{P&&window.requestAnimationFrame(()=>{W(!0)})},[]);function V(l){u.current=null,w.current=!1,h(l)}return r.createElement(_t,{"data-vaul-drawer-direction":H,"data-vaul-drawer":"","data-vaul-delayed-snap-points":c?"true":"false","data-vaul-snap-points":B&&P?"true":"false","data-vaul-custom-container":k?"true":"false","data-vaul-animate":I?.current?"true":"false",...a,ref:G,style:g&&g.length>0?{"--snap-point-height":`${g[f??0]}px`,...n}:n,onPointerDown:l=>{p||(a.onPointerDown==null||a.onPointerDown.call(a,l),u.current={x:l.pageX,y:l.pageY},v(l))},onOpenAutoFocus:l=>{t?.(l),M||l.preventDefault()},onPointerDownOutside:l=>{if(e?.(l),!m||l.defaultPrevented){l.preventDefault();return}S.current&&(S.current=!1)},onFocusOutside:l=>{if(!m){l.preventDefault();return}},onPointerMove:l=>{if(b.current=l,p||(a.onPointerMove==null||a.onPointerMove.call(a,l),!u.current))return;const F=l.pageY-u.current.y,z=l.pageX-u.current.x,q=l.pointerType==="touch"?10:2;N({x:z,y:F},H,q)?R(l):(Math.abs(z)>q||Math.abs(F)>q)&&(u.current=null)},onPointerUp:l=>{a.onPointerUp==null||a.onPointerUp.call(a,l),u.current=null,w.current=!1,h(l)},onPointerOut:l=>{a.onPointerOut==null||a.onPointerOut.call(a,l),V(b.current)},onContextMenu:l=>{a.onContextMenu==null||a.onContextMenu.call(a,l),b.current&&V(b.current)}})});rt.displayName="Drawer.Content";const Jt=250,Qt=120,at=r.forwardRef(function({preventCycle:e=!1,children:n,...t},a){const{closeDrawer:i,isDragging:o,snapPoints:v,activeSnapPoint:h,setActiveSnapPoint:R,dismissible:S,handleOnly:g,isOpen:f,onPress:m,onDrag:B}=me(),H=r.useRef(null),_=r.useRef(!1);function k(){if(_.current){M();return}window.setTimeout(()=>{p()},Qt)}function p(){if(o||e||_.current){M();return}if(M(),!v||v.length===0){S||i();return}if(h===v[v.length-1]&&S){i();return}const W=v.findIndex(u=>u===h);if(W===-1)return;const G=v[W+1];R(G)}function I(){H.current=window.setTimeout(()=>{_.current=!0},Jt)}function M(){H.current&&window.clearTimeout(H.current),_.current=!1}return r.createElement("div",{onClick:k,onPointerCancel:M,onPointerDown:c=>{g&&m(c),I()},onPointerMove:c=>{g&&B(c)},ref:a,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...t},r.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},n))});at.displayName="Drawer.Handle";function en(e){const n=me(),{container:t=n.container,...a}=e;return r.createElement(Rt,{container:t,...a})}const ee={Root:Zt,Content:rt,Overlay:nt,Portal:en,Handle:at,Close:St,Title:yt,Description:bt},tn="_overlay_av0cc_1",nn="_content_av0cc_9",rn="_sizeSm_av0cc_29",an="_sizeMd_av0cc_33",on="_sizeLg_av0cc_37",sn="_heightSm_av0cc_41",ln="_heightMd_av0cc_46",un="_heightLg_av0cc_51",cn="_radiusMd_av0cc_56",dn="_radiusLg_av0cc_60",fn="_radiusXl_av0cc_64",mn="_variantSoft_av0cc_68",pn="_dragHandle_av0cc_80",hn="_dragHandleInner_av0cc_86",gn="_header_av0cc_92",vn="_heading_av0cc_102",wn="_titleGroup_av0cc_108",yn="_title_av0cc_108",bn="_description_av0cc_121",Sn="_closeButton_av0cc_127",Tn="_body_av0cc_147",Rn="_footer_av0cc_155",x={overlay:tn,content:nn,sizeSm:rn,sizeMd:an,sizeLg:on,heightSm:sn,heightMd:ln,heightLg:un,radiusMd:cn,radiusLg:dn,radiusXl:fn,variantSoft:mn,dragHandle:pn,dragHandleInner:hn,header:gn,heading:vn,titleGroup:wn,title:yn,description:bn,closeButton:Sn,body:Tn,footer:Rn},En={sm:x.sizeSm,md:x.sizeMd,lg:x.sizeLg},_n={md:x.radiusMd,lg:x.radiusLg,xl:x.radiusXl},Dn={sm:x.heightSm,md:x.heightMd,lg:x.heightLg};function xn({open:e,onOpenChange:n,title:t,description:a,headerIcon:i,children:o,primaryActionLabel:v,secondaryActionLabel:h,primaryActionDisabled:R=!1,primaryActionLoading:S=!1,primaryActionIcon:g,primaryActionIconPosition:f="start",secondaryActionDisabled:m=!1,secondaryActionIcon:B,secondaryActionIconPosition:H="start",onPrimaryAction:_,onSecondaryAction:k,size:p="md",radius:I="xl",height:M="md"}){const c=[x.content,x.variantSoft,En[p],_n[I],Dn[M]].filter(Boolean).join(" "),W=!!(v&&h),G=R||S,u=m||S,b=S?A.jsx(Dt,{size:"xs",tone:"onPrimary",ariaLabel:"処理中"}):g,w=P=>{n(P)};return A.jsx(ee.Root,{open:e,onOpenChange:w,repositionInputs:!1,children:A.jsxs(ee.Portal,{children:[A.jsx(ee.Overlay,{className:x.overlay}),A.jsxs(ee.Content,{className:c,children:[A.jsx("div",{className:x.dragHandle,children:A.jsx(ee.Handle,{className:x.dragHandleInner})}),A.jsxs("div",{className:x.header,children:[A.jsxs("div",{className:x.heading,children:[i??null,A.jsxs("div",{className:x.titleGroup,children:[A.jsx(ee.Title,{className:x.title,children:t}),a?A.jsx(ee.Description,{className:x.description,children:a}):null]})]}),A.jsx(ee.Close,{asChild:!0,children:A.jsx("button",{type:"button",className:x.closeButton,"aria-label":"閉じる",children:A.jsx(xt,{size:18,strokeWidth:2.5})})})]}),A.jsx("div",{className:x.body,children:o}),W?A.jsxs("div",{className:x.footer,children:[h?A.jsx(Ue,{variant:"outline",radius:"pill",size:"sm",fullWidth:!0,onClick:k,disabled:u,icon:B,iconPosition:H,children:h}):null,v?A.jsx(Ue,{radius:"pill",fullWidth:!0,size:"sm",onClick:_,disabled:G,icon:b,iconPosition:f,"aria-busy":S,children:v}):null]}):null]})]})})}xn.__docgenInfo={description:"",methods:[],displayName:"HalfModal",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},title:{required:!0,tsType:{name:"string"},description:""},description:{required:!1,tsType:{name:"string"},description:""},headerIcon:{required:!1,tsType:{name:"ReactNode"},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""},size:{required:!1,tsType:{name:"union",raw:"keyof typeof SIZE_CLASS",elements:[{name:"literal",value:"sm"},{name:"literal",value:"md"},{name:"literal",value:"lg"}]},description:"",defaultValue:{value:'"md"',computed:!1}},radius:{required:!1,tsType:{name:"union",raw:"keyof typeof RADIUS_CLASS",elements:[{name:"literal",value:"md"},{name:"literal",value:"lg"},{name:"literal",value:"xl"}]},description:"",defaultValue:{value:'"xl"',computed:!1}},height:{required:!1,tsType:{name:"union",raw:"keyof typeof HEIGHT_CLASS",elements:[{name:"literal",value:"sm"},{name:"literal",value:"md"},{name:"literal",value:"lg"}]},description:"",defaultValue:{value:'"md"',computed:!1}},primaryActionDisabled:{defaultValue:{value:"false",computed:!1},required:!1},primaryActionLoading:{defaultValue:{value:"false",computed:!1},required:!1},primaryActionIconPosition:{defaultValue:{value:'"start"',computed:!1},required:!1},secondaryActionDisabled:{defaultValue:{value:"false",computed:!1},required:!1},secondaryActionIconPosition:{defaultValue:{value:'"start"',computed:!1},required:!1}}};export{xn as H};
