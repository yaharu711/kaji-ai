import{j as e}from"./jsx-runtime-u17CrQMm.js";import{P as g}from"./index-BQTbDDxi.js";import{L as m,N as j}from"./chunk-JMJ3UQ3L-Dl0FRT2p.js";import{U as c,C as b}from"./index-Ctk9EgDV.js";import{c as u}from"./createLucideIcon-COAGhyiF.js";const x=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],N=u("user",x);const f=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],M=u("users",f),h="_actionLink_jcm60_1",k={actionLink:h};function v({to:p,icon:s,pageName:n}){return e.jsxs(m,{to:p,className:k.actionLink,children:[s,`${n}に移動`]})}v.__docgenInfo={description:"",methods:[],displayName:"ActionLink",props:{to:{required:!0,tsType:{name:"string"},description:""},icon:{required:!1,tsType:{name:"ReactNode"},description:""},pageName:{required:!0,tsType:{name:"string"},description:""}}};const y="_userPopoverContent_figzj_1",z="_userPopoverProfile_figzj_6",w="_userPopoverProfileMain_figzj_20",S="_userPopoverText_figzj_26",T="_userPopoverName_figzj_32",I="_userPopoverStatus_figzj_39",R="_userPopoverStatusDot_figzj_47",C="_userPopoverBody_figzj_55",A="_userPopoverSection_figzj_59",q="_userPopoverMembers_figzj_66",H="_userPopoverMember_figzj_66",L="_userPopoverMemberInfo_figzj_84",D="_userPopoverMemberHeading_figzj_90",U="_userPopoverMemberName_figzj_96",B="_userPopoverMemberRole_figzj_101",$="_userPopoverMemberStatus_figzj_107",O="_userPopoverMemberStatusDot_figzj_115",G="_userPopoverMemberOwner_figzj_123",W="_userPopoverMemberCrown_figzj_135",r={userPopoverContent:y,userPopoverProfile:z,userPopoverProfileMain:w,userPopoverText:S,userPopoverName:T,userPopoverStatus:I,userPopoverStatusDot:R,userPopoverBody:C,userPopoverSection:A,userPopoverMembers:q,userPopoverMember:H,userPopoverMemberInfo:L,userPopoverMemberHeading:D,userPopoverMemberName:U,userPopoverMemberRole:B,userPopoverMemberStatus:$,userPopoverMemberStatusDot:O,userPopoverMemberOwner:G,userPopoverMemberCrown:W};function d({groupName:p,currentUser:s,members:n}){return e.jsxs("div",{className:r.userPopoverContent,children:[e.jsxs("div",{className:r.userPopoverProfile,children:[e.jsxs("div",{className:r.userPopoverProfileMain,children:[e.jsx(c,{name:s.name,imageUrl:s.image,size:"lg",tone:"primary"}),e.jsxs("div",{className:r.userPopoverText,children:[e.jsx("p",{className:r.userPopoverName,children:s.name??"未設定"}),e.jsxs("div",{className:r.userPopoverStatus,children:[e.jsx("span",{className:r.userPopoverStatusDot}),"ログイン中"]})]})]}),s.id?e.jsx(v,{to:`/users/${s.id}`,icon:e.jsx(N,{size:18}),pageName:"プロフィール"}):null]}),e.jsxs("div",{className:r.userPopoverBody,children:[e.jsx("p",{className:r.userPopoverSection,children:`${p}のメンバー`}),e.jsx("ul",{className:r.userPopoverMembers,children:n.map(a=>{const t=a.is_owner;return e.jsxs("li",{className:[r.userPopoverMember,t?r.userPopoverMemberOwner:""].filter(Boolean).join(" "),children:[e.jsx(c,{name:a.name,imageUrl:a.image_url,size:"md",tone:"purple",badge:t?e.jsx("span",{className:r.userPopoverMemberCrown,"aria-hidden":"true",children:e.jsx(b,{size:12})}):null}),e.jsxs("div",{className:r.userPopoverMemberInfo,children:[e.jsxs("div",{className:r.userPopoverMemberHeading,children:[e.jsx("span",{className:r.userPopoverMemberName,children:a.name??"未設定"}),t?e.jsx("span",{className:r.userPopoverMemberRole,children:"オーナー"}):null]}),a.is_invited?e.jsxs("div",{className:r.userPopoverMemberStatus,children:[e.jsx("span",{className:r.userPopoverMemberStatusDot}),"招待中"]}):null]})]},a.id)})})]})]})}d.__docgenInfo={description:"",methods:[],displayName:"UserPopoverContent",props:{groupName:{required:!0,tsType:{name:"string"},description:""},currentUser:{required:!0,tsType:{name:"AppSessionUser"},description:""},members:{required:!0,tsType:{name:"Array",elements:[{name:"GroupMember"}],raw:"GroupMember[]"},description:""}}};const E="_header_k5gek_1",F="_topRow_k5gek_11",J="_brand_k5gek_18",K="_brandText_k5gek_26",Q="_iconWrap_k5gek_33",V="_appName_k5gek_50",X="_userTrigger_k5gek_68",Y="_bottomRow_k5gek_97",Z="_nav_k5gek_106",ee="_navItem_k5gek_126",re="_navItemActive_k5gek_145",o={header:E,topRow:F,brand:J,brandText:K,iconWrap:Q,appName:V,userTrigger:X,bottomRow:Y,nav:Z,navItem:ee,navItemActive:re};function oe({navItems:p,groupName:s,currentUser:n,members:a}){const t=s&&n&&a&&a.length>0?e.jsx(d,{groupName:s,currentUser:n,members:a}):null,l=!!t;return e.jsxs("header",{className:o.header,children:[e.jsxs("div",{className:o.topRow,children:[e.jsxs(m,{className:o.brand,to:"/","aria-label":"トップページへ戻る",children:[e.jsx("span",{className:o.iconWrap,children:e.jsx("img",{src:"https://kaji-ai.s3.ap-northeast-1.amazonaws.com/favicon.svg",alt:"アプリのアイコン"})}),e.jsx("div",{className:o.brandText,children:e.jsx("span",{className:o.appName,children:"カジアイ"})})]}),e.jsx(g,{trigger:e.jsxs("button",{type:"button",className:o.userTrigger,"aria-label":"ユーザー情報を開く",disabled:!l,children:[e.jsx(M,{size:18}),e.jsx("span",{children:"メンバー"})]}),ariaLabel:"ユーザー情報",content:t,size:"md",radius:"xl",variant:"soft",side:"bottom",align:"end"})]}),e.jsx("div",{className:o.bottomRow,children:e.jsx("nav",{className:o.nav,"aria-label":"ページナビゲーション",children:p.map(i=>{const _=i.icon;return e.jsxs(j,{to:i.to,state:i.state,className:({isActive:P})=>[o.navItem,i.isActive??P?o.navItemActive:""].filter(Boolean).join(" "),children:[e.jsx(_,{size:17}),i.label]},i.to)})})})]})}oe.__docgenInfo={description:"",methods:[],displayName:"Header",props:{navItems:{required:!0,tsType:{name:"Array",elements:[{name:"HeaderNavItem"}],raw:"HeaderNavItem[]"},description:""},groupName:{required:!1,tsType:{name:"string"},description:""},currentUser:{required:!1,tsType:{name:"AppSessionUser"},description:""},members:{required:!1,tsType:{name:"Array",elements:[{name:"GroupMember"}],raw:"GroupMember[]"},description:""}}};export{oe as H};
