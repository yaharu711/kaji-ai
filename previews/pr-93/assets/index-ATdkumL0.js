import{j as e}from"./jsx-runtime-u17CrQMm.js";import{r as c}from"./iframe-AnQgECJl.js";import{H as i}from"./index-B7ioKqMC.js";import{m as n,A as z}from"./index-7n9kRPxN.js";const f="_root_armz5_1",N="_button_armz5_7",g="_icon_armz5_30",H="_count_armz5_36",v="_burst_armz5_41",C="_screenBurst_armz5_49",P="_screenCenter_armz5_56",B="_screenHeart_armz5_65",T="_particle_armz5_74",q="_screenParticle_armz5_81",a={root:f,button:N,icon:g,count:H,burst:v,screenBurst:C,screenCenter:P,screenHeart:B,particle:T,screenParticle:q};function w({likedByMe:r,likeCount:l,isLiking:d,onLike:x}){const[u,_]=c.useState(0),[m,o]=c.useState(!1),[h,j]=c.useState("local"),y=[{x:-38,y:-52,delay:0},{x:0,y:-64,delay:40},{x:38,y:-52,delay:80},{x:-52,y:8,delay:120},{x:52,y:8,delay:160}],p=[{x:-108,y:-86,delay:0},{x:0,y:-128,delay:40},{x:108,y:-86,delay:80},{x:-132,y:10,delay:120},{x:132,y:10,delay:160},{x:-72,y:108,delay:200},{x:72,y:108,delay:240}],b=()=>{_(t=>t+1),o(!0)};return e.jsxs("div",{className:a.root,children:[e.jsxs(n.button,{type:"button",className:a.button,"aria-label":r?"いいね済み":"いいね",disabled:d,whileTap:{scale:.8},onClick:()=>{d||(j(r?"screen":"local"),b(),r||x())},children:[e.jsx(n.span,{className:a.icon,"aria-hidden":!0,animate:m?{scale:[1,1.4,1]}:{scale:1},transition:{duration:.3},children:e.jsx(i,{variant:r?"solid":"outline",size:"lg"})}),l>0?e.jsx("span",{className:a.count,children:l}):null]}),e.jsx(z,{children:m?h==="screen"?e.jsx("span",{className:a.screenBurst,"aria-hidden":!0,children:e.jsxs("span",{className:a.screenCenter,children:[e.jsx(n.span,{className:a.screenHeart,initial:{scale:4,opacity:0},animate:{scale:[.2,9,1.2],opacity:[0,1,0]},exit:{opacity:0},transition:{duration:.8,ease:"easeOut"},children:e.jsx(i,{variant:"solid",size:"lg"})}),p.map((t,s)=>e.jsx(n.span,{className:[a.particle,a.screenParticle].join(" "),initial:{opacity:1,scale:0,x:0,y:0},animate:{opacity:0,scale:3,x:t.x,y:t.y},exit:{opacity:0},transition:{duration:.8,ease:"easeOut",delay:t.delay/1e3},onAnimationComplete:s===p.length-1?()=>{o(!1)}:void 0,children:e.jsx(i,{variant:"solid",size:"sm"})},s))]})},u):e.jsx("span",{className:a.burst,"aria-hidden":!0,children:y.map((t,s)=>e.jsx(n.span,{className:a.particle,initial:{opacity:1,scale:0,x:0,y:0},animate:{opacity:0,scale:2,x:t.x,y:t.y},exit:{opacity:0},transition:{duration:.8,ease:"easeOut",delay:t.delay/1e3},onAnimationComplete:s===y.length-1?()=>{o(!1)}:void 0,children:e.jsx(i,{variant:"solid",size:"sm"})},s))},u):null})]})}w.__docgenInfo={description:"",methods:[],displayName:"LikeReaction",props:{likedByMe:{required:!0,tsType:{name:"boolean"},description:""},likeCount:{required:!0,tsType:{name:"number"},description:""},isLiking:{required:!0,tsType:{name:"boolean"},description:""},onLike:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};export{w as L};
