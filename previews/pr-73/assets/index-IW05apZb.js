import{s as Ke,c as Ge,R as We,d as J,t as Ve,g as Je,i as Ye,n as k,a as Ze,r as F}from"./iframe-RxY2YWXR.js";import{j as Xe}from"./jsx-runtime-u17CrQMm.js";function et(e,t){return e.toLowerCase()===t.toLowerCase()}function tt(e){return e<300?"#69AB32":e<400?"#F0BB4B":"#E95F5D"}async function st(e){const s=await e.clone().text();return{url:new URL(e.url),method:e.method,headers:Object.fromEntries(e.headers.entries()),body:s}}const{message:rt}=Ke;async function nt(e){const t=e.clone(),s=await t.text(),r=t.status||200,n=t.statusText||rt[r]||"OK";return{status:r,statusText:n,headers:Object.fromEntries(t.headers.entries()),body:s}}function it(e){for(var t=[],s=0;s<e.length;){var r=e[s];if(r==="*"||r==="+"||r==="?"){t.push({type:"MODIFIER",index:s,value:e[s++]});continue}if(r==="\\"){t.push({type:"ESCAPED_CHAR",index:s++,value:e[s++]});continue}if(r==="{"){t.push({type:"OPEN",index:s,value:e[s++]});continue}if(r==="}"){t.push({type:"CLOSE",index:s,value:e[s++]});continue}if(r===":"){for(var n="",i=s+1;i<e.length;){var a=e.charCodeAt(i);if(a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122||a===95){n+=e[i++];continue}break}if(!n)throw new TypeError("Missing parameter name at ".concat(s));t.push({type:"NAME",index:s,value:n}),s=i;continue}if(r==="("){var o=1,l="",i=s+1;if(e[i]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(i));for(;i<e.length;){if(e[i]==="\\"){l+=e[i++]+e[i++];continue}if(e[i]===")"){if(o--,o===0){i++;break}}else if(e[i]==="("&&(o++,e[i+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(i));l+=e[i++]}if(o)throw new TypeError("Unbalanced pattern at ".concat(s));if(!l)throw new TypeError("Missing pattern at ".concat(s));t.push({type:"PATTERN",index:s,value:l}),s=i;continue}t.push({type:"CHAR",index:s,value:e[s++]})}return t.push({type:"END",index:s,value:""}),t}function at(e,t){t===void 0&&(t={});for(var s=it(e),r=t.prefixes,n=r===void 0?"./":r,i=t.delimiter,a=i===void 0?"/#?":i,o=[],l=0,f=0,c="",y=function(O){if(f<s.length&&s[f].type===O)return s[f++].value},d=function(O){var S=y(O);if(S!==void 0)return S;var P=s[f],V=P.type,ze=P.index;throw new TypeError("Unexpected ".concat(V," at ").concat(ze,", expected ").concat(O))},h=function(){for(var O="",S;S=y("CHAR")||y("ESCAPED_CHAR");)O+=S;return O},p=function(O){for(var S=0,P=a;S<P.length;S++){var V=P[S];if(O.indexOf(V)>-1)return!0}return!1},u=function(O){var S=o[o.length-1],P=O||(S&&typeof S=="string"?S:"");if(S&&!P)throw new TypeError('Must have text between two parameters, missing text after "'.concat(S.name,'"'));return!P||p(P)?"[^".concat(M(a),"]+?"):"(?:(?!".concat(M(P),")[^").concat(M(a),"])+?")};f<s.length;){var v=y("CHAR"),g=y("NAME"),m=y("PATTERN");if(g||m){var w=v||"";n.indexOf(w)===-1&&(c+=w,w=""),c&&(o.push(c),c=""),o.push({name:g||l++,prefix:w,suffix:"",pattern:m||u(w),modifier:y("MODIFIER")||""});continue}var b=v||y("ESCAPED_CHAR");if(b){c+=b;continue}c&&(o.push(c),c="");var E=y("OPEN");if(E){var w=h(),T=y("NAME")||"",R=y("PATTERN")||"",C=h();d("CLOSE"),o.push({name:T||(R?l++:""),pattern:T&&!R?u(w):R,prefix:w,suffix:C,modifier:y("MODIFIER")||""});continue}d("END")}return o}function ot(e,t){var s=[],r=Re(e,s,t);return ut(r,s,t)}function ut(e,t,s){s===void 0&&(s={});var r=s.decode,n=r===void 0?function(i){return i}:r;return function(i){var a=e.exec(i);if(!a)return!1;for(var o=a[0],l=a.index,f=Object.create(null),c=function(d){if(a[d]===void 0)return"continue";var h=t[d-1];h.modifier==="*"||h.modifier==="+"?f[h.name]=a[d].split(h.prefix+h.suffix).map(function(p){return n(p,h)}):f[h.name]=n(a[d],h)},y=1;y<a.length;y++)c(y);return{path:o,index:l,params:f}}}function M(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function Ee(e){return e&&e.sensitive?"":"i"}function ct(e,t){if(!t)return e;for(var s=/\((?:\?<(.*?)>)?(?!\?)/g,r=0,n=s.exec(e.source);n;)t.push({name:n[1]||r++,prefix:"",suffix:"",modifier:"",pattern:""}),n=s.exec(e.source);return e}function ht(e,t,s){var r=e.map(function(n){return Re(n,t,s).source});return new RegExp("(?:".concat(r.join("|"),")"),Ee(s))}function lt(e,t,s){return ft(at(e,s),t,s)}function ft(e,t,s){s===void 0&&(s={});for(var r=s.strict,n=r===void 0?!1:r,i=s.start,a=i===void 0?!0:i,o=s.end,l=o===void 0?!0:o,f=s.encode,c=f===void 0?function(S){return S}:f,y=s.delimiter,d=y===void 0?"/#?":y,h=s.endsWith,p=h===void 0?"":h,u="[".concat(M(p),"]|$"),v="[".concat(M(d),"]"),g=a?"^":"",m=0,w=e;m<w.length;m++){var b=w[m];if(typeof b=="string")g+=M(c(b));else{var E=M(c(b.prefix)),T=M(c(b.suffix));if(b.pattern)if(t&&t.push(b),E||T)if(b.modifier==="+"||b.modifier==="*"){var R=b.modifier==="*"?"?":"";g+="(?:".concat(E,"((?:").concat(b.pattern,")(?:").concat(T).concat(E,"(?:").concat(b.pattern,"))*)").concat(T,")").concat(R)}else g+="(?:".concat(E,"(").concat(b.pattern,")").concat(T,")").concat(b.modifier);else{if(b.modifier==="+"||b.modifier==="*")throw new TypeError('Can not repeat "'.concat(b.name,'" without a prefix and suffix'));g+="(".concat(b.pattern,")").concat(b.modifier)}else g+="(?:".concat(E).concat(T,")").concat(b.modifier)}}if(l)n||(g+="".concat(v,"?")),g+=s.endsWith?"(?=".concat(u,")"):"$";else{var C=e[e.length-1],O=typeof C=="string"?v.indexOf(C[C.length-1])>-1:C===void 0;n||(g+="(?:".concat(v,"(?=").concat(u,"))?")),O||(g+="(?=".concat(v,"|").concat(u,")"))}return new RegExp(g,Ee(s))}function Re(e,t,s){return e instanceof RegExp?ct(e,t):Array.isArray(e)?ht(e,t,s):lt(e,t,s)}new TextEncoder;function dt(e){try{return new URL(e),!0}catch{return!1}}function he(e,t){const r=Object.getOwnPropertySymbols(t).find(n=>n.description===e);if(r)return Reflect.get(t,r)}var H=class extends Response{static isConfigurableStatusCode(e){return e>=200&&e<=599}static isRedirectResponse(e){return H.STATUS_CODES_WITH_REDIRECT.includes(e)}static isResponseWithBody(e){return!H.STATUS_CODES_WITHOUT_BODY.includes(e)}static setUrl(e,t){if(!e||e==="about:"||!dt(e))return;const s=he("state",t);s?s.urlList.push(new URL(e)):Object.defineProperty(t,"url",{value:e,enumerable:!0,configurable:!0,writable:!1})}static parseRawHeaders(e){const t=new Headers;for(let s=0;s<e.length;s+=2)t.append(e[s],e[s+1]);return t}constructor(e,t={}){var s;const r=(s=t.status)!=null?s:200,n=H.isConfigurableStatusCode(r)?r:200,i=H.isResponseWithBody(r)?e:null;if(super(i,{status:n,statusText:t.statusText,headers:t.headers}),r!==n){const a=he("state",this);a?a.status=r:Object.defineProperty(this,"status",{value:r,enumerable:!0,configurable:!0,writable:!1})}H.setUrl(t.url,this)}},ie=H;ie.STATUS_CODES_WITHOUT_BODY=[101,103,204,205,304];ie.STATUS_CODES_WITH_REDIRECT=[301,302,303,307,308];function pt(e,t=!0){return[t&&e.origin,e.pathname].filter(Boolean).join("")}const yt=/[?|#].*$/g;function Pe(e){return e.endsWith("?")?e:e.replace(yt,"")}function mt(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function vt(e,t){if(mt(e)||e.startsWith("*"))return e;const s=t||typeof location<"u"&&location.href;return s?decodeURI(new URL(encodeURI(e),s).href):e}function gt(e,t){if(e instanceof RegExp)return e;const s=vt(e,t);return Pe(s)}function bt(e){return e.replace(/([:a-zA-Z_-]*)(\*{1,2})+/g,(t,s,r)=>{const n="(.*)";return s?s.startsWith(":")?`${s}${r}`:`${s}${n}`:n}).replace(/([^/])(:)(?=\d+)/,"$1\\$2").replace(/^([^/]+)(:)(?=\/\/)/,"$1\\$2")}function wt(e,t,s){const r=gt(t,s),n=typeof r=="string"?bt(r):r,i=pt(e),a=ot(n,{decode:decodeURIComponent})(i),o=a&&a.params||{};return{matches:a!==!1,params:o}}var St=Object.create,xe=Object.defineProperty,Ct=Object.getOwnPropertyDescriptor,Te=Object.getOwnPropertyNames,Ot=Object.getPrototypeOf,Et=Object.prototype.hasOwnProperty,Rt=(e,t)=>function(){return t||(0,e[Te(e)[0]])((t={exports:{}}).exports,t),t.exports},Pt=(e,t,s,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Te(t))!Et.call(e,n)&&n!==s&&xe(e,n,{get:()=>t[n],enumerable:!(r=Ct(t,n))||r.enumerable});return e},xt=(e,t,s)=>(s=e!=null?St(Ot(e)):{},Pt(xe(s,"default",{value:e,enumerable:!0}),e)),Tt=Rt({"node_modules/.pnpm/cookie@1.0.2/node_modules/cookie/dist/index.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parse=o,e.serialize=c;var t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,s=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const h=function(){};return h.prototype=Object.create(null),h})();function o(h,p){const u=new a,v=h.length;if(v<2)return u;const g=p?.decode||y;let m=0;do{const w=h.indexOf("=",m);if(w===-1)break;const b=h.indexOf(";",m),E=b===-1?v:b;if(w>E){m=h.lastIndexOf(";",w-1)+1;continue}const T=l(h,m,w),R=f(h,w,T),C=h.slice(T,R);if(u[C]===void 0){let O=l(h,w+1,E),S=f(h,E,O);const P=g(h.slice(O,S));u[C]=P}m=E+1}while(m<v);return u}function l(h,p,u){do{const v=h.charCodeAt(p);if(v!==32&&v!==9)return p}while(++p<u);return u}function f(h,p,u){for(;p>u;){const v=h.charCodeAt(--p);if(v!==32&&v!==9)return p+1}return u}function c(h,p,u){const v=u?.encode||encodeURIComponent;if(!t.test(h))throw new TypeError(`argument name is invalid: ${h}`);const g=v(p);if(!s.test(g))throw new TypeError(`argument val is invalid: ${p}`);let m=h+"="+g;if(!u)return m;if(u.maxAge!==void 0){if(!Number.isInteger(u.maxAge))throw new TypeError(`option maxAge is invalid: ${u.maxAge}`);m+="; Max-Age="+u.maxAge}if(u.domain){if(!r.test(u.domain))throw new TypeError(`option domain is invalid: ${u.domain}`);m+="; Domain="+u.domain}if(u.path){if(!n.test(u.path))throw new TypeError(`option path is invalid: ${u.path}`);m+="; Path="+u.path}if(u.expires){if(!d(u.expires)||!Number.isFinite(u.expires.valueOf()))throw new TypeError(`option expires is invalid: ${u.expires}`);m+="; Expires="+u.expires.toUTCString()}if(u.httpOnly&&(m+="; HttpOnly"),u.secure&&(m+="; Secure"),u.partitioned&&(m+="; Partitioned"),u.priority)switch(typeof u.priority=="string"?u.priority.toLowerCase():void 0){case"low":m+="; Priority=Low";break;case"medium":m+="; Priority=Medium";break;case"high":m+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${u.priority}`)}if(u.sameSite)switch(typeof u.sameSite=="string"?u.sameSite.toLowerCase():u.sameSite){case!0:case"strict":m+="; SameSite=Strict";break;case"lax":m+="; SameSite=Lax";break;case"none":m+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${u.sameSite}`)}return m}function y(h){if(h.indexOf("%")===-1)return h;try{return decodeURIComponent(h)}catch{return h}}function d(h){return i.call(h)==="[object Date]"}}}),le=xt(Tt()),Ae=le.default||le,At=Ae.parse,It=Ae.serialize;function Ie(e){const t=At(e),s={};for(const r in t)typeof t[r]<"u"&&(s[r]=t[r]);return s}function fe(){return Ie(document.cookie)}function Ft(e){if(typeof document>"u"||typeof location>"u")return{};switch(e.credentials){case"same-origin":{const t=new URL(e.url);return location.origin===t.origin?fe():{}}case"include":return fe();default:return{}}}function Ut(e){const t=e.headers.get("cookie"),s=t?Ie(t):{},r=Ft(e);for(const a in r)e.headers.append("cookie",It(a,r[a]));const n=Ge.getCookies(e.url),i=Object.fromEntries(n.map(a=>[a.key,a.value]));for(const a of n)e.headers.append("cookie",a.toString());return{...r,...i,...s}}var j=(e=>(e.HEAD="HEAD",e.GET="GET",e.POST="POST",e.PUT="PUT",e.PATCH="PATCH",e.OPTIONS="OPTIONS",e.DELETE="DELETE",e))(j||{});class Dt extends We{constructor(t,s,r,n){const i=typeof s=="function"?"[custom predicate]":s;super({info:{header:`${t}${i?` ${i}`:""}`,path:s,method:t},resolver:r,options:n}),this.checkRedundantQueryParameters()}checkRedundantQueryParameters(){const{method:t,path:s}=this.info;!s||s instanceof RegExp||typeof s=="function"||Pe(s)===s||J.warn(`Found a redundant usage of query parameters in the request handler URL for "${t} ${s}". Please match against a path instead and access query parameters using "new URL(request.url).searchParams" instead. Learn more: https://mswjs.io/docs/http/intercepting-requests#querysearch-parameters`)}async parse(t){const s=new URL(t.request.url),r=Ut(t.request);if(typeof this.info.path=="function"){const i=await this.info.path({request:t.request,cookies:r});return{match:typeof i=="boolean"?{matches:i,params:{}}:i,cookies:r}}return{match:this.info.path?wt(s,this.info.path,t.resolutionContext?.baseUrl):{matches:!1,params:{}},cookies:r}}async predicate(t){const s=this.matchMethod(t.request.method),r=t.parsedResult.match.matches;return s&&r}matchMethod(t){return this.info.method instanceof RegExp?this.info.method.test(t):et(this.info.method,t)}extendResolverArgs(t){return{params:t.parsedResult.match?.params||{},cookies:t.parsedResult.cookies}}async log(t){const s=Ve(t.request.url),r=await st(t.request),n=await nt(t.response),i=tt(n.status);console.groupCollapsed(J.formatMessage(`${Je()} ${t.request.method} ${s} (%c${n.status} ${n.statusText}%c)`),`color:${i}`,"color:inherit"),console.log("Request",r),console.log("Handler:",this),console.log("Response",n),console.groupEnd()}}function D(e){return(t,s,r={})=>new Dt(e,t,s,r)}const xs={all:D(/.+/),head:D(j.HEAD),get:D(j.GET),post:D(j.POST),put:D(j.PUT),delete:D(j.DELETE),patch:D(j.PATCH),options:D(j.OPTIONS)};function jt(){Ye(typeof URL<"u",J.formatMessage(`Global "URL" class is not defined. This likely means that you're running MSW in an environment that doesn't support all Node.js standard API (e.g. React Native). If that's the case, please use an appropriate polyfill for the "URL" class, like "react-native-url-polyfill".`))}const Mt=Symbol("bodyType");class Q extends ie{[Mt]=null;constructor(t,s){const r=k(s);super(t,r),Ze(this,r)}static error(){return super.error()}static text(t,s){const r=k(s);return r.headers.has("Content-Type")||r.headers.set("Content-Type","text/plain"),r.headers.has("Content-Length")||r.headers.set("Content-Length",t?new Blob([t]).size.toString():"0"),new Q(t,r)}static json(t,s){const r=k(s);r.headers.has("Content-Type")||r.headers.set("Content-Type","application/json");const n=JSON.stringify(t);return r.headers.has("Content-Length")||r.headers.set("Content-Length",n?new Blob([n]).size.toString():"0"),new Q(n,r)}static xml(t,s){const r=k(s);return r.headers.has("Content-Type")||r.headers.set("Content-Type","text/xml"),new Q(t,r)}static html(t,s){const r=k(s);return r.headers.has("Content-Type")||r.headers.set("Content-Type","text/html"),new Q(t,r)}static arrayBuffer(t,s){const r=k(s);return r.headers.has("Content-Type")||r.headers.set("Content-Type","application/octet-stream"),t&&!r.headers.has("Content-Length")&&r.headers.set("Content-Length",t.byteLength.toString()),new Q(t,r)}static formData(t,s){return new Q(t,k(s))}}jt();var z=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},_t={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},kt=class{#e=_t;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},q=new kt;function Qt(e){setTimeout(e,0)}var L=typeof window>"u"||"Deno"in globalThis;function A(){}function qt(e,t){return typeof e=="function"?e(t):e}function Y(e){return typeof e=="number"&&e>=0&&e!==1/0}function Fe(e,t){return Math.max(e+(t||0)-Date.now(),0)}function _(e,t){return typeof e=="function"?e(t):e}function I(e,t){return typeof e=="function"?e(t):e}function de(e,t){const{type:s="all",exact:r,fetchStatus:n,predicate:i,queryKey:a,stale:o}=e;if(a){if(r){if(t.queryHash!==ae(a,t.options))return!1}else if(!B(t.queryKey,a))return!1}if(s!=="all"){const l=t.isActive();if(s==="active"&&!l||s==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||n&&n!==t.state.fetchStatus||i&&!i(t))}function pe(e,t){const{exact:s,status:r,predicate:n,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(s){if(N(t.options.mutationKey)!==N(i))return!1}else if(!B(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||n&&!n(t))}function ae(e,t){return(t?.queryKeyHashFn||N)(e)}function N(e){return JSON.stringify(e,(t,s)=>X(s)?Object.keys(s).sort().reduce((r,n)=>(r[n]=s[n],r),{}):s)}function B(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>B(e[s],t[s])):!1}var Lt=Object.prototype.hasOwnProperty;function Ue(e,t){if(e===t)return e;const s=ye(e)&&ye(t);if(!s&&!(X(e)&&X(t)))return t;const n=(s?e:Object.keys(e)).length,i=s?t:Object.keys(t),a=i.length,o=s?new Array(a):{};let l=0;for(let f=0;f<a;f++){const c=s?f:i[f],y=e[c],d=t[c];if(y===d){o[c]=y,(s?f<n:Lt.call(e,c))&&l++;continue}if(y===null||d===null||typeof y!="object"||typeof d!="object"){o[c]=d;continue}const h=Ue(y,d);o[c]=h,h===y&&l++}return n===a&&l===n?e:o}function Z(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function ye(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function X(e){if(!me(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!me(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function me(e){return Object.prototype.toString.call(e)==="[object Object]"}function $t(e){return new Promise(t=>{q.setTimeout(t,e)})}function ee(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?Ue(e,t):t}function Ht(e,t,s=0){const r=[...e,t];return s&&r.length>s?r.slice(1):r}function Nt(e,t,s=0){const r=[t,...e];return s&&r.length>s?r.slice(0,-1):r}var oe=Symbol();function De(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===oe?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function je(e,t){return typeof e=="function"?e(...t):!!e}function Bt(e,t,s){let r=!1,n;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(n??=t(),r||(r=!0,n.aborted?s():n.addEventListener("abort",s,{once:!0})),n)}),e}var zt=class extends z{#e;#t;#s;constructor(){super(),this.#s=e=>{if(!L&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#s=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},ue=new zt;function te(){let e,t;const s=new Promise((n,i)=>{e=n,t=i});s.status="pending",s.catch(()=>{});function r(n){Object.assign(s,n),delete s.resolve,delete s.reject}return s.resolve=n=>{r({status:"fulfilled",value:n}),e(n)},s.reject=n=>{r({status:"rejected",reason:n}),t(n)},s}var Kt=Qt;function Gt(){let e=[],t=0,s=o=>{o()},r=o=>{o()},n=Kt;const i=o=>{t?e.push(o):n(()=>{s(o)})},a=()=>{const o=e;e=[],o.length&&n(()=>{r(()=>{o.forEach(l=>{s(l)})})})};return{batch:o=>{let l;t++;try{l=o()}finally{t--,t||a()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{s=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{n=o}}}var x=Gt(),Wt=class extends z{#e=!0;#t;#s;constructor(){super(),this.#s=e=>{if(!L&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#s=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},W=new Wt;function Vt(e){return Math.min(1e3*2**e,3e4)}function Me(e){return(e??"online")==="online"?W.isOnline():!0}var se=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function _e(e){let t=!1,s=0,r;const n=te(),i=()=>n.status!=="pending",a=u=>{if(!i()){const v=new se(u);d(v),e.onCancel?.(v)}},o=()=>{t=!0},l=()=>{t=!1},f=()=>ue.isFocused()&&(e.networkMode==="always"||W.isOnline())&&e.canRun(),c=()=>Me(e.networkMode)&&e.canRun(),y=u=>{i()||(r?.(),n.resolve(u))},d=u=>{i()||(r?.(),n.reject(u))},h=()=>new Promise(u=>{r=v=>{(i()||f())&&u(v)},e.onPause?.()}).then(()=>{r=void 0,i()||e.onContinue?.()}),p=()=>{if(i())return;let u;const v=s===0?e.initialPromise:void 0;try{u=v??e.fn()}catch(g){u=Promise.reject(g)}Promise.resolve(u).then(y).catch(g=>{if(i())return;const m=e.retry??(L?0:3),w=e.retryDelay??Vt,b=typeof w=="function"?w(s,g):w,E=m===!0||typeof m=="number"&&s<m||typeof m=="function"&&m(s,g);if(t||!E){d(g);return}s++,e.onFail?.(s,g),$t(b).then(()=>f()?void 0:h()).then(()=>{t?d(g):p()})})};return{promise:n,status:()=>n.status,cancel:a,continue:()=>(r?.(),n),cancelRetry:o,continueRetry:l,canStart:c,start:()=>(c()?p():h().then(p),n)}}var ke=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Y(this.gcTime)&&(this.#e=q.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(L?1/0:300*1e3))}clearGcTimeout(){this.#e&&(q.clearTimeout(this.#e),this.#e=void 0)}},Jt=class extends ke{#e;#t;#s;#n;#r;#o;#a;constructor(e){super(),this.#a=!1,this.#o=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#s=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=ge(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#o,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=ge(this.options);t.data!==void 0&&(this.setState(ve(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(e,t){const s=ee(this.state.data,e,this.options);return this.#i({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(A).catch(A):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>I(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===oe||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>_(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Fe(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#a?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const o=this.observers.find(l=>l.options.queryFn);o&&this.setOptions(o.options)}const s=new AbortController,r=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#a=!0,s.signal)})},n=()=>{const o=De(this.options,t),f=(()=>{const c={client:this.#n,queryKey:this.queryKey,meta:this.meta};return r(c),c})();return this.#a=!1,this.options.persister?this.options.persister(o,f,this):o(f)},a=(()=>{const o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:n};return r(o),o})();this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#i({type:"fetch",meta:a.fetchOptions?.meta}),this.#r=_e({initialPromise:t?.initialPromise,fn:a.fetchFn,onCancel:o=>{o instanceof se&&o.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(o,l)=>{this.#i({type:"failed",failureCount:o,error:l})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const o=await this.#r.start();if(o===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(o),this.#s.config.onSuccess?.(o,this),this.#s.config.onSettled?.(o,this.state.error,this),o}catch(o){if(o instanceof se){if(o.silent)return this.#r.promise;if(o.revert){if(this.state.data===void 0)throw o;return this.state.data}}throw this.#i({type:"error",error:o}),this.#s.config.onError?.(o,this),this.#s.config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}#i(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...Qe(s.data,this.options),fetchMeta:e.meta??null};case"success":const r={...s,...ve(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const n=e.error;return{...s,error:n,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),x.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:e})})}};function Qe(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Me(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ve(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function ge(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,r=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Yt=class extends z{constructor(e,t){super(),this.options=t,this.#e=e,this.#i=null,this.#a=te(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#s=void 0;#n=void 0;#r;#o;#a;#i;#y;#f;#d;#c;#h;#u;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),be(this.#t,this.options)?this.#l():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return re(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return re(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#S(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof I(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#C(),this.#t.setOptions(this.options),t._defaulted&&!Z(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&we(this.#t,s,this.options,t)&&this.#l(),this.updateResult(),r&&(this.#t!==s||I(this.options.enabled,this.#t)!==I(t.enabled,this.#t)||_(this.options.staleTime,this.#t)!==_(t.staleTime,this.#t))&&this.#m();const n=this.#v();r&&(this.#t!==s||I(this.options.enabled,this.#t)!==I(t.enabled,this.#t)||n!==this.#u)&&this.#g(n)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(t,e);return Xt(this,s)&&(this.#n=s,this.#o=this.options,this.#r=this.#t.state),s}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(s,r)=>(this.trackProp(r),t?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#a.status==="pending"&&this.#a.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.#l({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#l(e){this.#C();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(A)),t}#m(){this.#w();const e=_(this.options.staleTime,this.#t);if(L||this.#n.isStale||!Y(e))return;const s=Fe(this.#n.dataUpdatedAt,e)+1;this.#c=q.setTimeout(()=>{this.#n.isStale||this.updateResult()},s)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#g(e){this.#S(),this.#u=e,!(L||I(this.options.enabled,this.#t)===!1||!Y(this.#u)||this.#u===0)&&(this.#h=q.setInterval(()=>{(this.options.refetchIntervalInBackground||ue.isFocused())&&this.#l()},this.#u))}#b(){this.#m(),this.#g(this.#v())}#w(){this.#c&&(q.clearTimeout(this.#c),this.#c=void 0)}#S(){this.#h&&(q.clearInterval(this.#h),this.#h=void 0)}createResult(e,t){const s=this.#t,r=this.options,n=this.#n,i=this.#r,a=this.#o,l=e!==s?e.state:this.#s,{state:f}=e;let c={...f},y=!1,d;if(t._optimisticResults){const C=this.hasListeners(),O=!C&&be(e,t),S=C&&we(e,s,t,r);(O||S)&&(c={...c,...Qe(f.data,e.options)}),t._optimisticResults==="isRestoring"&&(c.fetchStatus="idle")}let{error:h,errorUpdatedAt:p,status:u}=c;d=c.data;let v=!1;if(t.placeholderData!==void 0&&d===void 0&&u==="pending"){let C;n?.isPlaceholderData&&t.placeholderData===a?.placeholderData?(C=n.data,v=!0):C=typeof t.placeholderData=="function"?t.placeholderData(this.#d?.state.data,this.#d):t.placeholderData,C!==void 0&&(u="success",d=ee(n?.data,C,t),y=!0)}if(t.select&&d!==void 0&&!v)if(n&&d===i?.data&&t.select===this.#y)d=this.#f;else try{this.#y=t.select,d=t.select(d),d=ee(n?.data,d,t),this.#f=d,this.#i=null}catch(C){this.#i=C}this.#i&&(h=this.#i,d=this.#f,p=Date.now(),u="error");const g=c.fetchStatus==="fetching",m=u==="pending",w=u==="error",b=m&&g,E=d!==void 0,R={status:u,fetchStatus:c.fetchStatus,isPending:m,isSuccess:u==="success",isError:w,isInitialLoading:b,isLoading:b,data:d,dataUpdatedAt:c.dataUpdatedAt,error:h,errorUpdatedAt:p,failureCount:c.fetchFailureCount,failureReason:c.fetchFailureReason,errorUpdateCount:c.errorUpdateCount,isFetched:c.dataUpdateCount>0||c.errorUpdateCount>0,isFetchedAfterMount:c.dataUpdateCount>l.dataUpdateCount||c.errorUpdateCount>l.errorUpdateCount,isFetching:g,isRefetching:g&&!m,isLoadingError:w&&!E,isPaused:c.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:w&&E,isStale:ce(e,t),refetch:this.refetch,promise:this.#a,isEnabled:I(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const C=P=>{R.status==="error"?P.reject(R.error):R.data!==void 0&&P.resolve(R.data)},O=()=>{const P=this.#a=R.promise=te();C(P)},S=this.#a;switch(S.status){case"pending":e.queryHash===s.queryHash&&C(S);break;case"fulfilled":(R.status==="error"||R.data!==S.value)&&O();break;case"rejected":(R.status!=="error"||R.error!==S.reason)&&O();break}}return R}updateResult(){const e=this.#n,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#o=this.options,this.#r.data!==void 0&&(this.#d=this.#t),Z(t,e))return;this.#n=t;const s=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,n=typeof r=="function"?r():r;if(n==="all"||!n&&!this.#p.size)return!0;const i=new Set(n??this.#p);return this.options.throwOnError&&i.add("error"),Object.keys(this.#n).some(a=>{const o=a;return this.#n[o]!==e[o]&&i.has(o)})};this.#O({listeners:s()})}#C(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#s=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#O(e){x.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Zt(e,t){return I(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function be(e,t){return Zt(e,t)||e.state.data!==void 0&&re(e,t,t.refetchOnMount)}function re(e,t,s){if(I(t.enabled,e)!==!1&&_(t.staleTime,e)!=="static"){const r=typeof s=="function"?s(e):s;return r==="always"||r!==!1&&ce(e,t)}return!1}function we(e,t,s,r){return(e!==t||I(r.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&ce(e,s)}function ce(e,t){return I(t.enabled,e)!==!1&&e.isStaleByTime(_(t.staleTime,e))}function Xt(e,t){return!Z(e.getCurrentResult(),t)}function Se(e){return{onFetch:(t,s)=>{const r=t.options,n=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],a=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},l=0;const f=async()=>{let c=!1;const y=p=>{Bt(p,()=>t.signal,()=>c=!0)},d=De(t.options,t.fetchOptions),h=async(p,u,v)=>{if(c)return Promise.reject();if(u==null&&p.pages.length)return Promise.resolve(p);const m=(()=>{const T={client:t.client,queryKey:t.queryKey,pageParam:u,direction:v?"backward":"forward",meta:t.options.meta};return y(T),T})(),w=await d(m),{maxPages:b}=t.options,E=v?Nt:Ht;return{pages:E(p.pages,w,b),pageParams:E(p.pageParams,u,b)}};if(n&&i.length){const p=n==="backward",u=p?es:Ce,v={pages:i,pageParams:a},g=u(r,v);o=await h(v,g,p)}else{const p=e??i.length;do{const u=l===0?a[0]??r.initialPageParam:Ce(r,o);if(l>0&&u==null)break;o=await h(o,u),l++}while(l<p)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s):t.fetchFn=f}}}function Ce(e,{pages:t,pageParams:s}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,s[r],s):void 0}function es(e,{pages:t,pageParams:s}){return t.length>0?e.getPreviousPageParam?.(t[0],t,s[0],s):void 0}var ts=class extends ke{#e;#t;#s;#n;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#s=e.mutationCache,this.#t=[],this.state=e.state||ss(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#s.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#s.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#n=_e({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(i,a)=>{this.#r({type:"failed",failureCount:i,error:a})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#s.canRun(this)});const r=this.state.status==="pending",n=!this.#n.canStart();try{if(r)t();else{this.#r({type:"pending",variables:e,isPaused:n}),await this.#s.config.onMutate?.(e,this,s);const a=await this.options.onMutate?.(e,s);a!==this.state.context&&this.#r({type:"pending",context:a,variables:e,isPaused:n})}const i=await this.#n.start();return await this.#s.config.onSuccess?.(i,e,this.state.context,this,s),await this.options.onSuccess?.(i,e,this.state.context,s),await this.#s.config.onSettled?.(i,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(i,null,e,this.state.context,s),this.#r({type:"success",data:i}),i}catch(i){try{await this.#s.config.onError?.(i,e,this.state.context,this,s)}catch(a){Promise.reject(a)}try{await this.options.onError?.(i,e,this.state.context,s)}catch(a){Promise.reject(a)}try{await this.#s.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,s)}catch(a){Promise.reject(a)}try{await this.options.onSettled?.(void 0,i,e,this.state.context,s)}catch(a){Promise.reject(a)}throw this.#r({type:"error",error:i}),i}finally{this.#s.runNext(this)}}#r(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),x.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(e)}),this.#s.notify({mutation:this,type:"updated",action:e})})}};function ss(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var rs=class extends z{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#s=0}#e;#t;#s;build(e,t,s){const r=new ts({client:e,mutationCache:this,mutationId:++this.#s,options:e.defaultMutationOptions(t),state:s});return this.add(r),r}add(e){this.#e.add(e);const t=K(e);if(typeof t=="string"){const s=this.#t.get(t);s?s.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=K(e);if(typeof t=="string"){const s=this.#t.get(t);if(s)if(s.length>1){const r=s.indexOf(e);r!==-1&&s.splice(r,1)}else s[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=K(e);if(typeof t=="string"){const r=this.#t.get(t)?.find(n=>n.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=K(e);return typeof t=="string"?this.#t.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){x.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(s=>pe(t,s))}findAll(e={}){return this.getAll().filter(t=>pe(e,t))}notify(e){x.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return x.batch(()=>Promise.all(e.map(t=>t.continue().catch(A))))}};function K(e){return e.options.scope?.id}var ns=class extends z{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,s){const r=t.queryKey,n=t.queryHash??ae(r,t);let i=this.get(n);return i||(i=new Jt({client:e,queryKey:r,queryHash:n,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){x.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>de(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>de(e,s)):t}notify(e){x.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){x.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){x.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ts=class{#e;#t;#s;#n;#r;#o;#a;#i;constructor(e={}){this.#e=e.queryCache||new ns,this.#t=e.mutationCache||new rs,this.#s=e.defaultOptions||{},this.#n=new Map,this.#r=new Map,this.#o=0}mount(){this.#o++,this.#o===1&&(this.#a=ue.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=W.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#o--,this.#o===0&&(this.#a?.(),this.#a=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=this.#e.build(this,t),r=s.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(_(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:s})=>{const r=s.data;return[t,r]})}setQueryData(e,t,s){const r=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(r.queryHash)?.state.data,a=qt(t,i);if(a!==void 0)return this.#e.build(this,r).setData(a,{...s,manual:!0})}setQueriesData(e,t,s){return x.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,s)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;x.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=this.#e;return x.batch(()=>(s.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},r=x.batch(()=>this.#e.findAll(e).map(n=>n.cancel(s)));return Promise.all(r).then(A).catch(A)}invalidateQueries(e,t={}){return x.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},r=x.batch(()=>this.#e.findAll(e).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let i=n.fetch(void 0,s);return s.throwOnError||(i=i.catch(A)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(A)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=this.#e.build(this,t);return s.isStaleByTime(_(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(A).catch(A)}fetchInfiniteQuery(e){return e.behavior=Se(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(A).catch(A)}ensureInfiniteQueryData(e){return e.behavior=Se(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return W.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(e){this.#s=e}setQueryDefaults(e,t){this.#n.set(N(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()],s={};return t.forEach(r=>{B(e,r.queryKey)&&Object.assign(s,r.defaultOptions)}),s}setMutationDefaults(e,t){this.#r.set(N(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],s={};return t.forEach(r=>{B(e,r.mutationKey)&&Object.assign(s,r.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#s.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ae(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===oe&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#s.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},qe=F.createContext(void 0),is=e=>{const t=F.useContext(qe);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},As=({client:e,children:t})=>(F.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),Xe.jsx(qe.Provider,{value:e,children:t})),Le=F.createContext(!1),as=()=>F.useContext(Le);Le.Provider;function os(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var us=F.createContext(os()),cs=()=>F.useContext(us),hs=(e,t,s)=>{const r=s?.state.error&&typeof e.throwOnError=="function"?je(e.throwOnError,[s.state.error,s]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||r)&&(t.isReset()||(e.retryOnMount=!1))},ls=e=>{F.useEffect(()=>{e.clearReset()},[e])},fs=({result:e,errorResetBoundary:t,throwOnError:s,query:r,suspense:n})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(n&&e.data===void 0||je(s,[e.error,r])),ds=e=>{if(e.suspense){const s=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>s(r(...n)):s(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},ps=(e,t)=>e.isLoading&&e.isFetching&&!t,ys=(e,t)=>e?.suspense&&t.isPending,Oe=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function ms(e,t,s){const r=as(),n=cs(),i=is(),a=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(a);const o=i.getQueryCache().get(a.queryHash);a._optimisticResults=r?"isRestoring":"optimistic",ds(a),hs(a,n,o),ls(n);const l=!i.getQueryCache().get(a.queryHash),[f]=F.useState(()=>new t(i,a)),c=f.getOptimisticResult(a),y=!r&&e.subscribed!==!1;if(F.useSyncExternalStore(F.useCallback(d=>{const h=y?f.subscribe(x.batchCalls(d)):A;return f.updateResult(),h},[f,y]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),F.useEffect(()=>{f.setOptions(a)},[a,f]),ys(a,c))throw Oe(a,f,n);if(fs({result:c,errorResetBoundary:n,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw c.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(a,c),a.experimental_prefetchInRender&&!L&&ps(c,r)&&(l?Oe(a,f,n):o?.promise)?.catch(A).finally(()=>{f.updateResult()}),a.notifyOnChangeProps?c:f.trackResult(c)}function Is(e,t){return ms(e,Yt)}var vs=(e,t,s={})=>{let r=`${e}=${t}`;if(e.startsWith("__Secure-")&&!s.secure)throw new Error("__Secure- Cookie must have Secure attributes");if(e.startsWith("__Host-")){if(!s.secure)throw new Error("__Host- Cookie must have Secure attributes");if(s.path!=="/")throw new Error('__Host- Cookie must have Path attributes with "/"');if(s.domain)throw new Error("__Host- Cookie must not have Domain attributes")}if(s&&typeof s.maxAge=="number"&&s.maxAge>=0){if(s.maxAge>3456e4)throw new Error("Cookies Max-Age SHOULD NOT be greater than 400 days (34560000 seconds) in duration.");r+=`; Max-Age=${s.maxAge|0}`}if(s.domain&&s.prefix!=="host"&&(r+=`; Domain=${s.domain}`),s.path&&(r+=`; Path=${s.path}`),s.expires){if(s.expires.getTime()-Date.now()>3456e7)throw new Error("Cookies Expires SHOULD NOT be greater than 400 days (34560000 seconds) in the future.");r+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(r+="; HttpOnly"),s.secure&&(r+="; Secure"),s.sameSite&&(r+=`; SameSite=${s.sameSite.charAt(0).toUpperCase()+s.sameSite.slice(1)}`),s.priority&&(r+=`; Priority=${s.priority.charAt(0).toUpperCase()+s.priority.slice(1)}`),s.partitioned){if(!s.secure)throw new Error("Partitioned Cookie must have Secure attributes");r+="; Partitioned"}return r},gs=(e,t,s)=>(t=encodeURIComponent(t),vs(e,t,s)),bs=(e,t)=>(e=e.replace(/\/+$/,""),e=e+"/",t=t.replace(/^\/+/,""),e+t),ne=(e,t)=>{for(const[s,r]of Object.entries(t)){const n=new RegExp("/:"+s+"(?:{[^/]+})?\\??");e=e.replace(n,r?`/${r}`:"")}return e},$e=e=>{const t=new URLSearchParams;for(const[s,r]of Object.entries(e))if(r!==void 0)if(Array.isArray(r))for(const n of r)t.append(s,n);else t.set(s,r);return t},ws=(e,t)=>{switch(t){case"ws":return e.replace(/^http/,"ws");case"http":return e.replace(/^ws/,"http")}},He=e=>/^https?:\/\/[^\/]+?\/index(?=\?|$)/.test(e)?e.replace(/\/index(?=\?|$)/,"/"):e.replace(/\/index(?=\?|$)/,"");function G(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Ne(e,t){if(!G(e)&&!G(t))return t;const s={...e};for(const r in t){const n=t[r];G(s[r])&&G(n)?s[r]=Ne(s[r],n):s[r]=n}return s}var Be=(e,t)=>new Proxy(()=>{},{get(r,n){if(!(typeof n!="string"||n==="then"))return Be(e,[...t,n])},apply(r,n,i){return e({path:t,args:i})}}),Ss=class{url;method;queryParams=void 0;pathParams={};rBody;cType=void 0;constructor(e,t){this.url=e,this.method=t}fetch=async(e,t)=>{if(e){if(e.query&&(this.queryParams=$e(e.query)),e.form){const o=new FormData;for(const[l,f]of Object.entries(e.form))if(Array.isArray(f))for(const c of f)o.append(l,c);else o.append(l,f);this.rBody=o}e.json&&(this.rBody=JSON.stringify(e.json),this.cType="application/json"),e.param&&(this.pathParams=e.param)}let s=this.method.toUpperCase();const r={...e?.header,...typeof t?.headers=="function"?await t.headers():t?.headers};if(e?.cookie){const o=[];for(const[l,f]of Object.entries(e.cookie))o.push(gs(l,f,{path:"/"}));r.Cookie=o.join(",")}this.cType&&(r["Content-Type"]=this.cType);const n=new Headers(r??void 0);let i=this.url;i=He(i),i=ne(i,this.pathParams),this.queryParams&&(i=i+"?"+this.queryParams.toString()),s=this.method.toUpperCase();const a=!(s==="GET"||s==="HEAD");return(t?.fetch||fetch)(i,{body:a?this.rBody:void 0,method:s,headers:n,...t?.init})}},Cs=(e,t)=>Be(function s(r){const n=[...r.path],i=n.slice(-3).reverse();if(i[0]==="toString")return i[1]==="name"?i[2]||"":s.toString();if(i[0]==="valueOf")return i[1]==="name"?i[2]||"":s;let a="";if(/^\$/.test(i[0])){const c=n.pop();c&&(a=c.replace(/^\$/,""))}const o=n.join("/"),l=bs(e,o);if(a==="url"){let c=l;return r.args[0]&&(r.args[0].param&&(c=ne(l,r.args[0].param)),r.args[0].query&&(c=c+"?"+$e(r.args[0].query).toString())),c=He(c),new URL(c)}if(a==="ws"){const c=ws(r.args[0]&&r.args[0].param?ne(l,r.args[0].param):l,"ws"),y=new URL(c),d=r.args[0]?.query;return d&&Object.entries(d).forEach(([p,u])=>{Array.isArray(u)?u.forEach(v=>y.searchParams.append(p,v)):y.searchParams.set(p,u)}),((...p)=>t?.webSocket!==void 0&&typeof t.webSocket=="function"?t.webSocket(...p):new WebSocket(...p))(y.toString())}const f=new Ss(l,a);if(a){t??={};const c=Ne(t,{...r.args[1]});return f.fetch(r.args[0],c)}return f},[]);const Os="",Es=Cs(Os,{fetch:(e,t)=>fetch(e,{...t,credentials:"include"})});class U extends Error{status;constructor(t,s){super(s),this.status=t,this.name="ApiError"}}const $=Es.api.groups,Fs=async()=>{const t=await $.$get();if(!t.ok)throw new Error("");return t.json()},Us=async({groupId:e})=>{const s=await $[":groupId"].chores.$get({param:{groupId:e}});if(!s.ok)throw new U(s.status,"");return s.json()},Ds=async({groupId:e,email:t})=>{const r=await $[":groupId"].search.users.$get({param:{groupId:e},query:{email:t}});if(r.status===422){const i=(await r.json()).errors.map(a=>a.message).filter(Boolean).join(" / ");throw new U(422,i||"")}if(!r.ok)throw new U(r.status,"");return r.json()},js=async({name:e})=>{const s=await $.$post({json:{name:e}});if(!s.ok)throw new Error("");return s.json()},Ms=async({groupId:e,user_id:t})=>{const r=await $[":groupId"].invitations.$post({param:{groupId:e},json:{user_id:t}});if(r.status===422){const i=(await r.json()).errors.map(a=>a.message).filter(Boolean).join(" / ");throw new U(422,i||"")}if(!r.ok)throw new U(r.status,"");return r.json()},_s=async({groupId:e})=>{const s=await $[":groupId"].invitations.accept.$post({param:{groupId:e}});if(s.status===422){const n=(await s.json()).errors.map(i=>i.message).filter(Boolean).join(" / ");throw new U(422,n||"")}if(!s.ok)throw new U(s.status,"")},ks=async({groupId:e})=>{const s=await $[":groupId"].invitations.deny.$post({param:{groupId:e}});if(s.status===422){const n=(await s.json()).errors.map(i=>i.message).filter(Boolean).join(" / ");throw new U(422,n||"")}if(!s.ok)throw new U(s.status,"")};export{U as A,Q as H,Ts as Q,z as S,As as a,N as b,is as c,A as d,je as e,Us as f,ss as g,xs as h,Fs as i,js as j,Ds as k,Ms as l,_s as m,x as n,ks as o,Z as s,Is as u};
