import{j as f}from"./jsx-runtime-u17CrQMm.js";import{s as _t,c as Tt,R as It,d as ye,t as jt,g as Mt,i as At,n as $,a as Ut,r as P}from"./iframe-eHZtZ4Lc.js";import{E as kt}from"./index-Dn49-tp0.js";import{P as Oe}from"./index-ykZGv8WS.js";import{B as pe}from"./index-BKtDPDeF.js";import{M as Ft}from"./index-D39Av0Jp.js";import{u as le}from"./useErrorModal-BYpi4QzO.js";import{G as Dt}from"./index-CZXDXmE1.js";import{G as qt}from"./index-FDusKQHO.js";import{G as Nt}from"./index-8EpIfPOn.js";import{G as Qt}from"./index-CCgFUcNl.js";import"./index-DJ9RCSNy.js";import{L as Lt}from"./index-BSve9ywo.js";import{u as $t}from"./index-DLlwYlIx.js";import"./index-B8L6YXtB.js";import{c as Be}from"./createLucideIcon-Bi6GkuyK.js";import"./preload-helper-PPVm8Dsz.js";import"./index-D5nFsK1e.js";import"./index-C__biXp8.js";import"./x-CECPibJB.js";import"./mail-Cftz8ppF.js";import"./check-DgGtnzL6.js";import"./user-plus-CFRnQ_5v.js";import"./search-DGfZURDc.js";function Gt(e,t){return e.toLowerCase()===t.toLowerCase()}function Ht(e){return e<300?"#69AB32":e<400?"#F0BB4B":"#E95F5D"}async function Wt(e){const s=await e.clone().text();return{url:new URL(e.url),method:e.method,headers:Object.fromEntries(e.headers.entries()),body:s}}const{message:Bt}=_t;async function Kt(e){const t=e.clone(),s=await t.text(),r=t.status||200,n=t.statusText||Bt[r]||"OK";return{status:r,statusText:n,headers:Object.fromEntries(t.headers.entries()),body:s}}function zt(e){for(var t=[],s=0;s<e.length;){var r=e[s];if(r==="*"||r==="+"||r==="?"){t.push({type:"MODIFIER",index:s,value:e[s++]});continue}if(r==="\\"){t.push({type:"ESCAPED_CHAR",index:s++,value:e[s++]});continue}if(r==="{"){t.push({type:"OPEN",index:s,value:e[s++]});continue}if(r==="}"){t.push({type:"CLOSE",index:s,value:e[s++]});continue}if(r===":"){for(var n="",i=s+1;i<e.length;){var a=e.charCodeAt(i);if(a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122||a===95){n+=e[i++];continue}break}if(!n)throw new TypeError("Missing parameter name at ".concat(s));t.push({type:"NAME",index:s,value:n}),s=i;continue}if(r==="("){var o=1,h="",i=s+1;if(e[i]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(i));for(;i<e.length;){if(e[i]==="\\"){h+=e[i++]+e[i++];continue}if(e[i]===")"){if(o--,o===0){i++;break}}else if(e[i]==="("&&(o++,e[i+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(i));h+=e[i++]}if(o)throw new TypeError("Unbalanced pattern at ".concat(s));if(!h)throw new TypeError("Missing pattern at ".concat(s));t.push({type:"PATTERN",index:s,value:h}),s=i;continue}t.push({type:"CHAR",index:s,value:e[s++]})}return t.push({type:"END",index:s,value:""}),t}function Vt(e,t){t===void 0&&(t={});for(var s=zt(e),r=t.prefixes,n=r===void 0?"./":r,i=t.delimiter,a=i===void 0?"/#?":i,o=[],h=0,l=0,u="",y=function(O){if(l<s.length&&s[l].type===O)return s[l++].value},p=function(O){var x=y(O);if(x!==void 0)return x;var T=s[l],Y=T.type,de=T.index;throw new TypeError("Unexpected ".concat(Y," at ").concat(de,", expected ").concat(O))},d=function(){for(var O="",x;x=y("CHAR")||y("ESCAPED_CHAR");)O+=x;return O},m=function(O){for(var x=0,T=a;x<T.length;x++){var Y=T[x];if(O.indexOf(Y)>-1)return!0}return!1},c=function(O){var x=o[o.length-1],T=O||(x&&typeof x=="string"?x:"");if(x&&!T)throw new TypeError('Must have text between two parameters, missing text after "'.concat(x.name,'"'));return!T||m(T)?"[^".concat(Q(a),"]+?"):"(?:(?!".concat(Q(T),")[^").concat(Q(a),"])+?")};l<s.length;){var b=y("CHAR"),w=y("NAME"),v=y("PATTERN");if(w||v){var C=b||"";n.indexOf(C)===-1&&(u+=C,C=""),u&&(o.push(u),u=""),o.push({name:w||h++,prefix:C,suffix:"",pattern:v||c(C),modifier:y("MODIFIER")||""});continue}var S=b||y("ESCAPED_CHAR");if(S){u+=S;continue}u&&(o.push(u),u="");var R=y("OPEN");if(R){var C=d(),j=y("NAME")||"",_=y("PATTERN")||"",E=d();p("CLOSE"),o.push({name:j||(_?h++:""),pattern:j&&!_?c(C):_,prefix:C,suffix:E,modifier:y("MODIFIER")||""});continue}p("END")}return o}function Jt(e,t){var s=[],r=ze(e,s,t);return Yt(r,s,t)}function Yt(e,t,s){s===void 0&&(s={});var r=s.decode,n=r===void 0?function(i){return i}:r;return function(i){var a=e.exec(i);if(!a)return!1;for(var o=a[0],h=a.index,l=Object.create(null),u=function(p){if(a[p]===void 0)return"continue";var d=t[p-1];d.modifier==="*"||d.modifier==="+"?l[d.name]=a[p].split(d.prefix+d.suffix).map(function(m){return n(m,d)}):l[d.name]=n(a[p],d)},y=1;y<a.length;y++)u(y);return{path:o,index:h,params:l}}}function Q(e){return e.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function Ke(e){return e&&e.sensitive?"":"i"}function Zt(e,t){if(!t)return e;for(var s=/\((?:\?<(.*?)>)?(?!\?)/g,r=0,n=s.exec(e.source);n;)t.push({name:n[1]||r++,prefix:"",suffix:"",modifier:"",pattern:""}),n=s.exec(e.source);return e}function Xt(e,t,s){var r=e.map(function(n){return ze(n,t,s).source});return new RegExp("(?:".concat(r.join("|"),")"),Ke(s))}function es(e,t,s){return ts(Vt(e,s),t,s)}function ts(e,t,s){s===void 0&&(s={});for(var r=s.strict,n=r===void 0?!1:r,i=s.start,a=i===void 0?!0:i,o=s.end,h=o===void 0?!0:o,l=s.encode,u=l===void 0?function(x){return x}:l,y=s.delimiter,p=y===void 0?"/#?":y,d=s.endsWith,m=d===void 0?"":d,c="[".concat(Q(m),"]|$"),b="[".concat(Q(p),"]"),w=a?"^":"",v=0,C=e;v<C.length;v++){var S=C[v];if(typeof S=="string")w+=Q(u(S));else{var R=Q(u(S.prefix)),j=Q(u(S.suffix));if(S.pattern)if(t&&t.push(S),R||j)if(S.modifier==="+"||S.modifier==="*"){var _=S.modifier==="*"?"?":"";w+="(?:".concat(R,"((?:").concat(S.pattern,")(?:").concat(j).concat(R,"(?:").concat(S.pattern,"))*)").concat(j,")").concat(_)}else w+="(?:".concat(R,"(").concat(S.pattern,")").concat(j,")").concat(S.modifier);else{if(S.modifier==="+"||S.modifier==="*")throw new TypeError('Can not repeat "'.concat(S.name,'" without a prefix and suffix'));w+="(".concat(S.pattern,")").concat(S.modifier)}else w+="(?:".concat(R).concat(j,")").concat(S.modifier)}}if(h)n||(w+="".concat(b,"?")),w+=s.endsWith?"(?=".concat(c,")"):"$";else{var E=e[e.length-1],O=typeof E=="string"?b.indexOf(E[E.length-1])>-1:E===void 0;n||(w+="(?:".concat(b,"(?=").concat(c,"))?")),O||(w+="(?=".concat(b,"|").concat(c,")"))}return new RegExp(w,Ke(s))}function ze(e,t,s){return e instanceof RegExp?Zt(e,t):Array.isArray(e)?Xt(e,t,s):es(e,t,s)}new TextEncoder;function ss(e){try{return new URL(e),!0}catch{return!1}}function Me(e,t){const r=Object.getOwnPropertySymbols(t).find(n=>n.description===e);if(r)return Reflect.get(t,r)}var K=class extends Response{static isConfigurableStatusCode(e){return e>=200&&e<=599}static isRedirectResponse(e){return K.STATUS_CODES_WITH_REDIRECT.includes(e)}static isResponseWithBody(e){return!K.STATUS_CODES_WITHOUT_BODY.includes(e)}static setUrl(e,t){if(!e||e==="about:"||!ss(e))return;const s=Me("state",t);s?s.urlList.push(new URL(e)):Object.defineProperty(t,"url",{value:e,enumerable:!0,configurable:!0,writable:!1})}static parseRawHeaders(e){const t=new Headers;for(let s=0;s<e.length;s+=2)t.append(e[s],e[s+1]);return t}constructor(e,t={}){var s;const r=(s=t.status)!=null?s:200,n=K.isConfigurableStatusCode(r)?r:200,i=K.isResponseWithBody(r)?e:null;if(super(i,{status:n,statusText:t.statusText,headers:t.headers}),r!==n){const a=Me("state",this);a?a.status=r:Object.defineProperty(this,"status",{value:r,enumerable:!0,configurable:!0,writable:!1})}K.setUrl(t.url,this)}},Pe=K;Pe.STATUS_CODES_WITHOUT_BODY=[101,103,204,205,304];Pe.STATUS_CODES_WITH_REDIRECT=[301,302,303,307,308];function rs(e,t=!0){return[t&&e.origin,e.pathname].filter(Boolean).join("")}const ns=/[?|#].*$/g;function Ve(e){return e.endsWith("?")?e:e.replace(ns,"")}function is(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function as(e,t){if(is(e)||e.startsWith("*"))return e;const s=t||typeof location<"u"&&location.href;return s?decodeURI(new URL(encodeURI(e),s).href):e}function os(e,t){if(e instanceof RegExp)return e;const s=as(e,t);return Ve(s)}function cs(e){return e.replace(/([:a-zA-Z_-]*)(\*{1,2})+/g,(t,s,r)=>{const n="(.*)";return s?s.startsWith(":")?`${s}${r}`:`${s}${n}`:n}).replace(/([^/])(:)(?=\d+)/,"$1\\$2").replace(/^([^/]+)(:)(?=\/\/)/,"$1\\$2")}function us(e,t,s){const r=os(t,s),n=typeof r=="string"?cs(r):r,i=rs(e),a=Jt(n,{decode:decodeURIComponent})(i),o=a&&a.params||{};return{matches:a!==!1,params:o}}var hs=Object.create,Je=Object.defineProperty,ls=Object.getOwnPropertyDescriptor,Ye=Object.getOwnPropertyNames,ds=Object.getPrototypeOf,fs=Object.prototype.hasOwnProperty,ps=(e,t)=>function(){return t||(0,e[Ye(e)[0]])((t={exports:{}}).exports,t),t.exports},ms=(e,t,s,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Ye(t))!fs.call(e,n)&&n!==s&&Je(e,n,{get:()=>t[n],enumerable:!(r=ls(t,n))||r.enumerable});return e},ys=(e,t,s)=>(s=e!=null?hs(ds(e)):{},ms(Je(s,"default",{value:e,enumerable:!0}),e)),vs=ps({"node_modules/.pnpm/cookie@1.0.2/node_modules/cookie/dist/index.js"(e){Object.defineProperty(e,"__esModule",{value:!0}),e.parse=o,e.serialize=u;var t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,s=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const d=function(){};return d.prototype=Object.create(null),d})();function o(d,m){const c=new a,b=d.length;if(b<2)return c;const w=m?.decode||y;let v=0;do{const C=d.indexOf("=",v);if(C===-1)break;const S=d.indexOf(";",v),R=S===-1?b:S;if(C>R){v=d.lastIndexOf(";",C-1)+1;continue}const j=h(d,v,C),_=l(d,C,j),E=d.slice(j,_);if(c[E]===void 0){let O=h(d,C+1,R),x=l(d,R,O);const T=w(d.slice(O,x));c[E]=T}v=R+1}while(v<b);return c}function h(d,m,c){do{const b=d.charCodeAt(m);if(b!==32&&b!==9)return m}while(++m<c);return c}function l(d,m,c){for(;m>c;){const b=d.charCodeAt(--m);if(b!==32&&b!==9)return m+1}return c}function u(d,m,c){const b=c?.encode||encodeURIComponent;if(!t.test(d))throw new TypeError(`argument name is invalid: ${d}`);const w=b(m);if(!s.test(w))throw new TypeError(`argument val is invalid: ${m}`);let v=d+"="+w;if(!c)return v;if(c.maxAge!==void 0){if(!Number.isInteger(c.maxAge))throw new TypeError(`option maxAge is invalid: ${c.maxAge}`);v+="; Max-Age="+c.maxAge}if(c.domain){if(!r.test(c.domain))throw new TypeError(`option domain is invalid: ${c.domain}`);v+="; Domain="+c.domain}if(c.path){if(!n.test(c.path))throw new TypeError(`option path is invalid: ${c.path}`);v+="; Path="+c.path}if(c.expires){if(!p(c.expires)||!Number.isFinite(c.expires.valueOf()))throw new TypeError(`option expires is invalid: ${c.expires}`);v+="; Expires="+c.expires.toUTCString()}if(c.httpOnly&&(v+="; HttpOnly"),c.secure&&(v+="; Secure"),c.partitioned&&(v+="; Partitioned"),c.priority)switch(typeof c.priority=="string"?c.priority.toLowerCase():void 0){case"low":v+="; Priority=Low";break;case"medium":v+="; Priority=Medium";break;case"high":v+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${c.priority}`)}if(c.sameSite)switch(typeof c.sameSite=="string"?c.sameSite.toLowerCase():c.sameSite){case!0:case"strict":v+="; SameSite=Strict";break;case"lax":v+="; SameSite=Lax";break;case"none":v+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${c.sameSite}`)}return v}function y(d){if(d.indexOf("%")===-1)return d;try{return decodeURIComponent(d)}catch{return d}}function p(d){return i.call(d)==="[object Date]"}}}),Ae=ys(vs()),Ze=Ae.default||Ae,gs=Ze.parse,bs=Ze.serialize;function Xe(e){const t=gs(e),s={};for(const r in t)typeof t[r]<"u"&&(s[r]=t[r]);return s}function Ue(){return Xe(document.cookie)}function ws(e){if(typeof document>"u"||typeof location>"u")return{};switch(e.credentials){case"same-origin":{const t=new URL(e.url);return location.origin===t.origin?Ue():{}}case"include":return Ue();default:return{}}}function Ss(e){const t=e.headers.get("cookie"),s=t?Xe(t):{},r=ws(e);for(const a in r)e.headers.append("cookie",bs(a,r[a]));const n=Tt.getCookies(e.url),i=Object.fromEntries(n.map(a=>[a.key,a.value]));for(const a of n)e.headers.append("cookie",a.toString());return{...r,...i,...s}}var N=(e=>(e.HEAD="HEAD",e.GET="GET",e.POST="POST",e.PUT="PUT",e.PATCH="PATCH",e.OPTIONS="OPTIONS",e.DELETE="DELETE",e))(N||{});class Cs extends It{constructor(t,s,r,n){const i=typeof s=="function"?"[custom predicate]":s;super({info:{header:`${t}${i?` ${i}`:""}`,path:s,method:t},resolver:r,options:n}),this.checkRedundantQueryParameters()}checkRedundantQueryParameters(){const{method:t,path:s}=this.info;!s||s instanceof RegExp||typeof s=="function"||Ve(s)===s||ye.warn(`Found a redundant usage of query parameters in the request handler URL for "${t} ${s}". Please match against a path instead and access query parameters using "new URL(request.url).searchParams" instead. Learn more: https://mswjs.io/docs/http/intercepting-requests#querysearch-parameters`)}async parse(t){const s=new URL(t.request.url),r=Ss(t.request);if(typeof this.info.path=="function"){const i=await this.info.path({request:t.request,cookies:r});return{match:typeof i=="boolean"?{matches:i,params:{}}:i,cookies:r}}return{match:this.info.path?us(s,this.info.path,t.resolutionContext?.baseUrl):{matches:!1,params:{}},cookies:r}}async predicate(t){const s=this.matchMethod(t.request.method),r=t.parsedResult.match.matches;return s&&r}matchMethod(t){return this.info.method instanceof RegExp?this.info.method.test(t):Gt(this.info.method,t)}extendResolverArgs(t){return{params:t.parsedResult.match?.params||{},cookies:t.parsedResult.cookies}}async log(t){const s=jt(t.request.url),r=await Wt(t.request),n=await Kt(t.response),i=Ht(n.status);console.groupCollapsed(ye.formatMessage(`${Mt()} ${t.request.method} ${s} (%c${n.status} ${n.statusText}%c)`),`color:${i}`,"color:inherit"),console.log("Request",r),console.log("Handler:",this),console.log("Response",n),console.groupEnd()}}function q(e){return(t,s,r={})=>new Cs(e,t,s,r)}const et={all:q(/.+/),head:q(N.HEAD),get:q(N.GET),post:q(N.POST),put:q(N.PUT),delete:q(N.DELETE),patch:q(N.PATCH),options:q(N.OPTIONS)};const xs=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]],Es=Be("circle-user",xs);const Os=[["path",{d:"M13.22 2.416a2 2 0 0 0-2.511.057l-7 5.999A2 2 0 0 0 3 10v9a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7.354",key:"5phn05"}],["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M15 6h6",key:"1jlkvy"}],["path",{d:"M18 3v6",key:"x1uolp"}]],Ps=Be("house-plus",Os);function Rs(){At(typeof URL<"u",ye.formatMessage(`Global "URL" class is not defined. This likely means that you're running MSW in an environment that doesn't support all Node.js standard API (e.g. React Native). If that's the case, please use an appropriate polyfill for the "URL" class, like "react-native-url-polyfill".`))}const _s=Symbol("bodyType");class D extends Pe{[_s]=null;constructor(t,s){const r=$(s);super(t,r),Ut(this,r)}static error(){return super.error()}static text(t,s){const r=$(s);return r.headers.has("Content-Type")||r.headers.set("Content-Type","text/plain"),r.headers.has("Content-Length")||r.headers.set("Content-Length",t?new Blob([t]).size.toString():"0"),new D(t,r)}static json(t,s){const r=$(s);r.headers.has("Content-Type")||r.headers.set("Content-Type","application/json");const n=JSON.stringify(t);return r.headers.has("Content-Length")||r.headers.set("Content-Length",n?new Blob([n]).size.toString():"0"),new D(n,r)}static xml(t,s){const r=$(s);return r.headers.has("Content-Type")||r.headers.set("Content-Type","text/xml"),new D(t,r)}static html(t,s){const r=$(s);return r.headers.has("Content-Type")||r.headers.set("Content-Type","text/html"),new D(t,r)}static arrayBuffer(t,s){const r=$(s);return r.headers.has("Content-Type")||r.headers.set("Content-Type","application/octet-stream"),t&&!r.headers.has("Content-Length")&&r.headers.set("Content-Length",t.byteLength.toString()),new D(t,r)}static formData(t,s){return new D(t,$(s))}}Rs();var z=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ts={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},Is=class{#e=Ts;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},H=new Is;function js(e){setTimeout(e,0)}var W=typeof window>"u"||"Deno"in globalThis;function M(){}function Ms(e,t){return typeof e=="function"?e(t):e}function ve(e){return typeof e=="number"&&e>=0&&e!==1/0}function tt(e,t){return Math.max(e+(t||0)-Date.now(),0)}function L(e,t){return typeof e=="function"?e(t):e}function U(e,t){return typeof e=="function"?e(t):e}function ke(e,t){const{type:s="all",exact:r,fetchStatus:n,predicate:i,queryKey:a,stale:o}=e;if(a){if(r){if(t.queryHash!==Re(a,t.options))return!1}else if(!Z(t.queryKey,a))return!1}if(s!=="all"){const h=t.isActive();if(s==="active"&&!h||s==="inactive"&&h)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||n&&n!==t.state.fetchStatus||i&&!i(t))}function Fe(e,t){const{exact:s,status:r,predicate:n,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(s){if(B(t.options.mutationKey)!==B(i))return!1}else if(!Z(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||n&&!n(t))}function Re(e,t){return(t?.queryKeyHashFn||B)(e)}function B(e){return JSON.stringify(e,(t,s)=>ge(s)?Object.keys(s).sort().reduce((r,n)=>(r[n]=s[n],r),{}):s)}function Z(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(s=>Z(e[s],t[s])):!1}var As=Object.prototype.hasOwnProperty;function st(e,t){if(e===t)return e;const s=De(e)&&De(t);if(!s&&!(ge(e)&&ge(t)))return t;const n=(s?e:Object.keys(e)).length,i=s?t:Object.keys(t),a=i.length,o=s?new Array(a):{};let h=0;for(let l=0;l<a;l++){const u=s?l:i[l],y=e[u],p=t[u];if(y===p){o[u]=y,(s?l<n:As.call(e,u))&&h++;continue}if(y===null||p===null||typeof y!="object"||typeof p!="object"){o[u]=p;continue}const d=st(y,p);o[u]=d,d===y&&h++}return n===a&&h===n?e:o}function ue(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const s in e)if(e[s]!==t[s])return!1;return!0}function De(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ge(e){if(!qe(e))return!1;const t=e.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!qe(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function qe(e){return Object.prototype.toString.call(e)==="[object Object]"}function Us(e){return new Promise(t=>{H.setTimeout(t,e)})}function be(e,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(e,t):s.structuralSharing!==!1?st(e,t):t}function ks(e,t,s=0){const r=[...e,t];return s&&r.length>s?r.slice(1):r}function Fs(e,t,s=0){const r=[t,...e];return s&&r.length>s?r.slice(0,-1):r}var _e=Symbol();function rt(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===_e?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Te(e,t){return typeof e=="function"?e(...t):!!e}function Ds(e,t,s){let r=!1,n;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(n??=t(),r||(r=!0,n.aborted?s():n.addEventListener("abort",s,{once:!0})),n)}),e}var qs=class extends z{#e;#t;#s;constructor(){super(),this.#s=e=>{if(!W&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#s=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},Ie=new qs;function we(){let e,t;const s=new Promise((n,i)=>{e=n,t=i});s.status="pending",s.catch(()=>{});function r(n){Object.assign(s,n),delete s.resolve,delete s.reject}return s.resolve=n=>{r({status:"fulfilled",value:n}),e(n)},s.reject=n=>{r({status:"rejected",reason:n}),t(n)},s}var Ns=js;function Qs(){let e=[],t=0,s=o=>{o()},r=o=>{o()},n=Ns;const i=o=>{t?e.push(o):n(()=>{s(o)})},a=()=>{const o=e;e=[],o.length&&n(()=>{r(()=>{o.forEach(h=>{s(h)})})})};return{batch:o=>{let h;t++;try{h=o()}finally{t--,t||a()}return h},batchCalls:o=>(...h)=>{i(()=>{o(...h)})},schedule:i,setNotifyFunction:o=>{s=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{n=o}}}var I=Qs(),Ls=class extends z{#e=!0;#t;#s;constructor(){super(),this.#s=e=>{if(!W&&window.addEventListener){const t=()=>e(!0),s=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",s)}}}}onSubscribe(){this.#t||this.setEventListener(this.#s)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#s=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(s=>{s(e)}))}isOnline(){return this.#e}},he=new Ls;function $s(e){return Math.min(1e3*2**e,3e4)}function nt(e){return(e??"online")==="online"?he.isOnline():!0}var Se=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function it(e){let t=!1,s=0,r;const n=we(),i=()=>n.status!=="pending",a=c=>{if(!i()){const b=new Se(c);p(b),e.onCancel?.(b)}},o=()=>{t=!0},h=()=>{t=!1},l=()=>Ie.isFocused()&&(e.networkMode==="always"||he.isOnline())&&e.canRun(),u=()=>nt(e.networkMode)&&e.canRun(),y=c=>{i()||(r?.(),n.resolve(c))},p=c=>{i()||(r?.(),n.reject(c))},d=()=>new Promise(c=>{r=b=>{(i()||l())&&c(b)},e.onPause?.()}).then(()=>{r=void 0,i()||e.onContinue?.()}),m=()=>{if(i())return;let c;const b=s===0?e.initialPromise:void 0;try{c=b??e.fn()}catch(w){c=Promise.reject(w)}Promise.resolve(c).then(y).catch(w=>{if(i())return;const v=e.retry??(W?0:3),C=e.retryDelay??$s,S=typeof C=="function"?C(s,w):C,R=v===!0||typeof v=="number"&&s<v||typeof v=="function"&&v(s,w);if(t||!R){p(w);return}s++,e.onFail?.(s,w),Us(S).then(()=>l()?void 0:d()).then(()=>{t?p(w):m()})})};return{promise:n,status:()=>n.status,cancel:a,continue:()=>(r?.(),n),cancelRetry:o,continueRetry:h,canStart:u,start:()=>(u()?m():d().then(m),n)}}var at=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ve(this.gcTime)&&(this.#e=H.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(W?1/0:300*1e3))}clearGcTimeout(){this.#e&&(H.clearTimeout(this.#e),this.#e=void 0)}},Gs=class extends at{#e;#t;#s;#n;#r;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#s=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=Qe(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=Qe(this.options);t.data!==void 0&&(this.setState(Ne(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#s.remove(this)}setData(e,t){const s=be(this.state.data,e,this.options);return this.#i({data:s,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),s}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(M).catch(M):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>U(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_e||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>L(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!tt(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#s.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const o=this.observers.find(h=>h.options.queryFn);o&&this.setOptions(o.options)}const s=new AbortController,r=o=>{Object.defineProperty(o,"signal",{enumerable:!0,get:()=>(this.#o=!0,s.signal)})},n=()=>{const o=rt(this.options,t),l=(()=>{const u={client:this.#n,queryKey:this.queryKey,meta:this.meta};return r(u),u})();return this.#o=!1,this.options.persister?this.options.persister(o,l,this):o(l)},a=(()=>{const o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:n};return r(o),o})();this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#i({type:"fetch",meta:a.fetchOptions?.meta}),this.#r=it({initialPromise:t?.initialPromise,fn:a.fetchFn,onCancel:o=>{o instanceof Se&&o.revert&&this.setState({...this.#t,fetchStatus:"idle"}),s.abort()},onFail:(o,h)=>{this.#i({type:"failed",failureCount:o,error:h})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0});try{const o=await this.#r.start();if(o===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(o),this.#s.config.onSuccess?.(o,this),this.#s.config.onSettled?.(o,this.state.error,this),o}catch(o){if(o instanceof Se){if(o.silent)return this.#r.promise;if(o.revert){if(this.state.data===void 0)throw o;return this.state.data}}throw this.#i({type:"error",error:o}),this.#s.config.onError?.(o,this),this.#s.config.onSettled?.(this.state.data,o,this),o}finally{this.scheduleGc()}}#i(e){const t=s=>{switch(e.type){case"failed":return{...s,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...ot(s.data,this.options),fetchMeta:e.meta??null};case"success":const r={...s,...Ne(e.data,e.dataUpdatedAt),dataUpdateCount:s.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const n=e.error;return{...s,error:n,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...e.state}}};this.state=t(this.state),I.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),this.#s.notify({query:this,type:"updated",action:e})})}};function ot(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:nt(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Ne(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Qe(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,s=t!==void 0,r=s?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}var Hs=class extends z{constructor(e,t){super(),this.options=t,this.#e=e,this.#i=null,this.#o=we(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#s=void 0;#n=void 0;#r;#a;#o;#i;#m;#d;#f;#u;#h;#c;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),Le(this.#t,this.options)?this.#l():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ce(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ce(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#S(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,s=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof U(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#C(),this.#t.setOptions(this.options),t._defaulted&&!ue(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&$e(this.#t,s,this.options,t)&&this.#l(),this.updateResult(),r&&(this.#t!==s||U(this.options.enabled,this.#t)!==U(t.enabled,this.#t)||L(this.options.staleTime,this.#t)!==L(t.staleTime,this.#t))&&this.#y();const n=this.#v();r&&(this.#t!==s||U(this.options.enabled,this.#t)!==U(t.enabled,this.#t)||n!==this.#c)&&this.#g(n)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(t,e);return Bs(this,s)&&(this.#n=s,this.#a=this.options,this.#r=this.#t.state),s}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(s,r)=>(this.trackProp(r),t?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(s,r))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.#l({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#l(e){this.#C();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(M)),t}#y(){this.#w();const e=L(this.options.staleTime,this.#t);if(W||this.#n.isStale||!ve(e))return;const s=tt(this.#n.dataUpdatedAt,e)+1;this.#u=H.setTimeout(()=>{this.#n.isStale||this.updateResult()},s)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#g(e){this.#S(),this.#c=e,!(W||U(this.options.enabled,this.#t)===!1||!ve(this.#c)||this.#c===0)&&(this.#h=H.setInterval(()=>{(this.options.refetchIntervalInBackground||Ie.isFocused())&&this.#l()},this.#c))}#b(){this.#y(),this.#g(this.#v())}#w(){this.#u&&(H.clearTimeout(this.#u),this.#u=void 0)}#S(){this.#h&&(H.clearInterval(this.#h),this.#h=void 0)}createResult(e,t){const s=this.#t,r=this.options,n=this.#n,i=this.#r,a=this.#a,h=e!==s?e.state:this.#s,{state:l}=e;let u={...l},y=!1,p;if(t._optimisticResults){const E=this.hasListeners(),O=!E&&Le(e,t),x=E&&$e(e,s,t,r);(O||x)&&(u={...u,...ot(l.data,e.options)}),t._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:d,errorUpdatedAt:m,status:c}=u;p=u.data;let b=!1;if(t.placeholderData!==void 0&&p===void 0&&c==="pending"){let E;n?.isPlaceholderData&&t.placeholderData===a?.placeholderData?(E=n.data,b=!0):E=typeof t.placeholderData=="function"?t.placeholderData(this.#f?.state.data,this.#f):t.placeholderData,E!==void 0&&(c="success",p=be(n?.data,E,t),y=!0)}if(t.select&&p!==void 0&&!b)if(n&&p===i?.data&&t.select===this.#m)p=this.#d;else try{this.#m=t.select,p=t.select(p),p=be(n?.data,p,t),this.#d=p,this.#i=null}catch(E){this.#i=E}this.#i&&(d=this.#i,p=this.#d,m=Date.now(),c="error");const w=u.fetchStatus==="fetching",v=c==="pending",C=c==="error",S=v&&w,R=p!==void 0,_={status:c,fetchStatus:u.fetchStatus,isPending:v,isSuccess:c==="success",isError:C,isInitialLoading:S,isLoading:S,data:p,dataUpdatedAt:u.dataUpdatedAt,error:d,errorUpdatedAt:m,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>h.dataUpdateCount||u.errorUpdateCount>h.errorUpdateCount,isFetching:w,isRefetching:w&&!v,isLoadingError:C&&!R,isPaused:u.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:C&&R,isStale:je(e,t),refetch:this.refetch,promise:this.#o,isEnabled:U(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const E=T=>{_.status==="error"?T.reject(_.error):_.data!==void 0&&T.resolve(_.data)},O=()=>{const T=this.#o=_.promise=we();E(T)},x=this.#o;switch(x.status){case"pending":e.queryHash===s.queryHash&&E(x);break;case"fulfilled":(_.status==="error"||_.data!==x.value)&&O();break;case"rejected":(_.status!=="error"||_.error!==x.reason)&&O();break}}return _}updateResult(){const e=this.#n,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#a=this.options,this.#r.data!==void 0&&(this.#f=this.#t),ue(t,e))return;this.#n=t;const s=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,n=typeof r=="function"?r():r;if(n==="all"||!n&&!this.#p.size)return!0;const i=new Set(n??this.#p);return this.options.throwOnError&&i.add("error"),Object.keys(this.#n).some(a=>{const o=a;return this.#n[o]!==e[o]&&i.has(o)})};this.#x({listeners:s()})}#C(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#s=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#x(e){I.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function Ws(e,t){return U(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Le(e,t){return Ws(e,t)||e.state.data!==void 0&&Ce(e,t,t.refetchOnMount)}function Ce(e,t,s){if(U(t.enabled,e)!==!1&&L(t.staleTime,e)!=="static"){const r=typeof s=="function"?s(e):s;return r==="always"||r!==!1&&je(e,t)}return!1}function $e(e,t,s,r){return(e!==t||U(r.enabled,e)===!1)&&(!s.suspense||e.state.status!=="error")&&je(e,s)}function je(e,t){return U(t.enabled,e)!==!1&&e.isStaleByTime(L(t.staleTime,e))}function Bs(e,t){return!ue(e.getCurrentResult(),t)}function Ge(e){return{onFetch:(t,s)=>{const r=t.options,n=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],a=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},h=0;const l=async()=>{let u=!1;const y=m=>{Ds(m,()=>t.signal,()=>u=!0)},p=rt(t.options,t.fetchOptions),d=async(m,c,b)=>{if(u)return Promise.reject();if(c==null&&m.pages.length)return Promise.resolve(m);const v=(()=>{const j={client:t.client,queryKey:t.queryKey,pageParam:c,direction:b?"backward":"forward",meta:t.options.meta};return y(j),j})(),C=await p(v),{maxPages:S}=t.options,R=b?Fs:ks;return{pages:R(m.pages,C,S),pageParams:R(m.pageParams,c,S)}};if(n&&i.length){const m=n==="backward",c=m?Ks:He,b={pages:i,pageParams:a},w=c(r,b);o=await d(b,w,m)}else{const m=e??i.length;do{const c=h===0?a[0]??r.initialPageParam:He(r,o);if(h>0&&c==null)break;o=await d(o,c),h++}while(h<m)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(l,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s):t.fetchFn=l}}}function He(e,{pages:t,pageParams:s}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,s[r],s):void 0}function Ks(e,{pages:t,pageParams:s}){return t.length>0?e.getPreviousPageParam?.(t[0],t,s[0],s):void 0}var zs=class extends at{#e;#t;#s;#n;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#s=e.mutationCache,this.#t=[],this.state=e.state||ct(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#s.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#s.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#s.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#n=it({fn:()=>this.options.mutationFn?this.options.mutationFn(e,s):Promise.reject(new Error("No mutationFn found")),onFail:(i,a)=>{this.#r({type:"failed",failureCount:i,error:a})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#s.canRun(this)});const r=this.state.status==="pending",n=!this.#n.canStart();try{if(r)t();else{this.#r({type:"pending",variables:e,isPaused:n}),await this.#s.config.onMutate?.(e,this,s);const a=await this.options.onMutate?.(e,s);a!==this.state.context&&this.#r({type:"pending",context:a,variables:e,isPaused:n})}const i=await this.#n.start();return await this.#s.config.onSuccess?.(i,e,this.state.context,this,s),await this.options.onSuccess?.(i,e,this.state.context,s),await this.#s.config.onSettled?.(i,null,this.state.variables,this.state.context,this,s),await this.options.onSettled?.(i,null,e,this.state.context,s),this.#r({type:"success",data:i}),i}catch(i){try{await this.#s.config.onError?.(i,e,this.state.context,this,s)}catch(a){Promise.reject(a)}try{await this.options.onError?.(i,e,this.state.context,s)}catch(a){Promise.reject(a)}try{await this.#s.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,s)}catch(a){Promise.reject(a)}try{await this.options.onSettled?.(void 0,i,e,this.state.context,s)}catch(a){Promise.reject(a)}throw this.#r({type:"error",error:i}),i}finally{this.#s.runNext(this)}}#r(e){const t=s=>{switch(e.type){case"failed":return{...s,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...s,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:e.error,failureCount:s.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),I.batch(()=>{this.#t.forEach(s=>{s.onMutationUpdate(e)}),this.#s.notify({mutation:this,type:"updated",action:e})})}};function ct(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Vs=class extends z{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#s=0}#e;#t;#s;build(e,t,s){const r=new zs({client:e,mutationCache:this,mutationId:++this.#s,options:e.defaultMutationOptions(t),state:s});return this.add(r),r}add(e){this.#e.add(e);const t=te(e);if(typeof t=="string"){const s=this.#t.get(t);s?s.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=te(e);if(typeof t=="string"){const s=this.#t.get(t);if(s)if(s.length>1){const r=s.indexOf(e);r!==-1&&s.splice(r,1)}else s[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=te(e);if(typeof t=="string"){const r=this.#t.get(t)?.find(n=>n.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=te(e);return typeof t=="string"?this.#t.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){I.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(s=>Fe(t,s))}findAll(e={}){return this.getAll().filter(t=>Fe(e,t))}notify(e){I.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return I.batch(()=>Promise.all(e.map(t=>t.continue().catch(M))))}};function te(e){return e.options.scope?.id}var Js=class extends z{#e;#t=void 0;#s;#n;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#e.defaultMutationOptions(e),ue(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),t?.mutationKey&&this.options.mutationKey&&B(t.mutationKey)!==B(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(e){this.#r(),this.#a(e)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#r(),this.#a()}mutate(e,t){return this.#n=t,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(e)}#r(){const e=this.#s?.state??ct();this.#t={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){I.batch(()=>{if(this.#n&&this.hasListeners()){const t=this.#t.variables,s=this.#t.context,r={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(e?.type==="success"){try{this.#n.onSuccess?.(e.data,t,s,r)}catch(n){Promise.reject(n)}try{this.#n.onSettled?.(e.data,null,t,s,r)}catch(n){Promise.reject(n)}}else if(e?.type==="error"){try{this.#n.onError?.(e.error,t,s,r)}catch(n){Promise.reject(n)}try{this.#n.onSettled?.(void 0,e.error,t,s,r)}catch(n){Promise.reject(n)}}}this.listeners.forEach(t=>{t(this.#t)})})}},Ys=class extends z{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,s){const r=t.queryKey,n=t.queryHash??Re(r,t);let i=this.get(n);return i||(i=new Gs({client:e,queryKey:r,queryHash:n,options:e.defaultQueryOptions(t),state:s,defaultOptions:e.getQueryDefaults(r)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){I.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(s=>ke(t,s))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(s=>ke(e,s)):t}notify(e){I.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){I.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){I.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Zs=class{#e;#t;#s;#n;#r;#a;#o;#i;constructor(e={}){this.#e=e.queryCache||new Ys,this.#t=e.mutationCache||new Vs,this.#s=e.defaultOptions||{},this.#n=new Map,this.#r=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=Ie.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=he.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),s=this.#e.build(this,t),r=s.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&s.isStaleByTime(L(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:s})=>{const r=s.data;return[t,r]})}setQueryData(e,t,s){const r=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(r.queryHash)?.state.data,a=Ms(t,i);if(a!==void 0)return this.#e.build(this,r).setData(a,{...s,manual:!0})}setQueriesData(e,t,s){return I.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,s)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;I.batch(()=>{t.findAll(e).forEach(s=>{t.remove(s)})})}resetQueries(e,t){const s=this.#e;return I.batch(()=>(s.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const s={revert:!0,...t},r=I.batch(()=>this.#e.findAll(e).map(n=>n.cancel(s)));return Promise.all(r).then(M).catch(M)}invalidateQueries(e,t={}){return I.batch(()=>(this.#e.findAll(e).forEach(s=>{s.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},r=I.batch(()=>this.#e.findAll(e).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let i=n.fetch(void 0,s);return s.throwOnError||(i=i.catch(M)),n.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(M)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const s=this.#e.build(this,t);return s.isStaleByTime(L(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(M).catch(M)}fetchInfiniteQuery(e){return e.behavior=Ge(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(M).catch(M)}ensureInfiniteQueryData(e){return e.behavior=Ge(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return he.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#s}setDefaultOptions(e){this.#s=e}setQueryDefaults(e,t){this.#n.set(B(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()],s={};return t.forEach(r=>{Z(e,r.queryKey)&&Object.assign(s,r.defaultOptions)}),s}setMutationDefaults(e,t){this.#r.set(B(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],s={};return t.forEach(r=>{Z(e,r.mutationKey)&&Object.assign(s,r.defaultOptions)}),s}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#s.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Re(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===_e&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#s.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},ut=P.createContext(void 0),V=e=>{const t=P.useContext(ut);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Xs=({client:e,children:t})=>(P.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),f.jsx(ut.Provider,{value:e,children:t})),ht=P.createContext(!1),er=()=>P.useContext(ht);ht.Provider;function tr(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var sr=P.createContext(tr()),rr=()=>P.useContext(sr),nr=(e,t,s)=>{const r=s?.state.error&&typeof e.throwOnError=="function"?Te(e.throwOnError,[s.state.error,s]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||r)&&(t.isReset()||(e.retryOnMount=!1))},ir=e=>{P.useEffect(()=>{e.clearReset()},[e])},ar=({result:e,errorResetBoundary:t,throwOnError:s,query:r,suspense:n})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(n&&e.data===void 0||Te(s,[e.error,r])),or=e=>{if(e.suspense){const s=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>s(r(...n)):s(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},cr=(e,t)=>e.isLoading&&e.isFetching&&!t,ur=(e,t)=>e?.suspense&&t.isPending,We=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function hr(e,t,s){const r=er(),n=rr(),i=V(),a=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(a);const o=i.getQueryCache().get(a.queryHash);a._optimisticResults=r?"isRestoring":"optimistic",or(a),nr(a,n,o),ir(n);const h=!i.getQueryCache().get(a.queryHash),[l]=P.useState(()=>new t(i,a)),u=l.getOptimisticResult(a),y=!r&&e.subscribed!==!1;if(P.useSyncExternalStore(P.useCallback(p=>{const d=y?l.subscribe(I.batchCalls(p)):M;return l.updateResult(),d},[l,y]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),P.useEffect(()=>{l.setOptions(a)},[a,l]),ur(a,u))throw We(a,l,n);if(ar({result:u,errorResetBoundary:n,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw u.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(a,u),a.experimental_prefetchInRender&&!W&&cr(u,r)&&(h?We(a,l,n):o?.promise)?.catch(M).finally(()=>{l.updateResult()}),a.notifyOnChangeProps?u:l.trackResult(u)}function lr(e,t){return hr(e,Hs)}function X(e,t){const s=V(),[r]=P.useState(()=>new Js(s,e));P.useEffect(()=>{r.setOptions(e)},[r,e]);const n=P.useSyncExternalStore(P.useCallback(a=>r.subscribe(I.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=P.useCallback((a,o)=>{r.mutate(a,o).catch(M)},[r]);if(n.error&&Te(r.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:i,mutateAsync:n.mutate}}const lt=P.createContext(null);function dt({value:e,children:t}){return f.jsx(lt.Provider,{value:e,children:t})}function dr(){const e=P.useContext(lt);if(!e)throw new Error("SessionUserProvider ");return e}dt.__docgenInfo={description:"",methods:[],displayName:"SessionUserProvider",props:{value:{required:!0,tsType:{name:"AppSessionUser"},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const fr="_page_e0z94_1",pr="_shell_e0z94_14",mr="_footerNote_e0z94_21",me={page:fr,shell:pr,footerNote:mr},ee=["groups"];var yr=(e,t,s={})=>{let r=`${e}=${t}`;if(e.startsWith("__Secure-")&&!s.secure)throw new Error("__Secure- Cookie must have Secure attributes");if(e.startsWith("__Host-")){if(!s.secure)throw new Error("__Host- Cookie must have Secure attributes");if(s.path!=="/")throw new Error('__Host- Cookie must have Path attributes with "/"');if(s.domain)throw new Error("__Host- Cookie must not have Domain attributes")}if(s&&typeof s.maxAge=="number"&&s.maxAge>=0){if(s.maxAge>3456e4)throw new Error("Cookies Max-Age SHOULD NOT be greater than 400 days (34560000 seconds) in duration.");r+=`; Max-Age=${s.maxAge|0}`}if(s.domain&&s.prefix!=="host"&&(r+=`; Domain=${s.domain}`),s.path&&(r+=`; Path=${s.path}`),s.expires){if(s.expires.getTime()-Date.now()>3456e7)throw new Error("Cookies Expires SHOULD NOT be greater than 400 days (34560000 seconds) in the future.");r+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(r+="; HttpOnly"),s.secure&&(r+="; Secure"),s.sameSite&&(r+=`; SameSite=${s.sameSite.charAt(0).toUpperCase()+s.sameSite.slice(1)}`),s.priority&&(r+=`; Priority=${s.priority.charAt(0).toUpperCase()+s.priority.slice(1)}`),s.partitioned){if(!s.secure)throw new Error("Partitioned Cookie must have Secure attributes");r+="; Partitioned"}return r},vr=(e,t,s)=>(t=encodeURIComponent(t),yr(e,t,s)),gr=(e,t)=>(e=e.replace(/\/+$/,""),e=e+"/",t=t.replace(/^\/+/,""),e+t),xe=(e,t)=>{for(const[s,r]of Object.entries(t)){const n=new RegExp("/:"+s+"(?:{[^/]+})?\\??");e=e.replace(n,r?`/${r}`:"")}return e},ft=e=>{const t=new URLSearchParams;for(const[s,r]of Object.entries(e))if(r!==void 0)if(Array.isArray(r))for(const n of r)t.append(s,n);else t.set(s,r);return t},br=(e,t)=>{switch(t){case"ws":return e.replace(/^http/,"ws");case"http":return e.replace(/^ws/,"http")}},pt=e=>/^https?:\/\/[^\/]+?\/index(?=\?|$)/.test(e)?e.replace(/\/index(?=\?|$)/,"/"):e.replace(/\/index(?=\?|$)/,"");function se(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function mt(e,t){if(!se(e)&&!se(t))return t;const s={...e};for(const r in t){const n=t[r];se(s[r])&&se(n)?s[r]=mt(s[r],n):s[r]=n}return s}var yt=(e,t)=>new Proxy(()=>{},{get(r,n){if(!(typeof n!="string"||n==="then"))return yt(e,[...t,n])},apply(r,n,i){return e({path:t,args:i})}}),wr=class{url;method;queryParams=void 0;pathParams={};rBody;cType=void 0;constructor(e,t){this.url=e,this.method=t}fetch=async(e,t)=>{if(e){if(e.query&&(this.queryParams=ft(e.query)),e.form){const o=new FormData;for(const[h,l]of Object.entries(e.form))if(Array.isArray(l))for(const u of l)o.append(h,u);else o.append(h,l);this.rBody=o}e.json&&(this.rBody=JSON.stringify(e.json),this.cType="application/json"),e.param&&(this.pathParams=e.param)}let s=this.method.toUpperCase();const r={...e?.header,...typeof t?.headers=="function"?await t.headers():t?.headers};if(e?.cookie){const o=[];for(const[h,l]of Object.entries(e.cookie))o.push(vr(h,l,{path:"/"}));r.Cookie=o.join(",")}this.cType&&(r["Content-Type"]=this.cType);const n=new Headers(r??void 0);let i=this.url;i=pt(i),i=xe(i,this.pathParams),this.queryParams&&(i=i+"?"+this.queryParams.toString()),s=this.method.toUpperCase();const a=!(s==="GET"||s==="HEAD");return(t?.fetch||fetch)(i,{body:a?this.rBody:void 0,method:s,headers:n,...t?.init})}},Sr=(e,t)=>yt(function s(r){const n=[...r.path],i=n.slice(-3).reverse();if(i[0]==="toString")return i[1]==="name"?i[2]||"":s.toString();if(i[0]==="valueOf")return i[1]==="name"?i[2]||"":s;let a="";if(/^\$/.test(i[0])){const u=n.pop();u&&(a=u.replace(/^\$/,""))}const o=n.join("/"),h=gr(e,o);if(a==="url"){let u=h;return r.args[0]&&(r.args[0].param&&(u=xe(h,r.args[0].param)),r.args[0].query&&(u=u+"?"+ft(r.args[0].query).toString())),u=pt(u),new URL(u)}if(a==="ws"){const u=br(r.args[0]&&r.args[0].param?xe(h,r.args[0].param):h,"ws"),y=new URL(u),p=r.args[0]?.query;return p&&Object.entries(p).forEach(([m,c])=>{Array.isArray(c)?c.forEach(b=>y.searchParams.append(m,b)):y.searchParams.set(m,c)}),((...m)=>t?.webSocket!==void 0&&typeof t.webSocket=="function"?t.webSocket(...m):new WebSocket(...m))(y.toString())}const l=new wr(h,a);if(a){t??={};const u=mt(t,{...r.args[1]});return l.fetch(r.args[0],u)}return l},[]);const Cr="",xr=Sr(Cr,{fetch:(e,t)=>fetch(e,{...t,credentials:"include"})});class A extends Error{status;constructor(t,s){super(s),this.status=t,this.name="ApiError"}}const J=xr.api.groups,Er=async()=>{const t=await J.$get();if(!t.ok)throw new Error("");return t.json()},Or=async({groupId:e,email:t})=>{const r=await J[":groupId"].search.users.$get({param:{groupId:e},query:{email:t}});if(r.status===422){const i=(await r.json()).errors.map(a=>a.message).filter(Boolean).join(" / ");throw new A(422,i||"")}if(!r.ok)throw new A(r.status,"");return r.json()},Pr=async({name:e})=>{const s=await J.$post({json:{name:e}});if(!s.ok)throw new Error("");return s.json()},Rr=async({groupId:e,user_id:t})=>{const r=await J[":groupId"].invitations.$post({param:{groupId:e},json:{user_id:t}});if(r.status===422){const i=(await r.json()).errors.map(a=>a.message).filter(Boolean).join(" / ");throw new A(422,i||"")}if(!r.ok)throw new A(r.status,"");return r.json()},_r=async({groupId:e})=>{const s=await J[":groupId"].invitations.accept.$post({param:{groupId:e}});if(s.status===422){const n=(await s.json()).errors.map(i=>i.message).filter(Boolean).join(" / ");throw new A(422,n||"")}if(!s.ok)throw new A(s.status,"")},Tr=async({groupId:e})=>{const s=await J[":groupId"].invitations.deny.$post({param:{groupId:e}});if(s.status===422){const n=(await s.json()).errors.map(i=>i.message).filter(Boolean).join(" / ");throw new A(422,n||"")}if(!s.ok)throw new A(s.status,"")},Ir=()=>lr({queryKey:ee,queryFn:Er}),jr=()=>{const e=V();return X({mutationFn:t=>Pr({name:t}),onSuccess:async()=>{await e.invalidateQueries({queryKey:ee})}})},Mr=()=>{const[e,t]=P.useState(""),{showError:s,closeError:r,getModalMessage:n}=le(),i=X({mutationFn:({groupId:h,email:l})=>Or({groupId:h,email:l}),onError:h=>{if(h instanceof A&&h.status===422){t(h.message),r();return}const l=h instanceof A?h.status:void 0,u=h instanceof Error&&h.message?h.message:"";t(""),s({title:"",message:l?n(l):u})},onSuccess:()=>{t(""),r()}}),a=()=>{t("")};return{...i,errorMessage:e,clearErrorMessage:a,resetSearchResult:()=>{i.reset(),a()}}},Ar=()=>{const e=V(),{showError:t,closeError:s,getModalMessage:r}=le();return X({mutationFn:({groupId:n,userId:i})=>Rr({groupId:n,user_id:i}),onSuccess:async()=>{await e.invalidateQueries({queryKey:ee}),s()},onError:n=>{const i=n instanceof A?n.status:void 0,a=n instanceof Error&&n.message?n.message:"";t({title:"",message:i?r(i):a})}})},Ur=e=>{const t=V(),{showError:s,closeError:r,getModalMessage:n}=le();return X({mutationFn:({groupId:i})=>_r({groupId:i}),onSuccess:async(i,a)=>{await t.invalidateQueries({queryKey:ee}),r(),e?.onSuccess?.(a.groupId)},onError:i=>{const a=i instanceof A?i.status:void 0,o=i instanceof Error&&i.message?i.message:"";s({title:"",message:a?n(a):o})}})},kr=()=>{const e=V(),{showError:t,closeError:s,getModalMessage:r}=le();return X({mutationFn:({groupId:n})=>Tr({groupId:n}),onSuccess:async()=>{await e.invalidateQueries({queryKey:ee}),s()},onError:n=>{const i=n instanceof A?n.status:void 0,a=n instanceof Error&&n.message?n.message:"";t({title:"",message:i?r(i):a})}})},Fr="_groupsContent_b1rrt_1",Dr="_sectionHeader_b1rrt_7",qr="_emptyCard_b1rrt_50",Nr="_emptyEmoji_b1rrt_60",Qr="_emptyTitle_b1rrt_65",Lr="_emptyDescription_b1rrt_72",$r="_helperText_b1rrt_79",Gr="_list_b1rrt_86",Hr="_loadingWrapper_b1rrt_91",F={groupsContent:Fr,sectionHeader:Dr,emptyCard:qr,emptyEmoji:Nr,emptyTitle:Qr,emptyDescription:Lr,helperText:$r,list:Gr,loadingWrapper:Hr};function vt(){const e=$t(),[t,s]=P.useState(!1),[r,n]=P.useState(null),[i,a]=P.useState(null),{data:o,isLoading:h,isError:l}=Ir(),{mutateAsync:u,isPending:y}=jr(),{mutateAsync:p,isPending:d}=Ar(),{mutateAsync:m,isPending:c}=Ur({onSuccess:g=>{e(`/groups/${g}`)}}),{mutateAsync:b,isPending:w}=kr(),{mutateAsync:v,isPending:C,data:S,errorMessage:R,clearErrorMessage:j,resetSearchResult:_}=Mr(),E=async g=>{try{await u(g),s(!1)}catch(k){console.error(k)}},O=o?.groups??[],x=O.filter(g=>g.is_invited),T=O.filter(g=>!g.is_invited),Y=T.length>0,de=(g,k)=>{n({id:g,name:k}),_()},St=()=>{n(null),_()},Ct=(g,k)=>{a({id:g,name:k})},fe=()=>{a(null)},xt=async g=>{if(r)try{await v({groupId:r.id,email:g})}catch(k){console.error(k)}},Et=async g=>{if(r)try{await p({groupId:r.id,userId:g})}catch(k){console.error(k)}},Ot=async g=>{try{await m({groupId:g})}catch(k){console.error(k)}},Pt=async()=>{if(i)try{await b({groupId:i.id}),fe()}catch(g){console.error(g)}},Rt=()=>h?f.jsx("div",{className:F.loadingWrapper,children:f.jsx(Lt,{size:"md",ariaLabel:""})}):l?f.jsx("p",{className:F.helperText,children:""}):!Y&&x.length===0?f.jsxs("div",{className:F.emptyCard,children:[f.jsx("div",{className:F.emptyEmoji,"aria-hidden":"true",children:""}),f.jsx("p",{className:F.emptyTitle,children:""}),f.jsxs("p",{className:F.emptyDescription,children:["",f.jsx("br",{}),""]})]}):f.jsxs("div",{className:F.list,children:[x.map(g=>f.jsx(Nt,{groupName:g.name,inviterName:void 0,disabled:c||w,onAccept:()=>{Ot(g.id)},onDecline:()=>{Ct(g.id,g.name)}},`invite-${g.id}`)),T.map(g=>f.jsx(qt,{name:g.name,memberCount:g.member_count,invitedCount:g.invited_count,onInviteClick:()=>{de(g.id,g.name)},onOpenClick:()=>{console.log(`Open group ${g.id}`)}},g.id))]});return f.jsxs(Oe,{children:[f.jsxs("section",{className:F.groupsContent,"aria-labelledby":"groups-heading",children:[f.jsxs("div",{className:F.sectionHeader,children:[f.jsx("h2",{id:"groups-heading",children:""}),f.jsx(pe,{variant:"primary",radius:"pill",size:"md",fullWidth:!0,icon:f.jsx(Ps,{"aria-hidden":!0,size:18}),onClick:()=>{s(!0)},children:""})]}),Rt(),f.jsx(Dt,{open:t,onOpenChange:s,onSubmit:g=>{E(g)},isSubmitting:y})]}),f.jsx(Qt,{open:!!r,onOpenChange:g=>{g||St()},groupName:r?.name??"",onSearch:g=>{xt(g)},isSearching:C,isInviting:d,searchResults:S?.users??[],searchError:R,onClearSearchError:j,onInvite:g=>{Et(g.id)}}),f.jsx(Ft,{open:!!i,onOpenChange:g=>{g||fe()},title:"",footer:f.jsxs(f.Fragment,{children:[f.jsx(pe,{type:"button",variant:"outline",size:"md",radius:"lg",onClick:fe,disabled:w,children:""}),f.jsx(pe,{type:"button",variant:"primary",size:"md",radius:"lg",onClick:()=>{Pt()},disabled:w,children:""})]}),children:f.jsxs("p",{className:F.helperText,children:["",i?.name??"",""]})})]})}vt.__docgenInfo={description:"",methods:[],displayName:"GroupsSection"};const Wr="_heroContent_c7dgf_1",Br="_heroBadge_c7dgf_7",Kr="_heroEyebrow_c7dgf_18",zr="_heroTitle_c7dgf_25",re={heroContent:Wr,heroBadge:Br,heroEyebrow:Kr,heroTitle:zr};function gt(){return f.jsx(Oe,{children:f.jsxs("section",{className:re.heroContent,"aria-labelledby":"hero-heading",children:[f.jsx("div",{className:re.heroBadge,"aria-hidden":"true",children:f.jsx("img",{src:"https://kaji-ai.s3.ap-northeast-1.amazonaws.com/favicon.svg",alt:""})}),f.jsxs("div",{children:[f.jsx("h1",{id:"hero-heading",className:re.heroTitle,children:""}),f.jsx("p",{className:re.heroEyebrow,children:""})]})]})})}gt.__docgenInfo={description:"",methods:[],displayName:"HeroSection"};const Vr="_profileContent_x0tmm_1",Jr="_avatar_x0tmm_7",Yr="_avatarIcon_x0tmm_18",Zr="_avatarImage_x0tmm_25",Xr="_profileText_x0tmm_32",en="_welcome_x0tmm_38",tn="_userName_x0tmm_44",G={profileContent:Vr,avatar:Jr,avatarIcon:Yr,avatarImage:Zr,profileText:Xr,welcome:en,userName:tn};function bt({user:e}){const t=e.name??"";return f.jsx(Oe,{children:f.jsxs("div",{className:G.profileContent,children:[f.jsx("div",{className:G.avatar,children:e.image?f.jsx("img",{src:e.image,alt:`${t}`,className:G.avatarImage,referrerPolicy:"no-referrer"}):f.jsx(Es,{"aria-hidden":!0,className:G.avatarIcon})}),f.jsxs("div",{className:G.profileText,children:[f.jsx("p",{className:G.welcome,children:""}),f.jsxs("p",{className:G.userName,children:[t," "]})]})]})})}bt.__docgenInfo={description:"",methods:[],displayName:"ProfileSection",props:{user:{required:!0,tsType:{name:"AppSessionUser"},description:""}}};function Ee(){const e=dr();return f.jsx("div",{className:me.page,children:f.jsxs("main",{className:me.shell,children:[f.jsx(gt,{}),f.jsx(bt,{user:e}),f.jsx(vt,{}),f.jsx("p",{className:me.footerNote,children:" "})]})})}Ee.__docgenInfo={description:"",methods:[],displayName:"UserPage"};const sn={groups:[{id:"group-1",name:"",image:null,member_count:1,invited_count:0,is_invited:!1},{id:"group-2",name:"",image:null,member_count:3,invited_count:1,is_invited:!1},{id:"group-3",name:"",image:"https://images.unsplash.com/photo-1505693416388-ac5ce068fe85?auto=format&fit=crop&w=200&h=200&q=80",member_count:5,invited_count:2,is_invited:!1}]},jn={component:Ee,parameters:{layout:"fullscreen",msw:{handlers:[et.get(/\/api\/groups$/,()=>D.json(sn))]}},argTypes:{user:{control:!1}},decorators:[(e,t)=>{const s=new Zs({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});return f.jsx(dt,{value:t.args.user,children:f.jsx(Xs,{client:s,children:f.jsx(kt,{children:f.jsx(e,{})})})})}],render:()=>f.jsx(Ee,{})},wt={id:"mock-user",name:" ",email:"hanako@example.com",image:null},rn={id:"mock-user-image",name:" ",email:"hanako@example.com",image:"https://images.unsplash.com/photo-1524504388940-b1c1722653e1?auto=format&fit=facearea&w=200&h=200&q=80"},nn={id:"mock-user-large-image",name:" ",email:"daisuke@example.com",image:"https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?auto=format&w=1200&h=1200&q=80"},an={id:"mock-user-small-image",name:" ",email:"koharu@example.com",image:"https://images.unsplash.com/photo-1521572163474-6864f9cf17ab?auto=format&w=60&h=60&q=80"},ne={args:{user:wt}},ie={args:{user:rn}},ae={args:{user:nn}},oe={args:{user:an}},ce={args:{user:wt},parameters:{msw:{handlers:[et.get(/\/api\/groups$/,()=>D.json({groups:[]}))]}}};ne.parameters={...ne.parameters,docs:{...ne.parameters?.docs,source:{originalSource:`{
  args: {
    user: mockUserWithoutImage
  }
}`,...ne.parameters?.docs?.source}}};ie.parameters={...ie.parameters,docs:{...ie.parameters?.docs,source:{originalSource:`{
  args: {
    user: mockUserWithImage
  }
}`,...ie.parameters?.docs?.source}}};ae.parameters={...ae.parameters,docs:{...ae.parameters?.docs,source:{originalSource:`{
  args: {
    user: mockUserWithLargeImage
  }
}`,...ae.parameters?.docs?.source}}};oe.parameters={...oe.parameters,docs:{...oe.parameters?.docs,source:{originalSource:`{
  args: {
    user: mockUserWithSmallImage
  }
}`,...oe.parameters?.docs?.source}}};ce.parameters={...ce.parameters,docs:{...ce.parameters?.docs,source:{originalSource:`{
  args: {
    user: mockUserWithoutImage
  },
  parameters: {
    msw: {
      handlers: [http.get(/\\/api\\/groups$/, () => HttpResponse.json({
        groups: []
      }))]
    }
  }
}`,...ce.parameters?.docs?.source}}};const Mn=["WithoutImage","WithImage","WithLargeImage","WithSmallImage","NoGroups"];export{ce as NoGroups,ie as WithImage,ae as WithLargeImage,oe as WithSmallImage,ne as WithoutImage,Mn as __namedExportsOrder,jn as default};
