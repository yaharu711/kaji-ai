import{j as o}from"./jsx-runtime-u17CrQMm.js";import{u as M,f as q,a as T,c as O,A as G,h as L,Q as D,b as E,H as R}from"./index-CUQLrp7-.js";import{r as m}from"./iframe-DxGbP0-9.js";import{c as f}from"./createLucideIcon-CgzfMX5A.js";import{S as B}from"./settings-D-S-l_u6.js";import{P as z}from"./index-ykZGv8WS.js";import"./index-BzAMpDWK.js";import{H as F}from"./index-CRw0Jcmv.js";import"./index-BKtDPDeF.js";import"./index-B_Psecui.js";import{L as Q}from"./index-B5s9NDkO.js";import"./index-mvGOgTNA.js";import"./index-Bd97GU_v.js";import"./index-Xd5tOYHG.js";import"./index-B3jrwB1r.js";import"./index-CNeqkcPM.js";import{D as v}from"./index-nlAh7-6T.js";import{S as _}from"./swords-RmYdR2K4.js";import{u as V}from"./useErrorModal-CrTqqVkP.js";import"./preload-helper-PPVm8Dsz.js";import"./index-CAFPQBOE.js";import"./Combination-CR-jTGjv.js";import"./index-Rb89O4Qn.js";import"./index-B_8gQvYz.js";import"./x-DxJV4PI0.js";import"./chunk-JMJ3UQ3L-DmjRg2hn.js";import"./index-CU-5jKyx.js";import"./check-BUwYezai.js";const J=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],U=f("chart-column",J);const K=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Y=f("clipboard-list",K);const Z=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]],W=f("clock-3",Z);const X=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],ee=f("house",X),I=m.createContext(null);function k({value:e,children:r}){return o.jsx(I.Provider,{value:e,children:r})}function te(){const e=m.useContext(I);if(!e)throw new Error("GroupLayoutProvider ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚ã‚°ãƒ«ãƒ¼ãƒ—é…ä¸‹ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã§ãƒ©ãƒƒãƒ—ã—ã¦ãã ã•ã„ã€‚");return e}k.__docgenInfo={description:"",methods:[],displayName:"GroupLayoutProvider",props:{value:{required:!0,tsType:{name:"GroupLayoutValue"},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const oe=(e,r,n)=>{const t=`/groups/${e}`,a={groupName:r};return[{label:"ã‚°ãƒ«ãƒ¼ãƒ—",to:t,icon:ee,isActive:n===t,state:a},{label:"ãƒ¬ãƒãƒ¼ãƒˆ",to:`${t}/reports`,icon:U,isActive:n===`${t}/reports`,state:a},{label:"å®¶äº‹",to:`${t}/chores`,icon:Y,isActive:n===`${t}/chores`,state:a},{label:"è¨­å®š",to:`${t}/settings`,icon:B,isActive:n===`${t}/settings`,state:a}]},ne="_content_1us3c_1",re="_badge_1us3c_10",ae="_title_1us3c_20",se="_description_1us3c_26",ie="_groupId_1us3c_32",ce="_floatingAction_1us3c_39",d={content:ne,badge:re,title:ae,description:se,groupId:ie,floatingAction:ce},de="_form_1tqiv_1",ue="_section_1tqiv_7",le="_sectionHeader_1tqiv_13",me="_sectionIcon_1tqiv_22",c={form:de,section:ue,sectionHeader:le,sectionIcon:me},y=e=>`${String(e)}æ™‚`,w=e=>{const n=new Intl.DateTimeFormat("ja-JP",{timeZone:"Asia/Tokyo",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",hour12:!1}).formatToParts(e),t=a=>n.find(s=>s.type===a)?.value??"";return{year:t("year"),month:t("month"),day:t("day"),hour:t("hour")}},pe=Array.from({length:24},(e,r)=>{const n=y(r),t=y((r+1)%24),a=`${n}ã€œ${t}`;return{value:a,label:a}}),j=()=>{const e=new Date,r=w(e).hour,n=Number(r),t=Number.isNaN(n)?e.getHours():n,a=y(t),s=y((t+1)%24);return`${a}ã€œ${s}`},he=e=>{const r=/^(\d{1,2})æ™‚ã€œ/.exec(e);if(!r)return null;const n=Number(r[1]);return Number.isNaN(n)||n<0||n>23?null:n};function P({open:e,onOpenChange:r,choreOptions:n,choresLoading:t=!1,isSubmitting:a=!1,onSubmit:s}){const[u,p]=m.useState(void 0),[i,h]=m.useState(j),x=w(new Date),H=`${x.month}æœˆ${x.day}æ—¥`,S=()=>{p(void 0),h(j())},b=l=>{l||S(),r(l)},A=async()=>{if(!u||a)return;const l=he(i);if(l!==null)try{await s({choreId:Number(u),startHour:l}),b(!1)}catch{}};return o.jsx(F,{open:e,onOpenChange:b,title:"å®¶äº‹ã‚’è¨Žä¼ã™ã‚‹",headerIcon:o.jsx(_,{size:20}),primaryActionLabel:"è¨Žä¼å®Œäº†",secondaryActionLabel:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«",onPrimaryAction:()=>{A()},onSecondaryAction:()=>{b(!1)},children:o.jsxs("div",{className:c.form,children:[o.jsxs("section",{className:c.section,"aria-labelledby":"chore-select-heading",children:[o.jsxs("div",{id:"chore-select-heading",className:c.sectionHeader,children:[o.jsx(_,{className:c.sectionIcon,"aria-hidden":!0}),o.jsx("span",{children:"è¨Žä¼ã™ã‚‹å®¶äº‹ã‚’é¸æŠž"})]}),o.jsx(v,{placeholder:"å®¶äº‹ã‚’é¸æŠžã—ã‚ˆã†ï¼",emptyMessage:t?o.jsx(Q,{size:"md",ariaLabel:"å®¶äº‹ã‚’èª­ã¿è¾¼ã¿ä¸­"}):"è¨Žä¼ã™ã‚‹å®¶äº‹ãŒã‚ã‚Šã¾ã›ã‚“ã€ã€ï¼",options:n,value:u,onChange:p,disabled:t})]}),o.jsxs("section",{className:c.section,"aria-labelledby":"battle-time-heading",children:[o.jsxs("div",{id:"battle-time-heading",className:c.sectionHeader,children:[o.jsx(W,{className:c.sectionIcon,"aria-hidden":!0}),o.jsx("span",{children:"è¨Žä¼æ™‚åˆ»"})]}),o.jsx(v,{options:pe,value:i,onChange:h,helperText:`æœ¬æ—¥ ${H}ã®è¨Žä¼ã¨ã—ã¦è¨˜éŒ²ã•ã‚Œã¾ã™ï¼`})]})]})})}P.__docgenInfo={description:"",methods:[],displayName:"ChoreBeatingModal",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},choreOptions:{required:!0,tsType:{name:"Array",elements:[{name:"DropdownOption"}],raw:"DropdownOption[]"},description:""},choresLoading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isSubmitting:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"(payload: { choreId: number; startHour: number }) => Promise<void>",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ choreId: number; startHour: number }",signature:{properties:[{key:"choreId",value:{name:"number",required:!0}},{key:"startHour",value:{name:"number",required:!0}}]}},name:"payload"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""}}};const ge=e=>["groups",e,"chores"],ye=e=>{const r=e??"";return M({queryKey:ge(r),queryFn:()=>q({groupId:r}),enabled:!!e})},fe={"dish-wash":"ðŸ½ï¸",cleaning:"ðŸ§¹",laundry:"ðŸ‘•",cooking:"ðŸ³",trash:"ðŸ—‘ï¸",shopping:"ðŸ›’","bath-cleaning":"ðŸ›","toilet-cleaning":"ðŸš½"},be=e=>fe[e],_e=e=>{const n=new Intl.DateTimeFormat("ja-JP",{timeZone:"Asia/Tokyo",year:"numeric",month:"2-digit",day:"2-digit"}).formatToParts(e),t=a=>n.find(s=>s.type===a)?.value??"";return{year:t("year"),month:t("month"),day:t("day")}},xe=e=>{const{year:r,month:n,day:t}=_e(new Date),a=String(e).padStart(2,"0");return`${r}-${n}-${t}T${a}:00:00+09:00`},ve=()=>{const{showError:e,closeError:r,getModalMessage:n}=V();return T({mutationFn:({groupId:t,choreId:a,startHour:s})=>O({groupId:t,chore_id:a,beated_at:xe(s)}),onSuccess:()=>{r()},onError:t=>{const a=t instanceof G?t.status:void 0,s=t instanceof Error&&t.message?t.message:"è¨Žä¼è¨˜éŒ²ã®ä½œæˆã«å¤±æ•—ã—ã¾ã—ãŸ";e({title:"è¨Žä¼ã‚¨ãƒ©ãƒ¼",message:a?n(a):s})}})};function $(){const{groupId:e}=te(),[r,n]=m.useState(!1),{data:t,isLoading:a}=ye(e),{mutateAsync:s,isPending:u}=ve(),p=t?.map(i=>({value:String(i.id),label:i.name,icon:o.jsx("span",{"aria-hidden":!0,children:be(i.icon_code)})}))??[];return o.jsxs(o.Fragment,{children:[o.jsx(P,{open:r,onOpenChange:n,choreOptions:p,choresLoading:a,isSubmitting:u,onSubmit:async({choreId:i,startHour:h})=>{e&&await s({groupId:e,choreId:i,startHour:h})}}),o.jsx(z,{align:"center",children:o.jsxs("section",{className:d.content,"aria-labelledby":"group-heading",children:[o.jsx("p",{className:d.badge,children:"ã‚°ãƒ«ãƒ¼ãƒ—"}),o.jsx("h1",{id:"group-heading",className:d.title,children:"to be continue..."}),o.jsx("p",{className:d.description,children:"ã‚°ãƒ«ãƒ¼ãƒ—ç”»é¢ã¯ç¾åœ¨æº–å‚™ä¸­ã§ã™ã€‚"}),e?o.jsxs("p",{className:d.groupId,children:["groupId: ",e]}):null]})}),o.jsx("button",{type:"button",className:d.floatingAction,"aria-label":"ãƒãƒˆãƒ«ã‚’é–‹ã","aria-haspopup":"dialog",onClick:()=>{n(!0)},children:o.jsx(_,{size:29})})]})}$.__docgenInfo={description:"",methods:[],displayName:"GroupHomePage"};const C="group-1",N="æ°¸äº•å®¶",je={id:"user-1",name:"å±±ç”° èŠ±å­",email:"hanako@example.com",image:null},Ce=[{id:1,name:"é£Ÿå™¨æ´—ã„",icon_code:"dish-wash"},{id:2,name:"æŽƒé™¤",icon_code:"cleaning"},{id:3,name:"æ´—æ¿¯",icon_code:"laundry"}],We={component:$,parameters:{layout:"fullscreen",msw:{handlers:[L.get(/\/api\/groups\/[^/]+\/chores$/,()=>R.json(Ce))]}},decorators:[e=>{const r=new D({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});return o.jsx(E,{client:r,children:o.jsx(k,{value:{groupId:C,groupName:N,navItems:oe(C,N),currentUser:je},children:o.jsx(e,{})})})}]},g={};g.parameters={...g.parameters,docs:{...g.parameters?.docs,source:{originalSource:"{}",...g.parameters?.docs?.source}}};const Xe=["Default"];export{g as Default,Xe as __namedExportsOrder,We as default};
