import{j as o}from"./jsx-runtime-u17CrQMm.js";import{u as T,f as q,a as O,c as D,A as E,h as G,Q as L,b as R,H as B}from"./index-BXY9Cher.js";import{E as V}from"./index-CxM2BMeA.js";import{r as m}from"./iframe-CPHJn06c.js";import{c as f}from"./createLucideIcon-HukRUT_g.js";import{S as z}from"./settings-BzjsOMzD.js";import{P as F}from"./index-ykZGv8WS.js";import"./index-DTlO3yFP.js";import{H as Q}from"./index-BBN6NKCS.js";import"./index-BKtDPDeF.js";import"./index-D6oGD9Zi.js";import{L as J}from"./index-B_6ALSKX.js";import"./index-82o3Ei6c.js";import"./index-DGt8TxmG.js";import"./index-ewbuceuk.js";import"./index-C83HJg6k.js";import{D as v}from"./index-DSzJp1Cl.js";import{S as _}from"./swords-D2KP604R.js";import{u as U}from"./useErrorModal-Cab9BzkM.js";import"./preload-helper-PPVm8Dsz.js";import"./index-CBACer3n.js";import"./Combination-CT6mbxoi.js";import"./index-CTzzCg8u.js";import"./index-CHYCHUyr.js";import"./x-Dmh88zpU.js";import"./chunk-JMJ3UQ3L-BajG3WJm.js";import"./index-Bfeyzlza.js";import"./check-Bys7S9O_.js";const K=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Y=f("chart-column",K);const Z=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],W=f("clipboard-list",Z);const X=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]],ee=f("clock-3",X);const te=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],oe=f("house",te),I=m.createContext(null);function k({value:e,children:n}){return o.jsx(I.Provider,{value:e,children:n})}function re(){const e=m.useContext(I);if(!e)throw new Error("GroupLayoutProvider ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚ã‚°ãƒ«ãƒ¼ãƒ—é…ä¸‹ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã§ãƒ©ãƒƒãƒ—ã—ã¦ãã ã•ã„ã€‚");return e}k.__docgenInfo={description:"",methods:[],displayName:"GroupLayoutProvider",props:{value:{required:!0,tsType:{name:"GroupLayoutValue"},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const ne=(e,n,r)=>{const t=`/groups/${e}`,a={groupName:n};return[{label:"ã‚°ãƒ«ãƒ¼ãƒ—",to:t,icon:oe,isActive:r===t,state:a},{label:"ãƒ¬ãƒãƒ¼ãƒˆ",to:`${t}/reports`,icon:Y,isActive:r===`${t}/reports`,state:a},{label:"å®¶äº‹",to:`${t}/chores`,icon:W,isActive:r===`${t}/chores`,state:a},{label:"è¨­å®š",to:`${t}/settings`,icon:z,isActive:r===`${t}/settings`,state:a}]},ae="_content_1us3c_1",se="_badge_1us3c_10",ie="_title_1us3c_20",ce="_description_1us3c_26",de="_groupId_1us3c_32",ue="_floatingAction_1us3c_39",u={content:ae,badge:se,title:ie,description:ce,groupId:de,floatingAction:ue},le="_form_1tqiv_1",me="_section_1tqiv_7",pe="_sectionHeader_1tqiv_13",he="_sectionIcon_1tqiv_22",c={form:le,section:me,sectionHeader:pe,sectionIcon:he},y=e=>`${String(e)}æ™‚`,w=e=>{const r=new Intl.DateTimeFormat("ja-JP",{timeZone:"Asia/Tokyo",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",hour12:!1}).formatToParts(e),t=a=>r.find(s=>s.type===a)?.value??"";return{year:t("year"),month:t("month"),day:t("day"),hour:t("hour")}},ge=Array.from({length:24},(e,n)=>{const r=y(n),t=y((n+1)%24),a=`${r}ã€œ${t}`;return{value:a,label:a}}),j=()=>{const e=new Date,n=w(e).hour,r=Number(n),t=Number.isNaN(r)?e.getHours():r,a=y(t),s=y((t+1)%24);return`${a}ã€œ${s}`},ye=e=>{const n=/^(\d{1,2})æ™‚ã€œ/.exec(e);if(!n)return null;const r=Number(n[1]);return Number.isNaN(r)||r<0||r>23?null:r};function P({open:e,onOpenChange:n,choreOptions:r,choresLoading:t=!1,isSubmitting:a=!1,onSubmit:s}){const[d,p]=m.useState(void 0),[i,h]=m.useState(j),$=!d||a,x=w(new Date),A=`æœ¬æ—¥ ${`${x.month}æœˆ${x.day}æ—¥`}ã®è¨Žä¼ã¨ã—ã¦è¨˜éŒ²ã•ã‚Œã¾ã™ï¼`,M=()=>{p(void 0),h(j())},b=l=>{l||M(),n(l)},S=async()=>{if(!d||a)return;const l=ye(i);if(l!==null)try{await s({choreId:Number(d),startHour:l}),b(!1)}catch{}};return o.jsx(Q,{open:e,onOpenChange:b,title:"å®¶äº‹ã‚’è¨Žä¼ã™ã‚‹",headerIcon:o.jsx(_,{size:20}),primaryActionLabel:"è¨Žä¼å®Œäº†",secondaryActionLabel:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«",primaryActionDisabled:$,onPrimaryAction:()=>{S()},onSecondaryAction:()=>{b(!1)},children:o.jsxs("div",{className:c.form,children:[o.jsxs("section",{className:c.section,"aria-labelledby":"chore-select-heading",children:[o.jsxs("div",{id:"chore-select-heading",className:c.sectionHeader,children:[o.jsx(_,{className:c.sectionIcon,"aria-hidden":!0}),o.jsx("span",{children:"è¨Žä¼ã™ã‚‹å®¶äº‹ã‚’é¸æŠž"})]}),o.jsx(v,{placeholder:"å®¶äº‹ã‚’é¸æŠžã—ã‚ˆã†ï¼",emptyMessage:t?o.jsx(J,{size:"md",ariaLabel:"å®¶äº‹ã‚’èª­ã¿è¾¼ã¿ä¸­"}):"è¨Žä¼ã™ã‚‹å®¶äº‹ãŒã‚ã‚Šã¾ã›ã‚“ã€ã€ï¼",options:r,value:d,onChange:p,disabled:t})]}),o.jsxs("section",{className:c.section,"aria-labelledby":"battle-time-heading",children:[o.jsxs("div",{id:"battle-time-heading",className:c.sectionHeader,children:[o.jsx(ee,{className:c.sectionIcon,"aria-hidden":!0}),o.jsx("span",{children:"è¨Žä¼æ™‚åˆ»"})]}),o.jsx(v,{options:ge,value:i,onChange:h,helperText:A,helperTextVariant:"notice"})]})]})})}P.__docgenInfo={description:"",methods:[],displayName:"ChoreBeatingModal",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},choreOptions:{required:!0,tsType:{name:"Array",elements:[{name:"DropdownOption"}],raw:"DropdownOption[]"},description:""},choresLoading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isSubmitting:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"(payload: { choreId: number; startHour: number }) => Promise<void>",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ choreId: number; startHour: number }",signature:{properties:[{key:"choreId",value:{name:"number",required:!0}},{key:"startHour",value:{name:"number",required:!0}}]}},name:"payload"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""}}};const fe=e=>["groups",e,"chores"],be=e=>{const n=e??"";return T({queryKey:fe(n),queryFn:()=>q({groupId:n}),enabled:!!e})},_e={"dish-wash":"ðŸ½ï¸",cleaning:"ðŸ§¹",laundry:"ðŸ‘•",cooking:"ðŸ³",trash:"ðŸ—‘ï¸",shopping:"ðŸ›’","bath-cleaning":"ðŸ›","toilet-cleaning":"ðŸš½"},xe=e=>_e[e],ve=e=>{const r=new Intl.DateTimeFormat("ja-JP",{timeZone:"Asia/Tokyo",year:"numeric",month:"2-digit",day:"2-digit"}).formatToParts(e),t=a=>r.find(s=>s.type===a)?.value??"";return{year:t("year"),month:t("month"),day:t("day")}},je=e=>{const{year:n,month:r,day:t}=ve(new Date),a=String(e).padStart(2,"0");return`${n}-${r}-${t}T${a}:00:00+09:00`},Ce=()=>{const{showError:e,closeError:n,getModalMessage:r}=U();return O({mutationFn:({groupId:t,choreId:a,startHour:s})=>D({groupId:t,chore_id:a,beated_at:je(s)}),onSuccess:()=>{n()},onError:t=>{const a=t instanceof E?t.status:void 0,s=t instanceof Error&&t.message?t.message:"è¨Žä¼è¨˜éŒ²ã®ä½œæˆã«å¤±æ•—ã—ã¾ã—ãŸ";e({title:"è¨Žä¼ã‚¨ãƒ©ãƒ¼",message:a?r(a):s})}})};function H(){const{groupId:e}=re(),[n,r]=m.useState(!1),{data:t,isLoading:a}=be(e),{mutateAsync:s,isPending:d}=Ce(),p=t?.map(i=>({value:String(i.id),label:i.name,icon:o.jsx("span",{"aria-hidden":!0,children:xe(i.icon_code)})}))??[];return o.jsxs(o.Fragment,{children:[o.jsx(P,{open:n,onOpenChange:r,choreOptions:p,choresLoading:a,isSubmitting:d,onSubmit:async({choreId:i,startHour:h})=>{e&&await s({groupId:e,choreId:i,startHour:h})}}),o.jsx(F,{align:"center",children:o.jsxs("section",{className:u.content,"aria-labelledby":"group-heading",children:[o.jsx("p",{className:u.badge,children:"ã‚°ãƒ«ãƒ¼ãƒ—"}),o.jsx("h1",{id:"group-heading",className:u.title,children:"to be continue..."}),o.jsx("p",{className:u.description,children:"ã‚°ãƒ«ãƒ¼ãƒ—ç”»é¢ã¯ç¾åœ¨æº–å‚™ä¸­ã§ã™ã€‚"}),e?o.jsxs("p",{className:u.groupId,children:["groupId: ",e]}):null]})}),o.jsx("button",{type:"button",className:u.floatingAction,"aria-label":"ãƒãƒˆãƒ«ã‚’é–‹ã","aria-haspopup":"dialog",onClick:()=>{r(!0)},children:o.jsx(_,{size:29})})]})}H.__docgenInfo={description:"",methods:[],displayName:"GroupHomePage"};const C="group-1",N="æ°¸äº•å®¶",Ne={id:"user-1",name:"å±±ç”° èŠ±å­",email:"hanako@example.com",image:null},Ie=[{id:1,name:"é£Ÿå™¨æ´—ã„",icon_code:"dish-wash"},{id:2,name:"æŽƒé™¤",icon_code:"cleaning"},{id:3,name:"æ´—æ¿¯",icon_code:"laundry"}],tt={component:H,parameters:{layout:"fullscreen",msw:{handlers:[G.get(/\/api\/groups\/[^/]+\/chores$/,()=>B.json(Ie))]}},decorators:[e=>{const n=new L({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});return o.jsx(R,{client:n,children:o.jsx(V,{children:o.jsx(k,{value:{groupId:C,groupName:N,navItems:ne(C,N),currentUser:Ne},children:o.jsx(e,{})})})})}]},g={};g.parameters={...g.parameters,docs:{...g.parameters?.docs,source:{originalSource:"{}",...g.parameters?.docs?.source}}};const ot=["Default"];export{g as Default,ot as __namedExportsOrder,tt as default};
