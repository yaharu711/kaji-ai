import{j as o}from"./jsx-runtime-u17CrQMm.js";import{u as A,f as q,a as T,c as O,A as E,h as G,Q as L,b as D,H as R}from"./index-Boo-bndP.js";import{E as B}from"./index-fmVUnu3b.js";import{r as m}from"./iframe-u6rw6Bkk.js";import{c as f}from"./createLucideIcon-BbzS6VRX.js";import{S as z}from"./settings-gcoSJccO.js";import{P as F}from"./index-ykZGv8WS.js";import"./index-CkM8gIeU.js";import{H as Q}from"./index-o6SrxZ_l.js";import"./index-BKtDPDeF.js";import"./index-B3X3rQaC.js";import{L as V}from"./index-C1flLQ6c.js";import"./index-algMuAMH.js";import"./index-D8PdWrbM.js";import"./index-BaoDY_XI.js";import"./index-BiENZgEw.js";import{D as v}from"./index-B8GhJUIF.js";import{S as _}from"./swords-D0Il_OJr.js";import{u as J}from"./useErrorModal-CvGo3GVX.js";import"./preload-helper-PPVm8Dsz.js";import"./index-DdlVoPAk.js";import"./Combination-9Tl_Adtx.js";import"./index-CkuxJU7f.js";import"./index-CzUhUOfi.js";import"./x-P5rjqo9u.js";import"./chunk-JMJ3UQ3L-BBl8_6jH.js";import"./index-Bj9x9D6V.js";import"./check-g4o3PfoL.js";const U=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],K=f("chart-column",U);const Y=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Z=f("clipboard-list",Y);const W=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]],X=f("clock-3",W);const ee=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],te=f("house",ee),I=m.createContext(null);function k({value:e,children:n}){return o.jsx(I.Provider,{value:e,children:n})}function oe(){const e=m.useContext(I);if(!e)throw new Error("GroupLayoutProvider ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚ã‚°ãƒ«ãƒ¼ãƒ—é…ä¸‹ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã§ãƒ©ãƒƒãƒ—ã—ã¦ãã ã•ã„ã€‚");return e}k.__docgenInfo={description:"",methods:[],displayName:"GroupLayoutProvider",props:{value:{required:!0,tsType:{name:"GroupLayoutValue"},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}};const re=(e,n,r)=>{const t=`/groups/${e}`,a={groupName:n};return[{label:"ã‚°ãƒ«ãƒ¼ãƒ—",to:t,icon:te,isActive:r===t,state:a},{label:"ãƒ¬ãƒãƒ¼ãƒˆ",to:`${t}/reports`,icon:K,isActive:r===`${t}/reports`,state:a},{label:"å®¶äº‹",to:`${t}/chores`,icon:Z,isActive:r===`${t}/chores`,state:a},{label:"è¨­å®š",to:`${t}/settings`,icon:z,isActive:r===`${t}/settings`,state:a}]},ne="_content_1us3c_1",ae="_badge_1us3c_10",se="_title_1us3c_20",ie="_description_1us3c_26",ce="_groupId_1us3c_32",de="_floatingAction_1us3c_39",d={content:ne,badge:ae,title:se,description:ie,groupId:ce,floatingAction:de},ue="_form_1tqiv_1",le="_section_1tqiv_7",me="_sectionHeader_1tqiv_13",pe="_sectionIcon_1tqiv_22",c={form:ue,section:le,sectionHeader:me,sectionIcon:pe},y=e=>`${String(e)}æ™‚`,w=e=>{const r=new Intl.DateTimeFormat("ja-JP",{timeZone:"Asia/Tokyo",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",hour12:!1}).formatToParts(e),t=a=>r.find(s=>s.type===a)?.value??"";return{year:t("year"),month:t("month"),day:t("day"),hour:t("hour")}},he=Array.from({length:24},(e,n)=>{const r=y(n),t=y((n+1)%24),a=`${r}ã€œ${t}`;return{value:a,label:a}}),j=()=>{const e=new Date,n=w(e).hour,r=Number(n),t=Number.isNaN(r)?e.getHours():r,a=y(t),s=y((t+1)%24);return`${a}ã€œ${s}`},ge=e=>{const n=/^(\d{1,2})æ™‚ã€œ/.exec(e);if(!n)return null;const r=Number(n[1]);return Number.isNaN(r)||r<0||r>23?null:r};function P({open:e,onOpenChange:n,choreOptions:r,choresLoading:t=!1,isSubmitting:a=!1,onSubmit:s}){const[u,p]=m.useState(void 0),[i,h]=m.useState(j),x=w(new Date),H=`${x.month}æœˆ${x.day}æ—¥`,S=()=>{p(void 0),h(j())},b=l=>{l||S(),n(l)},M=async()=>{if(!u||a)return;const l=ge(i);if(l!==null)try{await s({choreId:Number(u),startHour:l}),b(!1)}catch{}};return o.jsx(Q,{open:e,onOpenChange:b,title:"å®¶äº‹ã‚’è¨Žä¼ã™ã‚‹",headerIcon:o.jsx(_,{size:20}),primaryActionLabel:"è¨Žä¼å®Œäº†",secondaryActionLabel:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«",onPrimaryAction:()=>{M()},onSecondaryAction:()=>{b(!1)},children:o.jsxs("div",{className:c.form,children:[o.jsxs("section",{className:c.section,"aria-labelledby":"chore-select-heading",children:[o.jsxs("div",{id:"chore-select-heading",className:c.sectionHeader,children:[o.jsx(_,{className:c.sectionIcon,"aria-hidden":!0}),o.jsx("span",{children:"è¨Žä¼ã™ã‚‹å®¶äº‹ã‚’é¸æŠž"})]}),o.jsx(v,{placeholder:"å®¶äº‹ã‚’é¸æŠžã—ã‚ˆã†ï¼",emptyMessage:t?o.jsx(V,{size:"md",ariaLabel:"å®¶äº‹ã‚’èª­ã¿è¾¼ã¿ä¸­"}):"è¨Žä¼ã™ã‚‹å®¶äº‹ãŒã‚ã‚Šã¾ã›ã‚“ã€ã€ï¼",options:r,value:u,onChange:p,disabled:t})]}),o.jsxs("section",{className:c.section,"aria-labelledby":"battle-time-heading",children:[o.jsxs("div",{id:"battle-time-heading",className:c.sectionHeader,children:[o.jsx(X,{className:c.sectionIcon,"aria-hidden":!0}),o.jsx("span",{children:"è¨Žä¼æ™‚åˆ»"})]}),o.jsx(v,{options:he,value:i,onChange:h,helperText:`æœ¬æ—¥ ${H}ã®è¨Žä¼ã¨ã—ã¦è¨˜éŒ²ã•ã‚Œã¾ã™ï¼`})]})]})})}P.__docgenInfo={description:"",methods:[],displayName:"ChoreBeatingModal",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},choreOptions:{required:!0,tsType:{name:"Array",elements:[{name:"DropdownOption"}],raw:"DropdownOption[]"},description:""},choresLoading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},isSubmitting:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"(payload: { choreId: number; startHour: number }) => Promise<void>",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ choreId: number; startHour: number }",signature:{properties:[{key:"choreId",value:{name:"number",required:!0}},{key:"startHour",value:{name:"number",required:!0}}]}},name:"payload"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""}}};const ye=e=>["groups",e,"chores"],fe=e=>{const n=e??"";return A({queryKey:ye(n),queryFn:()=>q({groupId:n}),enabled:!!e})},be={"dish-wash":"ðŸ½ï¸",cleaning:"ðŸ§¹",laundry:"ðŸ‘•",cooking:"ðŸ³",trash:"ðŸ—‘ï¸",shopping:"ðŸ›’","bath-cleaning":"ðŸ›","toilet-cleaning":"ðŸš½"},_e=e=>be[e],xe=e=>{const r=new Intl.DateTimeFormat("ja-JP",{timeZone:"Asia/Tokyo",year:"numeric",month:"2-digit",day:"2-digit"}).formatToParts(e),t=a=>r.find(s=>s.type===a)?.value??"";return{year:t("year"),month:t("month"),day:t("day")}},ve=e=>{const{year:n,month:r,day:t}=xe(new Date),a=String(e).padStart(2,"0");return`${n}-${r}-${t}T${a}:00:00+09:00`},je=()=>{const{showError:e,closeError:n,getModalMessage:r}=J();return T({mutationFn:({groupId:t,choreId:a,startHour:s})=>O({groupId:t,chore_id:a,beated_at:ve(s)}),onSuccess:()=>{n()},onError:t=>{const a=t instanceof E?t.status:void 0,s=t instanceof Error&&t.message?t.message:"è¨Žä¼è¨˜éŒ²ã®ä½œæˆã«å¤±æ•—ã—ã¾ã—ãŸ";e({title:"è¨Žä¼ã‚¨ãƒ©ãƒ¼",message:a?r(a):s})}})};function $(){const{groupId:e}=oe(),[n,r]=m.useState(!1),{data:t,isLoading:a}=fe(e),{mutateAsync:s,isPending:u}=je(),p=t?.map(i=>({value:String(i.id),label:i.name,icon:o.jsx("span",{"aria-hidden":!0,children:_e(i.icon_code)})}))??[];return o.jsxs(o.Fragment,{children:[o.jsx(P,{open:n,onOpenChange:r,choreOptions:p,choresLoading:a,isSubmitting:u,onSubmit:async({choreId:i,startHour:h})=>{e&&await s({groupId:e,choreId:i,startHour:h})}}),o.jsx(F,{align:"center",children:o.jsxs("section",{className:d.content,"aria-labelledby":"group-heading",children:[o.jsx("p",{className:d.badge,children:"ã‚°ãƒ«ãƒ¼ãƒ—"}),o.jsx("h1",{id:"group-heading",className:d.title,children:"to be continue..."}),o.jsx("p",{className:d.description,children:"ã‚°ãƒ«ãƒ¼ãƒ—ç”»é¢ã¯ç¾åœ¨æº–å‚™ä¸­ã§ã™ã€‚"}),e?o.jsxs("p",{className:d.groupId,children:["groupId: ",e]}):null]})}),o.jsx("button",{type:"button",className:d.floatingAction,"aria-label":"ãƒãƒˆãƒ«ã‚’é–‹ã","aria-haspopup":"dialog",onClick:()=>{r(!0)},children:o.jsx(_,{size:29})})]})}$.__docgenInfo={description:"",methods:[],displayName:"GroupHomePage"};const C="group-1",N="æ°¸äº•å®¶",Ce={id:"user-1",name:"å±±ç”° èŠ±å­",email:"hanako@example.com",image:null},Ne=[{id:1,name:"é£Ÿå™¨æ´—ã„",icon_code:"dish-wash"},{id:2,name:"æŽƒé™¤",icon_code:"cleaning"},{id:3,name:"æ´—æ¿¯",icon_code:"laundry"}],Xe={component:$,parameters:{layout:"fullscreen",msw:{handlers:[G.get(/\/api\/groups\/[^/]+\/chores$/,()=>R.json(Ne))]}},decorators:[e=>{const n=new L({defaultOptions:{queries:{refetchOnWindowFocus:!1}}});return o.jsx(D,{client:n,children:o.jsx(B,{children:o.jsx(k,{value:{groupId:C,groupName:N,navItems:re(C,N),currentUser:Ce},children:o.jsx(e,{})})})})}]},g={};g.parameters={...g.parameters,docs:{...g.parameters?.docs,source:{originalSource:"{}",...g.parameters?.docs?.source}}};const et=["Default"];export{g as Default,et as __namedExportsOrder,Xe as default};
