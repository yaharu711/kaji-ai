import{j as e}from"./jsx-runtime-u17CrQMm.js";import{P}from"./index-bfnCY7yr.js";import{L as b,N as M}from"./chunk-JMJ3UQ3L-BcU-j9sG.js";import{c as p}from"./createLucideIcon-B6qCSH5Y.js";const g=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],N=p("crown",g);const x=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],h=p("user",x);const j=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],y=p("users",j),f="_actionLink_jcm60_1",w={actionLink:f};function u({to:t,icon:o,pageName:n}){return e.jsxs(b,{to:t,className:w.actionLink,children:[o,`${n}に移動`]})}u.__docgenInfo={description:"",methods:[],displayName:"ActionLink",props:{to:{required:!0,tsType:{name:"string"},description:""},icon:{required:!1,tsType:{name:"ReactNode"},description:""},pageName:{required:!0,tsType:{name:"string"},description:""}}};const T="_userPopoverContent_r3g9t_1",k="_userPopoverProfile_r3g9t_6",S="_userPopoverProfileMain_r3g9t_20",A="_userPopoverAvatar_r3g9t_26",I="_userPopoverText_r3g9t_46",L="_userPopoverName_r3g9t_52",R="_userPopoverStatus_r3g9t_59",C="_userPopoverStatusDot_r3g9t_67",H="_userPopoverBody_r3g9t_75",q="_userPopoverSection_r3g9t_79",$="_userPopoverMembers_r3g9t_86",B="_userPopoverMember_r3g9t_86",D="_userPopoverMemberAvatar_r3g9t_104",z="_memberTonePink_r3g9t_123",O="_userPopoverMemberInfo_r3g9t_135",G="_userPopoverMemberHeading_r3g9t_141",W="_userPopoverMemberName_r3g9t_147",U="_userPopoverMemberRole_r3g9t_152",E="_userPopoverMemberStatus_r3g9t_158",F="_userPopoverMemberStatusDot_r3g9t_166",J="_userPopoverMemberOwner_r3g9t_174",K="_userPopoverMemberCrown_r3g9t_186",r={userPopoverContent:T,userPopoverProfile:k,userPopoverProfileMain:S,userPopoverAvatar:A,userPopoverText:I,userPopoverName:L,userPopoverStatus:R,userPopoverStatusDot:C,userPopoverBody:H,userPopoverSection:q,userPopoverMembers:$,userPopoverMember:B,userPopoverMemberAvatar:D,memberTonePink:z,userPopoverMemberInfo:O,userPopoverMemberHeading:G,userPopoverMemberName:W,userPopoverMemberRole:U,userPopoverMemberStatus:E,userPopoverMemberStatusDot:F,userPopoverMemberOwner:J,userPopoverMemberCrown:K},m=t=>t?.trim().charAt(0)??"?";function v({groupName:t,currentUser:o,members:n}){return e.jsxs("div",{className:r.userPopoverContent,children:[e.jsxs("div",{className:r.userPopoverProfile,children:[e.jsxs("div",{className:r.userPopoverProfileMain,children:[e.jsx("div",{className:r.userPopoverAvatar,children:o.image?e.jsx("img",{src:o.image,alt:`${o.name??""}のアイコン`}):m(o.name)}),e.jsxs("div",{className:r.userPopoverText,children:[e.jsx("p",{className:r.userPopoverName,children:o.name??"未設定"}),e.jsxs("div",{className:r.userPopoverStatus,children:[e.jsx("span",{className:r.userPopoverStatusDot}),"ログイン中"]})]})]}),o.id?e.jsx(u,{to:`/users/${o.id}`,icon:e.jsx(h,{size:18}),pageName:"ダッシュボード"}):null]}),e.jsxs("div",{className:r.userPopoverBody,children:[e.jsx("p",{className:r.userPopoverSection,children:`${t}のメンバー`}),e.jsx("ul",{className:r.userPopoverMembers,children:n.map(s=>{const i=s.is_owner;return e.jsxs("li",{className:[r.userPopoverMember,i?r.userPopoverMemberOwner:""].filter(Boolean).join(" "),children:[e.jsxs("span",{className:[r.userPopoverMemberAvatar,r.memberTonePink].filter(Boolean).join(" "),children:[s.image_url?e.jsx("img",{src:s.image_url,alt:`${s.name??""}のアイコン`}):m(s.name),i?e.jsx("span",{className:r.userPopoverMemberCrown,"aria-hidden":"true",children:e.jsx(N,{size:12})}):null]}),e.jsxs("div",{className:r.userPopoverMemberInfo,children:[e.jsxs("div",{className:r.userPopoverMemberHeading,children:[e.jsx("span",{className:r.userPopoverMemberName,children:s.name??"未設定"}),i?e.jsx("span",{className:r.userPopoverMemberRole,children:"オーナー"}):null]}),s.is_invited?e.jsxs("div",{className:r.userPopoverMemberStatus,children:[e.jsx("span",{className:r.userPopoverMemberStatusDot}),"招待中"]}):null]})]},s.id)})})]})]})}v.__docgenInfo={description:"",methods:[],displayName:"UserPopoverContent",props:{groupName:{required:!0,tsType:{name:"string"},description:""},currentUser:{required:!0,tsType:{name:"AppSessionUser"},description:""},members:{required:!0,tsType:{name:"Array",elements:[{name:"GroupMember"}],raw:"GroupMember[]"},description:""}}};const Q="_header_19a4c_1",V="_topRow_19a4c_11",X="_brand_19a4c_18",Y="_brandText_19a4c_24",Z="_iconWrap_19a4c_31",ee="_appName_19a4c_48",re="_userTrigger_19a4c_66",oe="_bottomRow_19a4c_93",se="_nav_19a4c_102",ae="_navItem_19a4c_122",te="_navItemActive_19a4c_141",a={header:Q,topRow:V,brand:X,brandText:Y,iconWrap:Z,appName:ee,userTrigger:re,bottomRow:oe,nav:se,navItem:ae,navItemActive:te};function ne({navItems:t,groupName:o,currentUser:n,members:s}){const i=o&&n&&s&&s.length>0?e.jsx(v,{groupName:o,currentUser:n,members:s}):null,d=!!i;return e.jsxs("header",{className:a.header,children:[e.jsxs("div",{className:a.topRow,children:[e.jsxs("div",{className:a.brand,children:[e.jsx("span",{className:a.iconWrap,children:e.jsx("img",{src:"https://kaji-ai.s3.ap-northeast-1.amazonaws.com/favicon.svg",alt:"アプリのアイコン"})}),e.jsx("div",{className:a.brandText,children:e.jsx("span",{className:a.appName,children:"カジアイ"})})]}),e.jsx(P,{trigger:e.jsx("button",{type:"button",className:a.userTrigger,"aria-label":"ユーザー情報を開く",disabled:!d,children:e.jsx(y,{size:18})}),ariaLabel:"ユーザー情報",content:i,size:"md",radius:"xl",variant:"soft",side:"bottom",align:"end"})]}),e.jsx("div",{className:a.bottomRow,children:e.jsx("nav",{className:a.nav,"aria-label":"ページナビゲーション",children:t.map(c=>{const l=c.icon;return e.jsxs(M,{to:c.to,className:({isActive:_})=>[a.navItem,c.isActive??_?a.navItemActive:""].filter(Boolean).join(" "),children:[e.jsx(l,{size:17}),c.label]},c.to)})})})]})}ne.__docgenInfo={description:"",methods:[],displayName:"Header",props:{navItems:{required:!0,tsType:{name:"Array",elements:[{name:"HeaderNavItem"}],raw:"HeaderNavItem[]"},description:""},groupName:{required:!1,tsType:{name:"string"},description:""},currentUser:{required:!1,tsType:{name:"AppSessionUser"},description:""},members:{required:!1,tsType:{name:"Array",elements:[{name:"GroupMember"}],raw:"GroupMember[]"},description:""}}};export{ne as H};
