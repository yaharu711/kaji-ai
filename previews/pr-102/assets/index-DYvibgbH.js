import{j as P}from"./jsx-runtime-u17CrQMm.js";import{T as vt,D as yt,C as bt,R as St,P as Tt,O as Rt,a as Et}from"./index-BYjVP3_d.js";import{b as r,r as ye}from"./iframe-Bbt4Wxma.js";import{B as Ue}from"./index-BKtDPDeF.js";import{L as Dt}from"./index-CDZgd6w4.js";import{X as _t}from"./x-bvU88YLp.js";function xt(e){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",n.appendChild(t),t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}const Ye=r.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),me=()=>{const e=r.useContext(Ye);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};xt(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function Ct(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function Ot(){return Ae(/^Mac/)}function Mt(){return Ae(/^iPhone/)}function Fe(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function At(){return Ae(/^iPad/)||Ot()&&navigator.maxTouchPoints>1}function Xe(){return Mt()||At()}function Ae(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const $t=24,kt=typeof window<"u"?ye.useLayoutEffect:ye.useEffect;function We(...e){return(...n)=>{for(let t of e)typeof t=="function"&&t(...n)}}const De=typeof document<"u"&&window.visualViewport;function Ve(e){let n=window.getComputedStyle(e);return/(auto|scroll)/.test(n.overflow+n.overflowX+n.overflowY)}function Ge(e){for(Ve(e)&&(e=e.parentElement);e&&!Ve(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const Pt=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let we=0,_e;function It(e={}){let{isDisabled:n}=e;kt(()=>{if(!n)return we++,we===1&&Xe()&&(_e=Lt()),()=>{we--,we===0&&_e?.()}},[n])}function Lt(){let e,n=0,t=f=>{e=Ge(f.target),!(e===document.documentElement&&e===document.body)&&(n=f.changedTouches[0].pageY)},a=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let m=f.changedTouches[0].pageY,H=e.scrollTop,I=e.scrollHeight-e.clientHeight;I!==0&&((H<=0&&m>n||H>=I&&m<n)&&f.preventDefault(),n=m)},i=f=>{let m=f.target;Oe(m)&&m!==document.activeElement&&(f.preventDefault(),m.style.transform="translateY(-2000px)",m.focus(),requestAnimationFrame(()=>{m.style.transform=""}))},o=f=>{let m=f.target;Oe(m)&&(m.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{m.style.transform="",De&&(De.height<window.innerHeight?requestAnimationFrame(()=>{qe(m)}):De.addEventListener("resize",()=>qe(m),{once:!0}))}))},w=()=>{window.scrollTo(0,0)},h=window.pageXOffset,R=window.pageYOffset,S=We(Nt(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let g=We(de(document,"touchstart",t,{passive:!1,capture:!0}),de(document,"touchmove",a,{passive:!1,capture:!0}),de(document,"touchend",i,{passive:!1,capture:!0}),de(document,"focus",o,!0),de(window,"scroll",w));return()=>{S(),g(),window.scrollTo(h,R)}}function Nt(e,n,t){let a=e.style[n];return e.style[n]=t,()=>{e.style[n]=a}}function de(e,n,t,a){return e.addEventListener(n,t,a),()=>{e.removeEventListener(n,t,a)}}function qe(e){let n=document.scrollingElement||document.documentElement;for(;e&&e!==n;){let t=Ge(e);if(t!==document.documentElement&&t!==document.body&&t!==e){let a=t.getBoundingClientRect().top,i=e.getBoundingClientRect().top,o=e.getBoundingClientRect().bottom;const w=t.getBoundingClientRect().bottom+$t;o>w&&(t.scrollTop+=i-a)}e=t.parentElement}}function Oe(e){return e instanceof HTMLInputElement&&!Pt.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function Ht(e,n){typeof e=="function"?e(n):e!=null&&(e.current=n)}function Bt(...e){return n=>e.forEach(t=>Ht(t,n))}function Ke(...e){return ye.useCallback(Bt(...e),e)}const Ze=new WeakMap;function A(e,n,t=!1){if(!e||!(e instanceof HTMLElement))return;let a={};Object.entries(n).forEach(([i,o])=>{if(i.startsWith("--")){e.style.setProperty(i,o);return}a[i]=e.style[i],e.style[i]=o}),!t&&Ze.set(e,a)}function zt(e,n){if(!e||!(e instanceof HTMLElement))return;let t=Ze.get(e);t&&(e.style[n]=t[n])}const C=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function ve(e,n){if(!e)return null;const t=window.getComputedStyle(e),a=t.transform||t.webkitTransform||t.mozTransform;let i=a.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[C(n)?13:12]):(i=a.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[C(n)?5:4]):null)}function jt(e){return 8*(Math.log(e+1)-2)}function xe(e,n){if(!e)return()=>{};const t=e.style.cssText;return Object.assign(e.style,n),()=>{e.style.cssText=t}}function Ut(...e){return(...n)=>{for(const t of e)typeof t=="function"&&t(...n)}}const _={DURATION:.5,EASE:[.32,.72,0,1]},Je=.4,Ft=.25,Wt=100,Qe=8,te=16,Me=26,Ce="vaul-dragging";function et(e){const n=r.useRef(e);return r.useEffect(()=>{n.current=e}),r.useMemo(()=>(...t)=>n.current==null?void 0:n.current.call(n,...t),[])}function Vt({defaultProp:e,onChange:n}){const t=r.useState(e),[a]=t,i=r.useRef(a),o=et(n);return r.useEffect(()=>{i.current!==a&&(o(a),i.current=a)},[a,i,o]),t}function tt({prop:e,defaultProp:n,onChange:t=()=>{}}){const[a,i]=Vt({defaultProp:n,onChange:t}),o=e!==void 0,w=o?e:a,h=et(t),R=r.useCallback(S=>{if(o){const f=typeof S=="function"?S(e):S;f!==e&&h(f)}else i(S)},[o,e,i,h]);return[w,R]}function qt({activeSnapPointProp:e,setActiveSnapPointProp:n,snapPoints:t,drawerRef:a,overlayRef:i,fadeFromIndex:o,onSnapPointChange:w,direction:h="bottom",container:R,snapToSequentialPoint:S}){const[g,f]=tt({prop:e,defaultProp:t?.[0],onChange:n}),[m,H]=r.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);r.useEffect(()=>{function u(){H({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]);const I=r.useMemo(()=>g===t?.[t.length-1]||null,[t,g]),D=r.useMemo(()=>{var u;return(u=t?.findIndex(b=>b===g))!=null?u:null},[t,g]),B=t&&t.length>0&&(o||o===0)&&!Number.isNaN(o)&&t[o]===g||!t,p=r.useMemo(()=>{const u=R?{width:R.getBoundingClientRect().width,height:R.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var b;return(b=t?.map(v=>{const k=typeof v=="string";let L=0;if(k&&(L=parseInt(v,10)),C(h)){const l=k?L:m?v*u.height:0;return m?h==="bottom"?u.height-l:-u.height+l:l}const V=k?L:m?v*u.width:0;return m?h==="right"?u.width-V:-u.width+V:V}))!=null?b:[]},[t,m,R]),$=r.useMemo(()=>D!==null?p?.[D]:null,[p,D]),M=r.useCallback(u=>{var b;const v=(b=p?.findIndex(k=>k===u))!=null?b:null;w(v),A(a.current,{transition:`transform ${_.DURATION}s cubic-bezier(${_.EASE.join(",")})`,transform:C(h)?`translate3d(0, ${u}px, 0)`:`translate3d(${u}px, 0, 0)`}),p&&v!==p.length-1&&o!==void 0&&v!==o&&v<o?A(i.current,{transition:`opacity ${_.DURATION}s cubic-bezier(${_.EASE.join(",")})`,opacity:"0"}):A(i.current,{transition:`opacity ${_.DURATION}s cubic-bezier(${_.EASE.join(",")})`,opacity:"1"}),f(t?.[Math.max(v,0)])},[a.current,t,p,o,i,f]);r.useEffect(()=>{if(g||e){var u;const b=(u=t?.findIndex(v=>v===e||v===g))!=null?u:-1;p&&b!==-1&&typeof p[b]=="number"&&M(p[b])}},[g,e,t,p,M]);function c({draggedDistance:u,closeDrawer:b,velocity:v,dismissible:k}){if(o===void 0)return;const L=h==="bottom"||h==="right"?($??0)-u:($??0)+u,V=D===o-1,l=D===0,F=u>0;if(V&&A(i.current,{transition:`opacity ${_.DURATION}s cubic-bezier(${_.EASE.join(",")})`}),!S&&v>2&&!F){k?b():M(p[0]);return}if(!S&&v>2&&F&&p&&t){M(p[t.length-1]);return}const z=p?.reduce((N,K)=>typeof N!="number"||typeof K!="number"?N:Math.abs(K-L)<Math.abs(N-L)?K:N),q=C(h)?window.innerHeight:window.innerWidth;if(v>Je&&Math.abs(u)<q*.4){const N=F?1:-1;if(N>0&&I&&t){M(p[t.length-1]);return}if(l&&N<0&&k&&b(),D===null)return;M(p[D+N]);return}M(z)}function W({draggedDistance:u}){if($===null)return;const b=h==="bottom"||h==="right"?$-u:$+u;(h==="bottom"||h==="right")&&b<p[p.length-1]||(h==="top"||h==="left")&&b>p[p.length-1]||A(a.current,{transform:C(h)?`translate3d(0, ${b}px, 0)`:`translate3d(${b}px, 0, 0)`})}function G(u,b){if(!t||typeof D!="number"||!p||o===void 0)return null;const v=D===o-1;if(D>=o&&b)return 0;if(v&&!b)return 1;if(!B&&!v)return null;const L=v?D+1:D-1,V=v?p[L]-p[L-1]:p[L+1]-p[L],l=u/Math.abs(V);return v?1-l:l}return{isLastSnapPoint:I,activeSnapPoint:g,shouldFade:B,getPercentageDragged:G,setActiveSnapPoint:f,activeSnapPointIndex:D,onRelease:c,onDrag:W,snapPointsOffset:p}}const Yt=()=>()=>{};function Xt(){const{direction:e,isOpen:n,shouldScaleBackground:t,setBackgroundColorOnScale:a,noBodyStyles:i}=me(),o=r.useRef(null),w=ye.useMemo(()=>document.body.style.backgroundColor,[]);function h(){return(window.innerWidth-Me)/window.innerWidth}r.useEffect(()=>{if(n&&t){o.current&&clearTimeout(o.current);const R=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!R)return;Ut(a&&!i?xe(document.body,{background:"black"}):Yt,xe(R,{transformOrigin:C(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${_.DURATION}s`,transitionTimingFunction:`cubic-bezier(${_.EASE.join(",")})`}));const S=xe(R,{borderRadius:`${Qe}px`,overflow:"hidden",...C(e)?{transform:`scale(${h()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${h()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{S(),o.current=window.setTimeout(()=>{w?document.body.style.background=w:document.body.style.removeProperty("background")},_.DURATION*1e3)}}},[n,t,w])}let fe=null;function Gt({isOpen:e,modal:n,nested:t,hasBeenOpened:a,preventScrollRestoration:i,noBodyStyles:o}){const[w,h]=r.useState(()=>typeof window<"u"?window.location.href:""),R=r.useRef(0),S=r.useCallback(()=>{if(Fe()&&fe===null&&e&&!o){fe={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:m}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-R.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const H=m-window.innerHeight;H&&R.current>=m&&(document.body.style.top=`${-(R.current+H)}px`)}),300)}},[e]),g=r.useCallback(()=>{if(Fe()&&fe!==null&&!o){const f=-parseInt(document.body.style.top,10),m=-parseInt(document.body.style.left,10);Object.assign(document.body.style,fe),window.requestAnimationFrame(()=>{if(i&&w!==window.location.href){h(window.location.href);return}window.scrollTo(m,f)}),fe=null}},[w]);return r.useEffect(()=>{function f(){R.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),r.useEffect(()=>{if(n)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||g()}},[n,g]),r.useEffect(()=>{t||!a||(e?(!window.matchMedia("(display-mode: standalone)").matches&&S(),n||window.setTimeout(()=>{g()},500)):g())},[e,a,w,n,t,S,g]),{restorePositionSetting:g}}function Kt({open:e,onOpenChange:n,children:t,onDrag:a,onRelease:i,snapPoints:o,shouldScaleBackground:w=!1,setBackgroundColorOnScale:h=!0,closeThreshold:R=Ft,scrollLockTimeout:S=Wt,dismissible:g=!0,handleOnly:f=!1,fadeFromIndex:m=o&&o.length-1,activeSnapPoint:H,setActiveSnapPoint:I,fixed:D,modal:B=!0,onClose:p,nested:$,noBodyStyles:M=!1,direction:c="bottom",defaultOpen:W=!1,disablePreventScroll:G=!0,snapToSequentialPoint:u=!1,preventScrollRestoration:b=!1,repositionInputs:v=!0,onAnimationEnd:k,container:L,autoFocus:V=!1}){var l,F;const[z=!1,q]=tt({defaultProp:W,prop:e,onChange:s=>{n?.(s),!s&&!$&&ct(),setTimeout(()=>{k?.(s)},_.DURATION*1e3),s&&!B&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),s||(document.body.style.pointerEvents="auto")}}),[N,K]=r.useState(!1),[Z,ie]=r.useState(!1),[at,$e]=r.useState(!1),re=r.useRef(null),pe=r.useRef(null),be=r.useRef(null),Se=r.useRef(null),se=r.useRef(null),le=r.useRef(!1),Te=r.useRef(null),Re=r.useRef(0),ae=r.useRef(!1),ke=r.useRef(!W),Pe=r.useRef(0),d=r.useRef(null),Ie=r.useRef(((l=d.current)==null?void 0:l.getBoundingClientRect().height)||0),Le=r.useRef(((F=d.current)==null?void 0:F.getBoundingClientRect().width)||0),Ee=r.useRef(0),ot=r.useCallback(s=>{o&&s===ue.length-1&&(pe.current=new Date)},[]),{activeSnapPoint:it,activeSnapPointIndex:oe,setActiveSnapPoint:Ne,onRelease:st,snapPointsOffset:ue,onDrag:lt,shouldFade:He,getPercentageDragged:ut}=qt({snapPoints:o,activeSnapPointProp:H,setActiveSnapPointProp:I,drawerRef:d,fadeFromIndex:m,overlayRef:re,onSnapPointChange:ot,direction:c,container:L,snapToSequentialPoint:u});It({isDisabled:!z||Z||!B||at||!N||!v||!G});const{restorePositionSetting:ct}=Gt({isOpen:z,modal:B,nested:$??!1,hasBeenOpened:N,preventScrollRestoration:b,noBodyStyles:M});function he(){return(window.innerWidth-Me)/window.innerWidth}function dt(s){var T,E;!g&&!o||d.current&&!d.current.contains(s.target)||(Ie.current=((T=d.current)==null?void 0:T.getBoundingClientRect().height)||0,Le.current=((E=d.current)==null?void 0:E.getBoundingClientRect().width)||0,ie(!0),be.current=new Date,Xe()&&window.addEventListener("touchend",()=>le.current=!1,{once:!0}),s.target.setPointerCapture(s.pointerId),Re.current=C(c)?s.pageY:s.pageX)}function Be(s,T){var E;let y=s;const x=(E=window.getSelection())==null?void 0:E.toString(),U=d.current?ve(d.current,c):null,j=new Date;if(y.tagName==="SELECT"||y.hasAttribute("data-vaul-no-drag")||y.closest("[data-vaul-no-drag]"))return!1;if(c==="right"||c==="left")return!0;if(pe.current&&j.getTime()-pe.current.getTime()<500)return!1;if(U!==null&&(c==="bottom"?U>0:U<0))return!0;if(x&&x.length>0)return!1;if(se.current&&j.getTime()-se.current.getTime()<S&&U===0||T)return se.current=j,!1;for(;y;){if(y.scrollHeight>y.clientHeight){if(y.scrollTop!==0)return se.current=new Date,!1;if(y.getAttribute("role")==="dialog")return!0}y=y.parentNode}return!0}function ft(s){if(d.current&&Z){const T=c==="bottom"||c==="right"?1:-1,E=(Re.current-(C(c)?s.pageY:s.pageX))*T,y=E>0,x=o&&!g&&!y;if(x&&oe===0)return;const U=Math.abs(E),j=document.querySelector("[data-vaul-drawer-wrapper]"),J=c==="bottom"||c==="top"?Ie.current:Le.current;let Y=U/J;const ee=ut(U,y);if(ee!==null&&(Y=ee),x&&Y>=1||!le.current&&!Be(s.target,y))return;if(d.current.classList.add(Ce),le.current=!0,A(d.current,{transition:"none"}),A(re.current,{transition:"none"}),o&&lt({draggedDistance:E}),y&&!o){const X=jt(E),ge=Math.min(X*-1,0)*T;A(d.current,{transform:C(c)?`translate3d(0, ${ge}px, 0)`:`translate3d(${ge}px, 0, 0)`});return}const Q=1-Y;if((He||m&&oe===m-1)&&(a?.(s,Y),A(re.current,{opacity:`${Q}`,transition:"none"},!0)),j&&re.current&&w){const X=Math.min(he()+Y*(1-he()),1),ge=8-Y*8,je=Math.max(0,14-Y*14);A(j,{borderRadius:`${ge}px`,transform:C(c)?`scale(${X}) translate3d(0, ${je}px, 0)`:`scale(${X}) translate3d(${je}px, 0, 0)`,transition:"none"},!0)}if(!o){const X=U*T;A(d.current,{transform:C(c)?`translate3d(0, ${X}px, 0)`:`translate3d(${X}px, 0, 0)`})}}}r.useEffect(()=>{window.requestAnimationFrame(()=>{ke.current=!0})},[]),r.useEffect(()=>{var s;function T(){if(!d.current||!v)return;const E=document.activeElement;if(Oe(E)||ae.current){var y;const x=((y=window.visualViewport)==null?void 0:y.height)||0,U=window.innerHeight;let j=U-x;const J=d.current.getBoundingClientRect().height||0,Y=J>U*.8;Ee.current||(Ee.current=J);const ee=d.current.getBoundingClientRect().top;if(Math.abs(Pe.current-j)>60&&(ae.current=!ae.current),o&&o.length>0&&ue&&oe){const Q=ue[oe]||0;j+=Q}if(Pe.current=j,J>x||ae.current){const Q=d.current.getBoundingClientRect().height;let X=Q;Q>x&&(X=x-(Y?ee:Me)),D?d.current.style.height=`${Q-Math.max(j,0)}px`:d.current.style.height=`${Math.max(X,x-ee)}px`}else Ct()||(d.current.style.height=`${Ee.current}px`);o&&o.length>0&&!ae.current?d.current.style.bottom="0px":d.current.style.bottom=`${Math.max(j,0)}px`}}return(s=window.visualViewport)==null||s.addEventListener("resize",T),()=>{var E;return(E=window.visualViewport)==null?void 0:E.removeEventListener("resize",T)}},[oe,o,ue]);function ce(s){mt(),p?.(),s||q(!1),setTimeout(()=>{o&&Ne(o[0])},_.DURATION*1e3)}function ze(){if(!d.current)return;const s=document.querySelector("[data-vaul-drawer-wrapper]"),T=ve(d.current,c);A(d.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${_.DURATION}s cubic-bezier(${_.EASE.join(",")})`}),A(re.current,{transition:`opacity ${_.DURATION}s cubic-bezier(${_.EASE.join(",")})`,opacity:"1"}),w&&T&&T>0&&z&&A(s,{borderRadius:`${Qe}px`,overflow:"hidden",...C(c)?{transform:`scale(${he()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${he()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${_.DURATION}s`,transitionTimingFunction:`cubic-bezier(${_.EASE.join(",")})`},!0)}function mt(){!Z||!d.current||(d.current.classList.remove(Ce),le.current=!1,ie(!1),Se.current=new Date)}function pt(s){if(!Z||!d.current)return;d.current.classList.remove(Ce),le.current=!1,ie(!1),Se.current=new Date;const T=ve(d.current,c);if(!s||!Be(s.target,!1)||!T||Number.isNaN(T)||be.current===null)return;const E=Se.current.getTime()-be.current.getTime(),y=Re.current-(C(c)?s.pageY:s.pageX),x=Math.abs(y)/E;if(x>.05&&($e(!0),setTimeout(()=>{$e(!1)},200)),o){st({draggedDistance:y*(c==="bottom"||c==="right"?1:-1),closeDrawer:ce,velocity:x,dismissible:g}),i?.(s,!0);return}if(c==="bottom"||c==="right"?y>0:y<0){ze(),i?.(s,!0);return}if(x>Je){ce(),i?.(s,!1);return}var U;const j=Math.min((U=d.current.getBoundingClientRect().height)!=null?U:0,window.innerHeight);var J;const Y=Math.min((J=d.current.getBoundingClientRect().width)!=null?J:0,window.innerWidth),ee=c==="left"||c==="right";if(Math.abs(T)>=(ee?Y:j)*R){ce(),i?.(s,!1);return}i?.(s,!0),ze()}r.useEffect(()=>(z&&(A(document.documentElement,{scrollBehavior:"auto"}),pe.current=new Date),()=>{zt(document.documentElement,"scrollBehavior")}),[z]);function ht(s){const T=s?(window.innerWidth-te)/window.innerWidth:1,E=s?-te:0;Te.current&&window.clearTimeout(Te.current),A(d.current,{transition:`transform ${_.DURATION}s cubic-bezier(${_.EASE.join(",")})`,transform:C(c)?`scale(${T}) translate3d(0, ${E}px, 0)`:`scale(${T}) translate3d(${E}px, 0, 0)`}),!s&&d.current&&(Te.current=setTimeout(()=>{const y=ve(d.current,c);A(d.current,{transition:"none",transform:C(c)?`translate3d(0, ${y}px, 0)`:`translate3d(${y}px, 0, 0)`})},500))}function gt(s,T){if(T<0)return;const E=(window.innerWidth-te)/window.innerWidth,y=E+T*(1-E),x=-te+T*te;A(d.current,{transform:C(c)?`scale(${y}) translate3d(0, ${x}px, 0)`:`scale(${y}) translate3d(${x}px, 0, 0)`,transition:"none"})}function wt(s,T){const E=C(c)?window.innerHeight:window.innerWidth,y=T?(E-te)/E:1,x=T?-te:0;T&&A(d.current,{transition:`transform ${_.DURATION}s cubic-bezier(${_.EASE.join(",")})`,transform:C(c)?`scale(${y}) translate3d(0, ${x}px, 0)`:`scale(${y}) translate3d(${x}px, 0, 0)`})}return r.useEffect(()=>{B||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[B]),r.createElement(St,{defaultOpen:W,onOpenChange:s=>{!g&&!s||(s?K(!0):ce(!0),q(s))},open:z},r.createElement(Ye.Provider,{value:{activeSnapPoint:it,snapPoints:o,setActiveSnapPoint:Ne,drawerRef:d,overlayRef:re,onOpenChange:n,onPress:dt,onRelease:pt,onDrag:ft,dismissible:g,shouldAnimate:ke,handleOnly:f,isOpen:z,isDragging:Z,shouldFade:He,closeDrawer:ce,onNestedDrag:gt,onNestedOpenChange:ht,onNestedRelease:wt,keyboardIsOpen:ae,modal:B,snapPointsOffset:ue,activeSnapPointIndex:oe,direction:c,shouldScaleBackground:w,setBackgroundColorOnScale:h,noBodyStyles:M,container:L,autoFocus:V}},t))}const nt=r.forwardRef(function({...e},n){const{overlayRef:t,snapPoints:a,onRelease:i,shouldFade:o,isOpen:w,modal:h,shouldAnimate:R}=me(),S=Ke(n,t),g=a&&a.length>0;if(!h)return null;const f=r.useCallback(m=>i(m),[i]);return r.createElement(Rt,{onMouseUp:f,ref:S,"data-vaul-overlay":"","data-vaul-snap-points":w&&g?"true":"false","data-vaul-snap-points-overlay":w&&o?"true":"false","data-vaul-animate":R?.current?"true":"false",...e})});nt.displayName="Drawer.Overlay";const rt=r.forwardRef(function({onPointerDownOutside:e,style:n,onOpenAutoFocus:t,...a},i){const{drawerRef:o,onPress:w,onRelease:h,onDrag:R,keyboardIsOpen:S,snapPointsOffset:g,activeSnapPointIndex:f,modal:m,isOpen:H,direction:I,snapPoints:D,container:B,handleOnly:p,shouldAnimate:$,autoFocus:M}=me(),[c,W]=r.useState(!1),G=Ke(i,o),u=r.useRef(null),b=r.useRef(null),v=r.useRef(!1),k=D&&D.length>0;Xt();const L=(l,F,z=0)=>{if(v.current)return!0;const q=Math.abs(l.y),N=Math.abs(l.x),K=N>q,Z=["bottom","right"].includes(F)?1:-1;if(F==="left"||F==="right"){if(!(l.x*Z<0)&&N>=0&&N<=z)return K}else if(!(l.y*Z<0)&&q>=0&&q<=z)return!K;return v.current=!0,!0};r.useEffect(()=>{k&&window.requestAnimationFrame(()=>{W(!0)})},[]);function V(l){u.current=null,v.current=!1,h(l)}return r.createElement(Et,{"data-vaul-drawer-direction":I,"data-vaul-drawer":"","data-vaul-delayed-snap-points":c?"true":"false","data-vaul-snap-points":H&&k?"true":"false","data-vaul-custom-container":B?"true":"false","data-vaul-animate":$?.current?"true":"false",...a,ref:G,style:g&&g.length>0?{"--snap-point-height":`${g[f??0]}px`,...n}:n,onPointerDown:l=>{p||(a.onPointerDown==null||a.onPointerDown.call(a,l),u.current={x:l.pageX,y:l.pageY},w(l))},onOpenAutoFocus:l=>{t?.(l),M||l.preventDefault()},onPointerDownOutside:l=>{if(e?.(l),!m||l.defaultPrevented){l.preventDefault();return}S.current&&(S.current=!1)},onFocusOutside:l=>{if(!m){l.preventDefault();return}},onPointerMove:l=>{if(b.current=l,p||(a.onPointerMove==null||a.onPointerMove.call(a,l),!u.current))return;const F=l.pageY-u.current.y,z=l.pageX-u.current.x,q=l.pointerType==="touch"?10:2;L({x:z,y:F},I,q)?R(l):(Math.abs(z)>q||Math.abs(F)>q)&&(u.current=null)},onPointerUp:l=>{a.onPointerUp==null||a.onPointerUp.call(a,l),u.current=null,v.current=!1,h(l)},onPointerOut:l=>{a.onPointerOut==null||a.onPointerOut.call(a,l),V(b.current)},onContextMenu:l=>{a.onContextMenu==null||a.onContextMenu.call(a,l),b.current&&V(b.current)}})});rt.displayName="Drawer.Content";const Zt=250,Jt=120,Qt=r.forwardRef(function({preventCycle:e=!1,children:n,...t},a){const{closeDrawer:i,isDragging:o,snapPoints:w,activeSnapPoint:h,setActiveSnapPoint:R,dismissible:S,handleOnly:g,isOpen:f,onPress:m,onDrag:H}=me(),I=r.useRef(null),D=r.useRef(!1);function B(){if(D.current){M();return}window.setTimeout(()=>{p()},Jt)}function p(){if(o||e||D.current){M();return}if(M(),!w||w.length===0){S||i();return}if(h===w[w.length-1]&&S){i();return}const W=w.findIndex(u=>u===h);if(W===-1)return;const G=w[W+1];R(G)}function $(){I.current=window.setTimeout(()=>{D.current=!0},Zt)}function M(){I.current&&window.clearTimeout(I.current),D.current=!1}return r.createElement("div",{onClick:B,onPointerCancel:M,onPointerDown:c=>{g&&m(c),$()},onPointerMove:c=>{g&&H(c)},ref:a,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...t},r.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},n))});Qt.displayName="Drawer.Handle";function en(e){const n=me(),{container:t=n.container,...a}=e;return r.createElement(Tt,{container:t,...a})}const ne={Root:Kt,Content:rt,Overlay:nt,Portal:en,Close:bt,Title:vt,Description:yt},tn="_overlay_rftuk_1",nn="_content_rftuk_9",rn="_sizeSm_rftuk_29",an="_sizeMd_rftuk_33",on="_sizeLg_rftuk_37",sn="_heightSm_rftuk_41",ln="_heightMd_rftuk_46",un="_heightLg_rftuk_51",cn="_radiusMd_rftuk_56",dn="_radiusLg_rftuk_60",fn="_radiusXl_rftuk_64",mn="_variantSoft_rftuk_68",pn="_header_rftuk_80",hn="_heading_rftuk_90",gn="_titleGroup_rftuk_96",wn="_title_rftuk_96",vn="_description_rftuk_109",yn="_closeButton_rftuk_115",bn="_body_rftuk_135",Sn="_footer_rftuk_143",O={overlay:tn,content:nn,sizeSm:rn,sizeMd:an,sizeLg:on,heightSm:sn,heightMd:ln,heightLg:un,radiusMd:cn,radiusLg:dn,radiusXl:fn,variantSoft:mn,header:pn,heading:hn,titleGroup:gn,title:wn,description:vn,closeButton:yn,body:bn,footer:Sn},Tn={sm:O.sizeSm,md:O.sizeMd,lg:O.sizeLg},Rn={md:O.radiusMd,lg:O.radiusLg,xl:O.radiusXl},En={sm:O.heightSm,md:O.heightMd,lg:O.heightLg};function Dn({open:e,onOpenChange:n,title:t,description:a,headerIcon:i,children:o,primaryActionLabel:w,secondaryActionLabel:h,primaryActionDisabled:R=!1,primaryActionLoading:S=!1,primaryActionIcon:g,primaryActionIconPosition:f="start",secondaryActionDisabled:m=!1,secondaryActionIcon:H,secondaryActionIconPosition:I="start",onPrimaryAction:D,onSecondaryAction:B,size:p="md",radius:$="xl",height:M="md"}){const c=[O.content,O.variantSoft,Tn[p],Rn[$],En[M]].filter(Boolean).join(" "),W=!!(w&&h),G=R||S,u=m||S,b=S?P.jsx(Dt,{size:"xs",tone:"onPrimary",ariaLabel:"処理中"}):g,v=k=>{n(k)};return P.jsx(ne.Root,{open:e,onOpenChange:v,children:P.jsxs(ne.Portal,{children:[P.jsx(ne.Overlay,{className:O.overlay}),P.jsxs(ne.Content,{className:c,children:[P.jsxs("div",{className:O.header,children:[P.jsxs("div",{className:O.heading,children:[i??null,P.jsxs("div",{className:O.titleGroup,children:[P.jsx(ne.Title,{className:O.title,children:t}),a?P.jsx(ne.Description,{className:O.description,children:a}):null]})]}),P.jsx(ne.Close,{asChild:!0,children:P.jsx("button",{type:"button",className:O.closeButton,"aria-label":"閉じる",children:P.jsx(_t,{size:18,strokeWidth:2.5})})})]}),P.jsx("div",{className:O.body,children:o}),W?P.jsxs("div",{className:O.footer,children:[h?P.jsx(Ue,{variant:"outline",radius:"pill",size:"sm",fullWidth:!0,onClick:B,disabled:u,icon:H,iconPosition:I,children:h}):null,w?P.jsx(Ue,{radius:"pill",fullWidth:!0,size:"sm",onClick:D,disabled:G,icon:b,iconPosition:f,"aria-busy":S,children:w}):null]}):null]})]})})}Dn.__docgenInfo={description:"",methods:[],displayName:"HalfModal",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},title:{required:!0,tsType:{name:"string"},description:""},description:{required:!1,tsType:{name:"string"},description:""},headerIcon:{required:!1,tsType:{name:"ReactNode"},description:""},children:{required:!0,tsType:{name:"ReactNode"},description:""},size:{required:!1,tsType:{name:"union",raw:"keyof typeof SIZE_CLASS",elements:[{name:"literal",value:"sm"},{name:"literal",value:"md"},{name:"literal",value:"lg"}]},description:"",defaultValue:{value:'"md"',computed:!1}},radius:{required:!1,tsType:{name:"union",raw:"keyof typeof RADIUS_CLASS",elements:[{name:"literal",value:"md"},{name:"literal",value:"lg"},{name:"literal",value:"xl"}]},description:"",defaultValue:{value:'"xl"',computed:!1}},height:{required:!1,tsType:{name:"union",raw:"keyof typeof HEIGHT_CLASS",elements:[{name:"literal",value:"sm"},{name:"literal",value:"md"},{name:"literal",value:"lg"}]},description:"",defaultValue:{value:'"md"',computed:!1}},primaryActionDisabled:{defaultValue:{value:"false",computed:!1},required:!1},primaryActionLoading:{defaultValue:{value:"false",computed:!1},required:!1},primaryActionIconPosition:{defaultValue:{value:'"start"',computed:!1},required:!1},secondaryActionDisabled:{defaultValue:{value:"false",computed:!1},required:!1},secondaryActionIconPosition:{defaultValue:{value:'"start"',computed:!1},required:!1}}};export{Dn as H};
